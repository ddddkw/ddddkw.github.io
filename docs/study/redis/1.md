# redis

在使用redis过程中都会有设置其定时删除的需求，那个实际上redis是如何实现这个功能的？

redis实际使用的是定期删除和惰性删除两种策略

定期删除：

redis会每秒进行十次过期扫描，过期扫描不会遍历容器中所有的key，而是采用一种特殊策略

- 从容器中随机20个key
- 删除这20个key中的已经过期的key
- 如果过期的key的比率超过1/4，那就重复步骤1

惰性删除：

当客户端试图访问key时，发现该key已超时会把此key从内存中删除



