# webpack搭建服务端渲染（SSR）工程

**前置操作**

项目中已经集成vue

主要需要安装vue和vue-loader

```javascript
npm i vue vue-loader -D


 plugins: [
        new VueLoaderPlugin()
 ],
 module: {
        rules: [
            {
                test: /\.vue$/,
                loader: "vue-loader"
            }
        ]
 }
```

**CSR（客户端渲染）：**

服务器只提供了一个空的HTML文档以及必要的JavaScript文件。所有的页面内容都是通过JavaScript在用户的浏览器中动态生成的

**SSR的基本概念：**

在服务端渲染中，当用户请求一个页面时，服务器会生成完整的HTML页面并将其发送到用户的浏览器。这意味着在页面加载完成时，用户已经可以看到页面的内容了

CSR的缺点，初始的由服务端提供的空HTML中无任何内容，需要通过引入js文件并对其解析来渲染页面导致页面加载速度较慢

浏览器的渲染流程：

- DOM树构建：渲染引擎使用HTML解析器（调用xml解析器）解析HTML文档，将各个HTML元素逐个转化为DOM结点
- CSSOM树构建：CSS解析器解析CSS，并将其转化为CSS对象，将这些CSS对象组装起来，构建CSSOM树
- 渲染树构建：DOM树和CSSOM树都构建完成以后，浏览器会根据这两棵树构建出一棵渲染树
- 页面布局：渲染树构建完毕以后，元素的位置关系以及需要应用的样式就确定了，这时浏览器会计算出所有元素的大小和绝对位置
- 页面绘制：页面布局完成之后，浏览器会将根据处理出来的结果，把每一个页面图层转换为像素，并将所有的媒体文件进行解码

SSR如何解决CSR中的缺陷：

SSR+CSR 服务端渲染（只渲染首屏）+ 客户端处理    同构开发

SSR：简单的示例为在拿到首屏的html通过插槽的方式将HTML中内容替换为直接展示的界面，服务器返回到浏览器的就是一个带有具体内容的首屏































