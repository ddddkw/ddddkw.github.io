{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Home","text":"\u201c\u83ab\u6101\u5343\u91cc\u8def\uff0c\u81ea\u6709\u5230\u6765\u98ce\u201d <ul> <li> <p> \u63a8\u8350\u6587\u7ae0</p> <ul> <li>js\u5b9e\u73b0\u6587\u4ef6\u6392\u5e8f</li> <li>V8\u5bf9\u8c61\u7ee7\u627f</li> </ul> </li> <li> <p> \u5f00\u53d1\u6559\u7a0b</p> <ul> <li>\u7b80\u6613\u7684\u4f4e\u4ee3\u7801\u5e73\u53f0</li> <li>echarts\u997c\u56fe\u504f\u79fb+\u56fe\u7247</li> </ul> </li> <li> <p> \u6e90\u7801\u5b66\u4e60</p> <ul> <li>vue\u6e90\u7801\u5b66\u4e60</li> <li>\u624b\u5199Promise</li> </ul> </li> <li> <p> \u5176\u4ed6\u5206\u4eab</p> <ul> <li>\u535a\u5ba2DEMO<sup>2</sup></li> <li> \u4e86\u89e3\u6211<sup>2</sup></li> </ul> </li> </ul> <p> \u672c\u7ad9\u5df2\u7ecf\u8fd0\u884c </p> <ol> <li> <p>\u98ce\u5439\u54ea\u9875\u8bfb\u54ea\u9875\u00a0\u21a9</p> </li> <li> <p>Which page is blown by the wind and which page to read\u00a0\u21a9\u21a9</p> </li> </ol>"},{"location":"about/","title":"\u8336\u4e00\u7897\uff0c\u9152\u4e00\u6a3d\uff0c\u7199\u7199\u6518\u6518\u4e00\u95f2\u4eba","text":"<p>About me</p> <ul> <li> \u6e05\u9192\uff0c\u81ea\u7531\uff0c\u6563\u6f2b\uff0c\u70ed\u7231\uff0c\u8ffd\u6c42</li> <li> \u559c\u6b22\u4e0d\u65ad\u63d0\u5347\u6280\u672f\u548c\u77e5\u8bc6\u9762</li> <li> \u5b66\u4ee5\u660e\u5fd7\uff0c\u5fd7\u5728~~ </li> <li> \u517b\u751f\u7231\u597d\u8005</li> </ul> <p>\u5c0f\u5c0f\u76ee\u6807\uff0c\u5f00\u51b2\uff01</p>"},{"location":"otherLink/","title":"\u53cb\u60c5\u94fe\u63a5","text":"<p>\u53cb\u94fe1\uff1a https://leoalasiga.github.io/</p> <p>\u53cb\u94fe2\uff1a https://sy.cpolar.cn/</p> <p>\u53cb\u94fe3\uff1a https://blog.wsleepybear.cn/</p> <p>\u53cb\u94fe4\uff1a https://www.wujunhao1024.com/</p> <p>\u4e2a\u4ebademo\uff1a http://peaceandlove.asia/</p>"},{"location":"tags/","title":"Tags","text":""},{"location":"homePage/buildPage/","title":"\u8bb0\u5f55mkdocs\u7684\u4f7f\u7528\u8fc7\u7a0b","text":"<p>\u6574\u4e2a\u8fc7\u7a0b\u7684\u524d\u63d0\u662f\u9700\u8981\u62e5\u6709\u4e00\u4e2agithub\u8d26\u53f7\uff08\u8fd9\u4e2a\u5bf9\u5404\u4f4d\u5f00\u53d1\u8005\u4eec\u5e94\u8be5\u662f\u4e00\u4ef6\u7b80\u7b80\u5355\u5355\u7684\u4e8b\u60c5\uff0c\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff09</p> <p>\u7136\u540e\u662f\u9700\u8981\u8fdb\u884c\u73af\u5883\u914d\u7f6e\uff0c\u5b89\u88c5Mkdocs\u662f\u9700\u8981\u914d\u7f6epython\u73af\u5883\u7684</p> <p>\u73af\u5883\u914d\u7f6e\u597d\u4ee5\u540e\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u5b89\u88c5Mkdocs\uff1a</p> <pre><code> pip install mkdocs\n</code></pre> <p>\u4e3a\u4e86\u4f7f\u7f51\u9875\u66f4\u52a0\u7684\u597d\u770b\uff0c\u53ef\u4ee5\u5b89\u88c5Materia For MkDocs\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u6307\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code> pip install mkdocs-material\n</code></pre>"},{"location":"homePage/buildPage/#\u4ed3\u5e93\u521b\u5efa","title":"\u4ed3\u5e93\u521b\u5efa","text":"<p>\u6211\u4eec\u9700\u8981\u5728github\u4e0b\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93\uff0c\u6ce8\u610f\u4ed3\u5e93\u9700\u8981\u4e3a\u516c\u5171\u7684</p> <p>\u540e\u7eed\u521b\u5efa\u9879\u76ee\uff0c\u8fde\u63a5\u8fdc\u7a0b\u4ed3\u5e93\u540e\uff0cpush\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7f16\u8bd1\u540e\uff0c\u5373\u53ef\u901a\u8fc7\u4e91\u7aef\u670d\u52a1\u5668\u7f51\u5740\u8fdb\u884c\u8bbf\u95ee</p>"},{"location":"homePage/buildPage/#\u521b\u5efamkdocs\u9879\u76ee","title":"\u521b\u5efaMkdocs\u9879\u76ee","text":"<p>\u5728\u4e0a\u6587\u6211\u4eec\u5b89\u88c5\u597dMkdocs\u4ee5\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5f88\u5feb\u7684\u5f00\u59cb\u4e00\u4e2a\u7b80\u5355\u7684\u9879\u76ee\uff1a</p> <pre><code>$ mkdocs new my-project\n$ cd my-project\n</code></pre> <p>\u521b\u5efa\u5b8c\u6210\u4ee5\u540e\uff0c\u8fd0\u884cmkdocs serve\u547d\u4ee4\u5c31\u53ef\u4ee5\u770b\u5230\u672c\u5730\u8fd0\u884c\u7684\u5730\u5740\uff0c\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u5c31\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u7b80\u6613\u7684Mkdocs\u9879\u76ee</p> <pre><code>$ mkdocs serve\nRunning at: http://127.0.0.1:8000/\n</code></pre>"},{"location":"homePage/pictures/","title":"mkdocs\u56fe\u7247\u7684\u7528\u6cd5","text":"<p>\u5728mkdocs\u4e2d\u4f7f\u7528\u56fe\u7247\u7684\u65f6\u5019\uff0c\u9700\u8981\u5c06\u5176\u8fdb\u884c\u5927\u5c0f\u8bbe\u7f6e\uff0c\u56fe\u7247\u5f62\u72b6\u5207\u5272\uff0c\u4f4d\u7f6e\u79fb\u52a8\u7b49\u7b49\u64cd\u4f5c\u3002\u76f4\u63a5\u4f7f\u7528markdown\u4e2d\u7684\u56fe\u7247\u63d2\u5165\u8bed\u6cd5\u65e0\u6cd5\u8fdb\u884c\u8fd9\u79cd\u64cd\u4f5c\uff0c\u800cmarkdown\u662f\u652f\u6301html\u548ccss\u8bed\u6cd5\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u76f8\u5173\u8bed\u6cd5\u8fdb\u884c\u56fe\u7247\u5f15\u5165\u548c\u6837\u5f0f\u8c03\u6574\u3002</p> <p>\u4f46\u662f\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4f1a\u6709\u4e00\u4e2a\u5c0f\u5c0f\u7684\u95ee\u9898\uff1a</p> <p>\u4f7f\u7528\u6b63\u5e38\u7684markdown\u8bed\u6cd5\u63d2\u5165\u56fe\u7247\u65f6\uff0c\u6d4f\u89c8\u5668\u7684\u56fe\u7247\u8bf7\u6c42\u5730\u5740\u4e3a\uff1ahttp://127.0.0.1:8000/mysite/assets/goals.png</p> <pre><code>![](assets/goals.png)\n</code></pre> <p>\u5f53\u4f7f\u7528html\u8bed\u6cd5\u5f15\u5165\u56fe\u7247\u65f6\uff0c\u6d4f\u89c8\u5668\u7684\u56fe\u7247\u8bf7\u6c42\u5730\u5740\u4e3a\uff1ahttp://127.0.0.1:8000/mysite/about/assets/header.png</p> <pre><code>&lt;img src=\"./assets/header.png\"/&gt;\n</code></pre> <p>\u5bf9\u6bd4\u53ef\u4ee5\u53d1\u73b0\uff0c\u8bf7\u6c42\u8def\u5f84\u4e2d\uff0c\u591a\u4e86\u4e00\u4e2aabout\uff0c\u8fd9\u4e2a\u8def\u5f84\u662fnav\u6807\u7b7e\u4e2d\u76f8\u5e94\u6dfb\u52a0\u7684\uff0c\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u6df1\u7a76\uff0c\u53ea\u8c08\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u6700\u521d\u662f\u60f3\u901a\u8fc7\u5728github\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ed3\u5e93\uff0c\u4e13\u95e8\u7528\u4e8e\u5b58\u653e\u56fe\u7247\uff0cimg\u4e2d\u7684src\u5c31\u53ef\u4ee5\u76f4\u63a5\u8bf7\u6c42\u4ed3\u5e93\u4e2d\u7684\u56fe\u7247\u5730\u5740\uff0c\u4f46\u662f\u4e0d\u540c\u7528\u6237\u4f7f\u7528\u65f6\uff0c\u5bf9github\u7684\u8bbf\u95ee\u7a33\u5b9a\u6027\u771f\u7684\u96be\u4ee5\u4fdd\u8bc1</p> <p>\u8fd9\u91cc\u63a8\u8350\u4e00\u4e2a\u7f51\u7ad9-https://www.helloimg.com/\uff0c\u8fdc\u7a0b\u56fe\u7247\u6258\u7ba1\u4ed3\u5e93\uff0c\u4e0a\u4f20\u540e\u53ef\u4ee5\u62ff\u5230\u56fe\u7247\u5b58\u653e\u5730\u5740\uff0c\u7528\u6237\u514d\u8d39\u4e00\u4e2aG\u7684\u5bb9\u91cf\uff0c\u4e00\u822c\u4e5f\u591f\u7528\u4e86</p> <pre><code>&lt;div style=\"text-align: center\"&gt;\n    &lt;img src=\"https://www.helloimg.com/i/2024/11/11/6731ffea847a0.png\" style=\"zoom:25%;border-radius: 50%\" /&gt;\n&lt;/div&gt;\n</code></pre> <p>\u4fbf\u53ef\u8f7b\u677e\u5b9e\u73b0\u56fe\u7247\u52a0\u8f7d</p>"},{"location":"products/blog/","title":"demo-\u4e2a\u4eba\u535a\u5ba2","text":"<p>\u505a\u8fd9\u4e2a\u7684\u521d\u8877\u662f\u60f3\u642d\u5efa\u4e00\u4e2a\u4e2a\u4eba\u7684\u6280\u672f\u535a\u5ba2\u5e73\u53f0\uff0c\u90e8\u7f72\u5728\u963f\u91cc\u4e91\u670d\u52a1\u5668\u4e0a\uff0c\u901a\u8fc7\u57df\u540d\u8fdb\u884c\u8bbf\u95ee\u3002</p> <p>\u540e\u9762\u53d1\u73b0\u670d\u52a1\u5668\u7eed\u8d39\u6709\u70b9\u70b9\u8d35\uff0c\u6240\u4ee5\u679c\u65ad\u629b\u5f03\u4e86\uff08\u7a77\uff09\uff0c\u4f46\u662f\u914d\u5957\u524d\u540e\u7aef\u4ee3\u7801\u8fd8\u662f\u90fd\u5728\u7684\u3002</p> <p>\u9996\u9875\uff1a</p> <p>\u505a\u4e86\u70b9\u5c0f\u5c0f\u7684\u8bbe\u8ba1\uff0c\u6574\u4e2a\u9875\u9762\u90fd\u662f\u52a8\u6001\u7684\u6548\u679c</p> <p></p> <p>\u8fdb\u5165blog\u9875\u9762\uff1a</p> <p>\u53f3\u4e0a\u89d2\u5206\u522b\u662f\u53e6\u5916\u4e00\u4e2ademo\u7684\u5730\u5740\uff0c\u8fdb\u5165\u7f16\u8f91blog\u9875\u9762\uff0c\u6709\u4e00\u4e2a\u5c0f\u5c0f\u7684\u8eab\u4efd\u6821\u9a8c\u4ee5\u53cagithub\u4ed3\u5e93\u5730\u5740  \u6587\u7ae0\u5177\u4f53\u5185\u5bb9\u53ef\u8fdb\u884c\u9884\u89c8</p> <p> \u8fdb\u5165\u7f16\u8f91\u9875\u9762\u65f6\u4f1a\u8fdb\u884c\u5c0f\u5c0f\u7684\u8eab\u4efd\u9a8c\u8bc1\uff0c\u9875\u9762\u4e0a\u7684\u4e00\u4e2a\u5c0f\u52a8\u7269\u662f\u6dfb\u52a0\u7684\u4e00\u4e2agif\uff0c\u4f1a\u5728\u9875\u9762\u4e2d\u4e0d\u65ad\u5730\u8fdb\u884c\u8df3\u52a8\u53d8\u6362\u4f4d\u7f6e</p> <p> \u8fdb\u5165\u7f16\u8f91\u9875\u9762\u540e\u53ef\u4ee5\u8fdb\u884c\u7f16\u8f91\uff0c\u5220\u9664\u548c\u65b0\u589e\u7684\u64cd\u4f5c</p> <p> \u65b0\u589e\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u7ecf\u5178\u7684\u9875\u9762</p> <p></p> <p>\u6700\u540e\u8d34\u4e00\u4e2agithub\u4ed3\u5e93\u5730\u5740-<code>[https://github.com/ddddkw/Beans_web](https://github.com/ddddkw/Beans_web)</code></p>"},{"location":"products/build/","title":"\u4e00\u4e2a\u7b80\u6613\u7684\u9875\u9762\u6784\u5efa\u5de5\u5177","text":""},{"location":"products/build/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>\u505a\u8fd9\u4e2ademo\u9879\u76ee\uff0c\u662f\u56e0\u4e3a\u81ea\u5df1\u62bd\u7a7a\u5b66\u4e60\u4e86\u4e00\u4e0breact\uff0c\u60f3\u7740\u505a\u4e00\u4e2a\u5c0f\u5c0f\u7684demo\u9879\u76ee\u719f\u6089\u4e00\u4e0b\u5bf9react\u7684\u638c\u63e1\u548c\u4f7f\u7528</p> <p>\u603b\u4f53\u9875\u9762\u5982\u4e0b\uff1a</p> <ul> <li>\u9875\u9762\u7ba1\u7406\uff1a\u5728\u6b64\u6a21\u5757\u4e0b\u53ef\u8fdb\u884c\u9875\u9762\u7684\u589e\u5220\u6539\u67e5\u7b49</li> <li>\u56fe\u7247\u7ba1\u7406\uff1a\u6b64\u6a21\u5757\u4e0b\u4e3b\u8981\u662f\u8fdb\u884c\u56fe\u7247\u7684\u7ba1\u7406\u9884\u89c8\u7b49\u529f\u80fd</li> <li>\u6570\u636e\u5e93\u7ba1\u7406\uff1a\u6b64\u6a21\u5757\u4e0b\u4e3b\u8981\u662f\u4e3a\u4e86\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u8868\u4ee5\u53ca\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7ba1\u7406</li> </ul> <p></p>"},{"location":"products/build/#\u9875\u9762\u7ba1\u7406","title":"\u9875\u9762\u7ba1\u7406","text":"<p>\u53ef\u901a\u8fc7\u65b0\u5efa\u9875\u9762\u8fdb\u5165\uff0c\u6b64\u9875\u9762\u4e0b\u53ef\u8fdb\u884c\u7ec4\u4ef6\u7684\u62d6\u62fd\u81f3\u4e2d\u95f4\u753b\u5e03\u4ee5\u53ca\u53f3\u4fa7\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u6837\u5f0f\u8c03\u6574</p> <p></p> <p>\u4fdd\u5b58\u540e\uff0c\u53ef\u5bf9\u62d6\u62fd\u540e\u4fdd\u5b58\u7684\u9875\u9762\u8fdb\u884c\u9884\u89c8</p> <p></p>"},{"location":"products/build/#\u56fe\u7247\u7ba1\u7406","title":"\u56fe\u7247\u7ba1\u7406","text":"<p>\u5728\u56fe\u7247\u7ba1\u7406\u90e8\u5206\uff0c\u4e3b\u8981\u8fdb\u884c\u56fe\u7247\u7684\u589e\u5220\u6539\u67e5\u548c\u9884\u89c8</p> <p></p> <p>\u9664\u6b64\u4e4b\u5916\u8fd8\u53ef\u8fdb\u884c\u9884\u89c8</p> <p></p>"},{"location":"products/build/#\u6570\u636e\u5e93\u7ba1\u7406","title":"\u6570\u636e\u5e93\u7ba1\u7406","text":"<p>\u6b64\u6a21\u5757\u4e0b\u4e3b\u8981\u662f\u4e3a\u4e86\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u8868\u4ee5\u53ca\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7ba1\u7406</p> <p></p> <p>\u53ef\u8fdb\u884c\u8868\u7684\u65b0\u5efa\uff0c\u6709\u70b9\u4effnavicate\u7684\u529f\u80fd</p> <p></p> <p>\u4e5f\u53ef\u5bf9\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220</p> <p></p> <p>\u6574\u4e2ademo\u9879\u76ee\u7684\u524d\u540e\u7aef\u90fd\u662f\u81ea\u5df1\u72ec\u81ea\u5b8c\u6210\uff0c\u540e\u7eed\u4f1a\u5728\u5f00\u53d1-\u524d\u7aef-\u4f4e\u4ee3\u7801\u5e73\u53f0\u4e0b\u8fdb\u884c\u5b8c\u6574\u7684\u5f00\u53d1\u6d41\u7a0b\u4e66\u5199</p> <p>github\u5730\u5740\uff1ahttps://github.com/ddddkw/tools_web</p>"},{"location":"products/shortLink/1/","title":"\u540e\u7aef\u4ee3\u7801\u521d\u59cb\u5316","text":"<p>\u8fd9\u4e00\u4e2a\u7cfb\u5217\u4e3b\u8981\u662f\u505a\u4e00\u4e2a\u9ad8\u6570\u636e\u5e76\u53d1\u4e0b\u573a\u666f\u4e0b\u7684\u77ed\u94fe\u5e73\u53f0\uff0c\u5728\u6587\u7ae0\u4e2d\u8bb0\u5f55\u4e00\u4e0b\u81ea\u5df1\u8e29\u7684\u5751\u4ee5\u53ca\u5f53\u4e2d\u81ea\u5df1\u4e0d\u719f\u6089\u7684\u70b9</p> <p>\u540e\u7aef\u6574\u4f53\u4f7f\u7528\u7684\u662f\u5fae\u670d\u52a1\uff0c\u5728\u7b2c\u4e00\u5929\u7684\u65f6\u5019\u641e\u4e86\u4e00\u4e0b\u901a\u7528\u7684\u5de5\u5177\u7c7b\u548c\u4e00\u4e9b\u516c\u7528\u7c7b\u7684\u5c01\u88c5\uff0c\u5305\u62ec\u4e00\u4e9bmysql\uff0credis\uff0cnacos\u7b49\u7684\u5b89\u88c5\uff08\u8fd9\u4e9b\u5c31\u4e0d\u4e00\u4e00\u8d58\u8ff0\u4e86\uff09\u3002</p>"},{"location":"products/shortLink/1/#\u4ee3\u7801\u751f\u6210\u5668","title":"\u4ee3\u7801\u751f\u6210\u5668","text":"<p>\u9996\u5148\u5206\u4eab\u4e00\u4e2a\u4e2a\u4eba\u89c9\u5f97\u6bd4\u8f83\u597d\u7528\u7684mybatis-plus\u7684</p> <pre><code>package org.example.db;\n\nimport com.baomidou.mybatisplus.annotation.DbType;\nimport com.baomidou.mybatisplus.annotation.IdType;\nimport com.baomidou.mybatisplus.generator.AutoGenerator;\nimport com.baomidou.mybatisplus.generator.config.DataSourceConfig;\nimport com.baomidou.mybatisplus.generator.config.GlobalConfig;\nimport com.baomidou.mybatisplus.generator.config.PackageConfig;\nimport com.baomidou.mybatisplus.generator.config.StrategyConfig;\nimport com.baomidou.mybatisplus.generator.config.rules.DateType;\nimport com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;\n\npublic class MyBatisPlusGenerator {\n\n    public static void main(String[] args) {\n        //1. \u5168\u5c40\u914d\u7f6e\n        GlobalConfig config = new GlobalConfig();\n        // \u662f\u5426\u652f\u6301AR\u6a21\u5f0f\n        config.setActiveRecord(true)\n                // \u4f5c\u8005 \n                .setAuthor(\"dkw\")\n                // \u751f\u6210\u8def\u5f84\uff0c\u6700\u597d\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0cwindow\u8def\u5f84\u662f\u4e0d\u4e00\u6837\u7684\n                //TODO  TODO  TODO  TODO\n                .setOutputDir(\"\u6587\u4ef6\u751f\u6210\u5730\u5740\")\n                // \u6587\u4ef6\u8986\u76d6\n                .setFileOverride(true)\n                // \u4e3b\u952e\u7b56\u7565\n                .setIdType(IdType.AUTO)\n\n                .setDateType(DateType.ONLY_DATE)\n                // \u8bbe\u7f6e\u751f\u6210\u7684service\u63a5\u53e3\u7684\u540d\u5b57\u7684\u9996\u5b57\u6bcd\u662f\u5426\u4e3aI\uff0c\u9ed8\u8ba4Service\u662f\u4ee5I\u5f00\u5934\u7684\n                .setServiceName(\"%sService\")\n\n                //\u5b9e\u4f53\u7c7b\u7ed3\u5c3e\u540d\u79f0\n                .setEntityName(\"%sDO\")\n\n                //\u751f\u6210\u57fa\u672c\u7684resultMap\n                .setBaseResultMap(true)\n\n                //\u4e0d\u4f7f\u7528AR\u6a21\u5f0f\n                .setActiveRecord(false)\n\n                //\u751f\u6210\u57fa\u672c\u7684SQL\u7247\u6bb5\n                .setBaseColumnList(true);\n\n        //2. \u6570\u636e\u6e90\u914d\u7f6e\n        DataSourceConfig dsConfig = new DataSourceConfig();\n        // \u8bbe\u7f6e\u6570\u636e\u5e93\u7c7b\u578b\n        dsConfig.setDbType(DbType.MYSQL)\n                .setDriverName(\"com.mysql.cj.jdbc.Driver\")\n                //TODO  TODO  TODO  TODO\n                .setUrl(\"\u6570\u636e\u5e93\u8fde\u63a5\u5730\u5740\")\n                .setUsername(\"\u8d26\u53f7\")\n                .setPassword(\"\u5bc6\u7801\");\n\n        //3. \u7b56\u7565\u914d\u7f6eglobalConfiguration\u4e2d\n        StrategyConfig stConfig = new StrategyConfig();\n\n        //\u5168\u5c40\u5927\u5199\u547d\u540d\n        stConfig.setCapitalMode(true)\n                // \u6570\u636e\u5e93\u8868\u6620\u5c04\u5230\u5b9e\u4f53\u7684\u547d\u540d\u7b56\u7565\n                .setNaming(NamingStrategy.underline_to_camel)\n\n                //\u4f7f\u7528lombok\n                .setEntityLombokModel(true)\n\n                //\u4f7f\u7528restcontroller\u6ce8\u89e3\n                .setRestControllerStyle(true)\n\n                // \u751f\u6210\u7684\u8868, \u652f\u6301\u591a\u8868\u4e00\u8d77\u751f\u6210\uff0c\u4ee5\u6570\u7ec4\u5f62\u5f0f\u586b\u5199\n                //TODO  TODO  TODO  TODO\n                .setInclude(\"account\",\"traffic\",\"traffic_task\");\n\n        //4. \u5305\u540d\u7b56\u7565\u914d\u7f6e\n        PackageConfig pkConfig = new PackageConfig();\n        pkConfig.setParent(\"org.example\")\n                .setMapper(\"mapper\")\n                .setService(\"service\")\n                .setController(\"controller\")\n                .setEntity(\"entity\")\n                .setXml(\"mapper\");\n\n        //5. \u6574\u5408\u914d\u7f6e\n        AutoGenerator ag = new AutoGenerator();\n        ag.setGlobalConfig(config)\n                .setDataSource(dsConfig)\n                .setStrategy(stConfig)\n                .setPackageInfo(pkConfig);\n\n        //6. \u6267\u884c\u64cd\u4f5c\n        ag.execute();\n        System.out.println(\"\u76f8\u5173\u4ee3\u7801\u751f\u6210\u5b8c\u6bd5\");\n    }\n\n}\n</code></pre>"},{"location":"products/shortLink/1/#\u4f9d\u8d56\u7248\u672c\u63a7\u5236","title":"\u4f9d\u8d56\u7248\u672c\u63a7\u5236","text":"<p>\u8fd9\u4e2a\u5bf9\u6211\u6765\u8bf4\u6bd4\u8f83\u4e0d\u592a\u719f\u6089\uff0c\u6240\u4ee5\u8bb0\u5f55\u4e00\u4e0b</p> <p>\u9996\u5148\u662f\u5728\u6700\u5916\u5c42\u505a\u5404\u4e2a\u4f9d\u8d56\u7684\u7248\u672c\u63a7\u5236</p> <pre><code>  &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n        &lt;!--   \u9650\u5b9a\u7248\u672c    --&gt;\n        &lt;spring.boot.version&gt;2.5.5&lt;/spring.boot.version&gt;\n        &lt;spring.cloud.version&gt;2020.0.4&lt;/spring.cloud.version&gt;\n        &lt;alibaba.cloud.version&gt;2021.1&lt;/alibaba.cloud.version&gt;\n\n        &lt;mybatisplus.boot.starter.version&gt;3.4.0&lt;/mybatisplus.boot.starter.version&gt;\n        &lt;lombok.version&gt;1.18.16&lt;/lombok.version&gt;\n        &lt;commons.lang3.version&gt;3.9&lt;/commons.lang3.version&gt;\n        &lt;commons.codec.version&gt;1.15&lt;/commons.codec.version&gt;\n\n        &lt;xxl-job.version&gt;2.3.0&lt;/xxl-job.version&gt;\n\n        &lt;aliyun.oss.version&gt;3.10.2&lt;/aliyun.oss.version&gt;\n\n        &lt;captcha.version&gt;1.1.0&lt;/captcha.version&gt;\n\n        &lt;redission.version&gt;3.10.1&lt;/redission.version&gt;\n        &lt;jwt.version&gt;0.7.0&lt;/jwt.version&gt;\n        &lt;sharding-jdbc.version&gt;4.1.1&lt;/sharding-jdbc.version&gt;\n\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;druid.version&gt;1.1.16&lt;/druid.version&gt;\n\n        &lt;!--\u8df3\u8fc7\u5355\u5143\u6d4b\u8bd5--&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n        &lt;docker.image.prefix&gt;dcloud&lt;/docker.image.prefix&gt;\n\n    &lt;/properties&gt;\n    &lt;!--\u9501\u5b9a\u7248\u672c \u8fd9\u91cc\u5e76\u4e0d\u4f1a\u5b89\u88c5\u4f9d\u8d56--&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!--https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.3.3.RELEASE--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies/Hoxton.SR8--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--https://mvnrepository.com/artifact/com.alibaba.cloud/spring-cloud-alibaba-dependencies/2.2.1.RELEASE--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${alibaba.cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!--mybatis plus\u548cspringboot\u6574\u5408--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${mybatisplus.boot.starter.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--https://mvnrepository.com/artifact/org.projectlombok/lombok/1.18.16--&gt;\n            &lt;!--scope=provided\uff0c\u8bf4\u660e\u5b83\u53ea\u5728\u7f16\u8bd1\u9636\u6bb5\u751f\u6548\uff0c\u4e0d\u9700\u8981\u6253\u5165\u5305\u4e2d, Lombok\u5728\u7f16\u8bd1\u671f\u5c06\u5e26Lombok\u6ce8\u89e3\u7684Java\u6587\u4ef6\u6b63\u786e\u7f16\u8bd1\u4e3a\u5b8c\u6574\u7684Class\u6587\u4ef6--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\n                &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;version&gt;${commons.lang3.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n            &lt;!--\u7528\u4e8e\u52a0\u5bc6--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n                &lt;version&gt;${commons.codec.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!--\u9a8c\u8bc1\u7801kaptcha\u4f9d\u8d56\u5305--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n                &lt;artifactId&gt;kaptcha-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${captcha.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!--\u963f\u91cc\u4e91oss--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n                &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n                &lt;version&gt;${aliyun.oss.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!-- JWT\u76f8\u5173 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                &lt;version&gt;${jwt.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!--\u5206\u5e03\u5f0f\u9501--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n                &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n                &lt;version&gt;${redission.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n\n            &lt;!--https://mvnrepository.com/artifact/org.apache.shardingsphere/sharding-jdbc-spring-boot-starter--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\n                &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${sharding-jdbc.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!-- https://mvnrepository.com/artifact/com.xuxueli/xxl-job-core --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\n                &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\n                &lt;version&gt;${xxl-job.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre> <p>\u5404\u4e2a\u6a21\u5757\u7531\u4e8e\u4f7f\u7528\u7684\u4f9d\u8d56\u57fa\u672c\u5927\u5dee\u4e0d\u5dee\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5728\u4e00\u4e2a\u516c\u7528\u6a21\u5757\u4e2d\u914d\u7f6e\u597d\u4f9d\u8d56\uff0c\u5728\u5176\u4ed6\u6a21\u5757\u4e2d\u76f4\u63a5\u5f15\u5165\u5373\u53ef</p> <p>\u516c\u7528\u6a21\u5757</p> <pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\u9879\u76ee\u4e2d\u6dfb\u52a0 spring-boot-starter--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\u6570\u636e\u5e93\u8fde\u63a5--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--mybatis plus--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\u5355\u5143\u6d4b\u8bd5--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--redis\u5ba2\u6237\u7aef--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n                    &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\u7528\u4e8e\u52a0\u5bc6--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JWT\u76f8\u5173 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--redisson\u5206\u5e03\u5f0f\u9501--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Hoxton.M2\u7248\u672c\u4e4b\u540e\u4e0d\u518d\u4f7f\u7528Ribbon\u800c\u662f\u4f7f\u7528spring-cloud-loadbalancer\uff0c\u6240\u4ee5\u4e0d\u5f15\u5165spring-cloud-loadbalancer\u4f1a\u62a5\u9519\uff0c\u6240\u4ee5\u52a0\u5165spring-cloud-loadbalancer\u4f9d\u8d56 \u5e76\u4e14\u5728nacos\u4e2d\u6392\u9664ribbon\u4f9d\u8d56\uff0c\u4e0d\u7136loadbalancer\u65e0\u6548 --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\u914d\u7f6e\u4e2d\u5fc3\uff0c \u7559\u5751\uff0c\u540e\u7eed\u7528\u7684\u65f6\u5019\u518d\u8bb2\uff0c\u89e3\u51b3\u65b9\u5f0f\uff0c\u770bspringboot\u5b98\u65b9\u6587\u6863\u7248\u672c\u66f4\u65b0\u8bf4\u660e--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--Feign\u8fdc\u7a0b\u8c03\u7528--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\u9650\u6d41\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--\u9650\u6d41\u6301\u4e45\u5316\u5230nacos--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.csp&lt;/groupId&gt;\n            &lt;artifactId&gt;sentinel-datasource-nacos&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--Springboot\u9879\u76ee\u6574\u5408spring-kafka\u4f9d\u8d56\u5305\u914d\u7f6e--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--\u5f15\u5165AMQP--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--spring cache\u4f9d\u8d56\u5305--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\n            &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.xuxueli/xxl-job-core --&gt;\n        &lt;!--\u5206\u5e03\u5f0f\u8c03\u5ea6--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\n            &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre> <p>\u5176\u4ed6\u6a21\u5757\u4e2d\u5f15\u5165</p> <pre><code>   &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;\u516c\u7528\u6a21\u5757\u540d&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;exclusions&gt; // \u7528\u4e8e\u6392\u9664\u4e00\u4e9b\u4e0d\u9700\u8981\u7684\u6a21\u5757\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\n                    &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>"},{"location":"products/shortLink/1/#\u516c\u7528\u7c7b\u5c01\u88c5","title":"\u516c\u7528\u7c7b\u5c01\u88c5","text":"<p>\u4e3b\u8981\u4ecb\u7ecd\u4e00\u4e0b\u5168\u5c40\u5f02\u5e38\u5904\u7406\u7c7b\uff0c\u56e0\u4e3a\u81ea\u5df1\u5bf9\u8fd9\u4e2a\u4e4b\u524d\u4e0d\u592a\u719f\u6089\u3002\u6211\u7406\u89e3\u4e0b\u7684\u4e3a\u4ec0\u4e48\u8981\u5c01\u88c5\u5168\u5c40\u5f02\u5e38\u5904\u7406\u7c7b\uff0c\u539f\u59cb\u7684\u5f02\u5e38\u6240\u629b\u51fa\u7684\u4e00\u4e9b\u4fe1\u606f\u5176\u5b9e\u4e0d\u592a\u5bb9\u6613\u5b9a\u4f4d\u95ee\u9898\uff0c\u5c01\u88c5\u5168\u5c40\u5f02\u5e38\u5904\u7406\u7c7b\u5c06\u95ee\u9898\u53d1\u751f\u5728\u5177\u4f53\u7684\u90a3\u4e00\u90e8\u5206\u4e1a\u52a1\u4e0b\u66b4\u9732\u51fa\u6765\uff0c\u65b9\u4fbf\u6392\u67e5\u5b9a\u4f4d\u3002</p> <p>\u5168\u5c40\u5f02\u5e38\u5904\u7406\u7c7b</p> <pre><code>package org.example.exception;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.example.utils.JsonData;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n/**\n * \u5168\u5c40\u5f02\u5e38\u5904\u7406\u7c7b\uff0c\u7528\u4e8e\u7edf\u4e00\u5904\u7406 Controller \u5c42\u629b\u51fa\u7684\u5f02\u5e38\uff0c\u5e76\u8fd4\u56de\u7edf\u4e00\u683c\u5f0f\u7684 JSON \u54cd\u5e94\n */\n//@ControllerAdvice\n@RestControllerAdvice\n@Slf4j\npublic class CustomExceptionHandler {\n// ControllerAdvice-\u5b9a\u4e49\u5168\u5c40\u7684\u5f02\u5e38\u5904\u7406\u903b\u8f91\u4ee5\u53ca\u6570\u636e\u7ed1\u5b9a\u903b\u8f91\uff0c\u5bf9\u63a7\u5236\u5668\u5c42\u9762\u51fa\u73b0\u7684\u5f02\u5e38\u8fdb\u884c\u7edf\u4e00\u5904\u7406\n// RestControllerAdvice-\u5728 RESTful API \u4e2d\uff0c\u5bf9\u5f02\u5e38\u8fdb\u884c\u7edf\u4e00\u5904\u7406\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u9519\u8bef\u54cd\u5e94\n// JsonData\u5c31\u662f\u81ea\u5b9a\u4e49\u7684\u63a5\u53e3\u8fd4\u56de\u7ed3\u679c\u5c01\u88c5\u65b9\u6cd5\n    @ExceptionHandler(value = Exception.class) // \u6355\u83b7\u6240\u6709\u7c7b\u578b\u7684\u5f02\u5e38\uff08Exception.class\uff09\n    public JsonData handler(Exception e) {\n        //\u4e1a\u52a1\u5f02\u5e38\uff08BizException\uff09\uff1a\n        //\u82e5\u6355\u83b7\u7684\u5f02\u5e38\u662fBizException\u7c7b\u578b\uff0c\u4ece\u5f02\u5e38\u4e2d\u63d0\u53d6\u9519\u8bef\u7801\uff08code\uff09\u548c\u9519\u8bef\u4fe1\u606f\uff08msg\uff09\u3002\n        //\u901a\u8fc7throw new BizException()\u629b\u51fa\u4e1a\u52a1\u5f02\u5e38\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u8981\u81ea\u5df1\u5c01\u88c5BizException\u7c7b-\u9700\u8981\u81ea\u5b9a\u4e49\u4e1a\u52a1\u5f02\u5e38code\u548c\u4fe1\u606f\n        //\u4f7f\u7528JsonData.buildCodeAndMsg()\u65b9\u6cd5\u5c01\u88c5\u6210\u81ea\u5b9a\u4e49\u7684 JSON \u54cd\u5e94\u7ed3\u6784\u3002\n        //\u65e5\u5fd7\u8bb0\u5f55\u9519\u8bef\u8be6\u60c5\uff08\u4f7f\u7528log.error\uff09\u3002\n        //\u7cfb\u7edf\u5f02\u5e38\uff08\u5176\u4ed6\u5f02\u5e38\uff09\uff1a\n        //\u82e5\u6355\u83b7\u7684\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u5f02\u5e38\uff08\u5982\u6570\u636e\u5e93\u5f02\u5e38\u3001\u7a7a\u6307\u9488\u5f02\u5e38\u7b49\uff09\uff0c\u7edf\u4e00\u8fd4\u56de \u201c\u7cfb\u7edf\u5f02\u5e38\u201d \u9519\u8bef\u4fe1\u606f\u3002\n        //\u4f7f\u7528JsonData.buildError()\u65b9\u6cd5\u5c01\u88c5\u9519\u8bef\u54cd\u5e94\u3002\n        //\u65e5\u5fd7\u8bb0\u5f55\u5b8c\u6574\u7684\u5f02\u5e38\u5806\u6808\uff08\u4fbf\u4e8e\u6392\u67e5\u95ee\u9898\uff09\u3002\n        if (e instanceof BizException) {\n            BizException bizException = (BizException) e;\n            log.error(\"\u4e1a\u52a1\u5f02\u5e38{}\",e);\n            return JsonData.buildCodeAndMsg(bizException.getCode(),bizException.getMsg());\n        } else {\n            log.error(\"\u7cfb\u7edf\u5f02\u5e38{}\",e);\n            return JsonData.buildError(\"\u7cfb\u7edf\u5f02\u5e38{}\");\n        }\n    }\n}\n</code></pre> <p>\u5f02\u5e38\u5185\u90e8\u5904\u7406\u4ee5\u53ca\u679a\u4e3e\u7c7b</p> <pre><code>package org.example.exception;\n\nimport lombok.Data;\nimport org.example.enums.BizCodeEnum;\n\n@Data\npublic class BizException extends RuntimeException{\n\n    private int code;\n\n    private String msg;\n\n    public BizException(Integer code, String message) {\n        // \u5728 Java \u4e2d\uff0c\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\u5fc5\u987b\u5148\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u662f Java \u8bed\u8a00\u7684\u89c4\u5219\u3002\n        // \u8c03\u7528\u7236\u7c7bRuntimeException\u7684\u6784\u9020\u51fd\u6570\u5e76\u5c06message\u4f20\u5165\u8fdb\u53bb\n        super(message);\n        this.code = code;\n        this.msg = message;\n    }\n\n\n\n    public BizException(BizCodeEnum bizCodeEnum){\n        // \u8c03\u7528\u7236\u7c7bRuntimeException\u7684\u6784\u9020\u51fd\u6570\u5e76\u5c06message\u4f20\u5165\u8fdb\u53bb\n        super(bizCodeEnum.getMessage());\n        this.code = bizCodeEnum.getCode();\n        this.msg = bizCodeEnum.getMessage();\n    }\n}\n\n\n\npackage org.example.enums;\n\nimport lombok.Getter;\n\n/**\n * @Description \u72b6\u6001\u7801\u5b9a\u4e49\u7ea6\u675f\uff0c\u51716\u4f4d\u6570\uff0c\u524d\u4e09\u4f4d\u4ee3\u8868\u670d\u52a1\uff0c\u540e3\u4f4d\u4ee3\u8868\u63a5\u53e3\n *  \u6bd4\u5982 \u5546\u54c1\u670d\u52a1210,\u8d2d\u7269\u8f66\u662f220\u3001\u7528\u6237\u670d\u52a1230\uff0c403\u4ee3\u8868\u6743\u9650\n *\n **/\npublic enum BizCodeEnum {\n\n\n    /**\n     * \u77ed\u94fe\u5206\u7ec4\n     */\n    GROUP_REPEAT(23001,\"\u5206\u7ec4\u540d\u91cd\u590d\"),\n    GROUP_OPER_FAIL(23503,\"\u5206\u7ec4\u540d\u64cd\u4f5c\u5931\u8d25\"),\n    GROUP_NOT_EXIST(23404,\"\u5206\u7ec4\u4e0d\u5b58\u5728\"),\n\n\n\n    /**\n     *\u9a8c\u8bc1\u7801\n     */\n    CODE_TO_ERROR(240001,\"\u63a5\u6536\u53f7\u7801\u4e0d\u5408\u89c4\"),\n    CODE_LIMITED(240002,\"\u9a8c\u8bc1\u7801\u53d1\u9001\u8fc7\u5feb\"),\n    CODE_ERROR(240003,\"\u9a8c\u8bc1\u7801\u9519\u8bef\"),\n    CODE_CAPTCHA_ERROR(240101,\"\u56fe\u5f62\u9a8c\u8bc1\u7801\u9519\u8bef\"),\n\n\n\n    /**\n     * \u8d26\u53f7\n     */\n    ACCOUNT_REPEAT(250001,\"\u8d26\u53f7\u5df2\u7ecf\u5b58\u5728\"),\n    ACCOUNT_UNREGISTER(250002,\"\u8d26\u53f7\u4e0d\u5b58\u5728\"),\n    ACCOUNT_PWD_ERROR(250003,\"\u8d26\u53f7\u6216\u8005\u5bc6\u7801\u9519\u8bef\"),\n    ACCOUNT_UNLOGIN(250004,\"\u8d26\u53f7\u672a\u767b\u5f55\"),\n\n\n    /**\n     * \u77ed\u94fe\n     */\n    SHORT_LINK_NOT_EXIST(260404,\"\u77ed\u94fe\u4e0d\u5b58\u5728\"),\n\n\n    /**\n     * \u8ba2\u5355\n     */\n    ORDER_CONFIRM_PRICE_FAIL(280002,\"\u521b\u5efa\u8ba2\u5355-\u9a8c\u4ef7\u5931\u8d25\"),\n    ORDER_CONFIRM_REPEAT(280008,\"\u8ba2\u5355\u6076\u610f-\u91cd\u590d\u63d0\u4ea4\"),\n    ORDER_CONFIRM_TOKEN_EQUAL_FAIL(280009,\"\u8ba2\u5355\u4ee4\u724c\u7f3a\u5c11\"),\n    ORDER_CONFIRM_NOT_EXIST(280010,\"\u8ba2\u5355\u4e0d\u5b58\u5728\"),\n\n    /**\n     * \u652f\u4ed8\n     */\n    PAY_ORDER_FAIL(300001,\"\u521b\u5efa\u652f\u4ed8\u8ba2\u5355\u5931\u8d25\"),\n    PAY_ORDER_CALLBACK_SIGN_FAIL(300002,\"\u652f\u4ed8\u8ba2\u5355\u56de\u8c03\u9a8c\u8bc1\u7b7e\u5931\u8d25\"),\n    PAY_ORDER_CALLBACK_NOT_SUCCESS(300003,\"\u652f\u4ed8\u5b9d\u56de\u8c03\u66f4\u65b0\u8ba2\u5355\u5931\u8d25\"),\n    PAY_ORDER_NOT_EXIST(300005,\"\u8ba2\u5355\u4e0d\u5b58\u5728\"),\n    PAY_ORDER_STATE_ERROR(300006,\"\u8ba2\u5355\u72b6\u6001\u4e0d\u6b63\u5e38\"),\n    PAY_ORDER_PAY_TIMEOUT(300007,\"\u8ba2\u5355\u652f\u4ed8\u8d85\u65f6\"),\n\n\n    /**\n     * \u6d41\u63a7\u64cd\u4f5c\n     */\n    CONTROL_FLOW(500101,\"\u9650\u6d41\u63a7\u5236\"),\n    CONTROL_DEGRADE(500201,\"\u964d\u7ea7\u63a7\u5236\"),\n    CONTROL_AUTH(500301,\"\u8ba4\u8bc1\u63a7\u5236\"),\n\n\n    /**\n     * \u6d41\u91cf\u5305\u64cd\u4f5c\n     */\n    TRAFFIC_FREE_NOT_EXIST(600101,\"\u514d\u8d39\u6d41\u91cf\u5305\u4e0d\u5b58\u5728\uff0c\u8054\u7cfb\u5ba2\u670d\"),\n\n    TRAFFIC_REDUCE_FAIL(600102,\"\u6d41\u91cf\u4e0d\u8db3\uff0c\u6263\u51cf\u5931\u8d25\"),\n\n    TRAFFIC_EXCEPTION(600103,\"\u6d41\u91cf\u5305\u6570\u636e\u5f02\u5e38,\u7528\u6237\u65e0\u6d41\u91cf\u5305\"),\n\n\n    /**\n     * \u901a\u7528\u64cd\u4f5c\u7801\n     */\n\n    OPS_REPEAT(110001,\"\u91cd\u590d\u64cd\u4f5c\"),\n    OPS_NETWORK_ADDRESS_ERROR(110002,\"\u7f51\u7edc\u5730\u5740\u9519\u8bef\"),\n\n\n    /**\n     * \u6587\u4ef6\u76f8\u5173\n     */\n    FILE_UPLOAD_USER_IMG_FAIL(700101,\"\u7528\u6237\u5934\u50cf\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25\");\n\n    @Getter\n    private String message;\n\n    @Getter\n    private int code;\n\n    private BizCodeEnum(int code, String message){\n        this.code = code;\n        this.message = message;\n    }\n}\n</code></pre>"},{"location":"products/shortLink/2/","title":"\u901a\u7528\u5de5\u5177\u5c01\u88c5","text":"<p>restTemplate\u5c01\u88c5</p> <pre><code>package org.example.config;\n\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.config.Registry;\nimport org.apache.http.config.RegistryBuilder;\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\nimport org.apache.http.conn.socket.PlainConnectionSocketFactory;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.client.ClientHttpRequestFactory;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\n\n/**\n * @author dkw\n * RestTemplate bean,\u8bbf\u95ee RESTful \u670d\u52a1\u7684\u5ba2\u6237\u7aef\u5de5\u5177\n * RestTemplate\u6027\u80fd\u4f4e\uff0c\u901a\u8fc7\u8fde\u63a5\u6c60\u590d\u7528\u8fde\u63a5\uff0c\u51cf\u5c11 TCP \u63e1\u624b\u548c SSL \u5f00\u9500\uff0c\u63d0\u5347\u8bf7\u6c42\u54cd\u5e94\u901f\u5ea6\u3002\n */\n@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    public RestTemplate restTemplate(ClientHttpRequestFactory requestFactory){\n        return new RestTemplate(requestFactory);\n    }\n\n    @Bean\n    public ClientHttpRequestFactory simpleClientHttpRequestFactory(){\n        return new HttpComponentsClientHttpRequestFactory(httpClient());\n//        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n//        factory.setReadTimeout(1000);\n//        factory.setConnectTimeout(1000);\n//        return factory;\n    }\n\n    @Bean\n    public HttpClient httpClient(){\n        // 1. \u6ce8\u518cHTTP\u548cHTTPS\u534f\u8bae\u7684Socket\u5de5\u5382\n        Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                .register(\"http\", PlainConnectionSocketFactory.getSocketFactory())\n                .register(\"https\", SSLConnectionSocketFactory.getSocketFactory())\n                .build();\n\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager(registry);\n\n        // \u8fde\u63a5\u6c60\u6700\u5927\u662f500\u4e2a\u8fde\u63a5\n        connectionManager.setMaxTotal(500);\n        // MaxPerRoute\u662f\u5bf9maxtotal\u7684\u7ec6\u5206\uff0c\u6bcf\u4e2a\u4e3b\u673a\u7684\u5e76\u53d1\u6700\u5927\u662f300\uff0croute\u662f\u6307\u57df\u540d\n        connectionManager.setDefaultMaxPerRoute(300);\n\n        RequestConfig requestConfig = RequestConfig.custom()\n                // \u8fd4\u56de\u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\n                .setSocketTimeout(20000)\n                // \u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\n                .setConnectTimeout(10000)\n                // \u4ece\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\n                .setConnectionRequestTimeout(1000)\n                .build();\n\n        CloseableHttpClient closeableHttpClient = HttpClientBuilder.create().setDefaultRequestConfig(requestConfig)\n                .setConnectionManager(connectionManager)\n                .build();\n\n        return closeableHttpClient;\n    }\n}\n</code></pre> <p>\u7ebf\u7a0b\u6c60\u914d\u7f6e\uff1a\u7ebf\u7a0b\u6c60\u914d\u7f6e\u548c\u4e0a\u9762\u7684http\u8fde\u63a5\u6c60\u914d\u7f6e\u90fd\u9002\u7528\u4e8e\u63d0\u9ad8qps</p> <pre><code>package org.example.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\nimport java.util.concurrent.ThreadPoolExecutor;\n\n/**\n * \u7ebf\u7a0b\u6c60\u914d\u7f6e\n */\n@Configuration\n@EnableAsync\npublic class ThreadPoolTaskConfig {\n\n    @Bean(\"threadPoolTaskExecutor\")\n    public ThreadPoolTaskExecutor threadPoolTaskExecutor(){\n\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\n        // \u8bbe\u7f6e\u6838\u5fc3\u7ebf\u7a0b\u6570\uff0c\u7ebf\u7a0b\u6c60\u7ef4\u62a4\u7ebf\u7a0b\u7684\u6700\u5c11\u6570\u91cf\uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u52a1\u9700\u8981\u6267\u884c\uff0c\u4e5f\u4f1a\u4e00\u76f4\u5b58\u5728\n        threadPoolTaskExecutor.setCorePoolSize(8);\n        // \u963b\u585e\u961f\u5217\u7684\u6700\u5927\u503c,\u6838\u5fc3\u7ebf\u7a0b\u6ee1\u65f6\uff0c\u53ef\u521b\u5efa\u7684\u963b\u585e\u7ebf\u7a0b\u7684\u6700\u5927\u503c\n        threadPoolTaskExecutor.setQueueCapacity(1024);\n        // \u6700\u5927\u7ebf\u7a0b\u6c60\u6570\u91cf\uff0c\u5f53\u7ebf\u7a0b\u6570&gt;=CorePoolSize,\u4e14\u4efb\u52a1\u961f\u5217\u5df2\u6ee1\u65f6\uff0c\u7ebf\u7a0b\u6c60\u4f1a\u521b\u5efa\u51fa\u65b0\u7ebf\u7a0b\u6765\u5904\u7406\u4efb\u52a1\n        // \u4efb\u52a1\u961f\u5217\u5df2\u6ee1\u65f6\uff0c\u4e14\u5f53\u7ebf\u7a0b\u6570 = MaxPoolSize\uff0c\u7ebf\u7a0b\u6c60\u4f1a\u62d2\u7edd\u5904\u7406\u4efb\u52a1\u800c\u629b\u51fa\u5f02\u5e38\n        threadPoolTaskExecutor.setMaxPoolSize(64);\n        // \u7ebf\u7a0b\u7684\u5b58\u6d3b\u65f6\u957f\uff0c\u5f53\u7ebf\u7a0b\u7a7a\u95f2\u65f6\uff0c\u5141\u8bb8\u73b0\u6210\u7684\u7a7a\u95f2\u65f6\u95f4\u6700\u957f\u4e3a30s\uff0c\u8d85\u8fc730s\u5c31\u4f1a\u81ea\u52a8\u9500\u6bc1\n        threadPoolTaskExecutor.setKeepAliveSeconds(30);\n\n        threadPoolTaskExecutor.setThreadNamePrefix(\"\u81ea\u5b9a\u4e49\u7ebf\u7a0b\u6c60\");\n\n        //\u62d2\u7edd\u7b56\u7565\n        // CallerRunsPolicy\uff1a\u7531\u8c03\u7528\u8005\u7ebf\u7a0b\u5904\u7406\u4efb\u52a1\uff08\u9002\u7528\u4e8e\u4e0d\u5141\u8bb8\u4e22\u5931\u4efb\u52a1\u7684\u573a\u666f\uff09\u3002\n        // DiscardOldestPolicy\uff1a\u4e22\u5f03\u961f\u5217\u4e2d\u6700\u65e7\u7684\u4efb\u52a1\uff0c\u5c1d\u8bd5\u5904\u7406\u65b0\u4efb\u52a1\uff08\u9002\u7528\u4e8e\u5141\u8bb8\u90e8\u5206\u4efb\u52a1\u8d85\u65f6\u7684\u573a\u666f\uff09\u3002\n        // DiscardPolicy\uff1a\u9759\u9ed8\u4e22\u5f03\u4efb\u52a1\uff08\u8c28\u614e\u4f7f\u7528\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff09\u3002\n        //AbortPolicy,\u7ebf\u7a0b\u6c60\u7684\u9ed8\u8ba4\u7b56\u7565\uff0c\u4f1a\u76f4\u63a5\u4e22\u6389\u4efb\u52a1\u5e76\u4e14\u629b\u51faRejectExecutionException\u5f02\u5e38\n        threadPoolTaskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.AbortPolicy());\n        // \u521d\u59cb\u5316\u7ebf\u7a0b\u6c60\uff08\u5fc5\u987b\u8c03\u7528\uff0c\u5426\u5219\u914d\u7f6e\u4e0d\u751f\u6548\uff09\n        threadPoolTaskExecutor.initialize();\n\n        return threadPoolTaskExecutor;\n    }\n}\n</code></pre> <p>redisconfig\u914d\u7f6e\uff0c\u8fdb\u884c\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u914d\u7f6e\u7684\u65f6\u5019\u6ce8\u610f\uff0c\u522b\u8e29\u5751\u3002\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528StringRedisTemplate\u3002</p> <pre><code>package org.example.config;\n\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.core.StringRedisTemplate;\nimport org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\npublic class RedisTemplateConfiguration {\n\n    @Bean\n    public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        StringRedisTemplate template = new StringRedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        return template;\n    }\n\n    @Bean\n    // RedisConnectionFactory\uff1a\u8fde\u63a5\u5de5\u5382\uff0c\u7531 Spring \u81ea\u52a8\u914d\u7f6e\uff08\u5982 Lettuce \u6216 Jedis \u5b9e\u73b0\uff09\uff0c\u7528\u4e8e\u521b\u5efa Redis \u8fde\u63a5\u3002\n    public RedisTemplate&lt;Object,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory){\n        RedisTemplate&lt;Object,Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(redisConnectionFactory);\n\n        //\u914d\u7f6e\u5e8f\u5217\u5316\u89c4\u5219\uff0cJackson2JsonRedisSerializer\uff1a\u5c06 Value \u5e8f\u5217\u5316\u4e3a JSON \u683c\u5f0f\uff0c\u652f\u6301\u590d\u6742\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\n        Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        // \u5141\u8bb8\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u6240\u6709\u5c5e\u6027\uff08\u5305\u62ec\u79c1\u6709\u5b57\u6bb5\uff09\n        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n\n        jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n\n        //\u8bbe\u7f6ekey-value\u5e8f\u5217\u5316\u89c4\u5219\uff0cRedis \u5b58\u50a8\u6570\u636e\u65f6\u9700\u5c06\u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a\u5b57\u8282\u6570\u7ec4\uff0c\u4ee3\u7801\u4e2d\u914d\u7f6e\u4e86\u4e24\u79cd\u5e8f\u5217\u5316\u65b9\u5f0f\uff1a\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(jackson2JsonRedisSerializer);\n\n        //\u8bbe\u7f6ehash-value\u5e8f\u5217\u5316\u89c4\u5219\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(jackson2JsonRedisSerializer);\n\n        return redisTemplate;\n    }\n}\n</code></pre>"},{"location":"products/shortLink/3/","title":"\u5f15\u5165JWT\uff0c\u914d\u7f6e\u62e6\u622a\u5668","text":""},{"location":"products/shortLink/3/#\u751f\u6210jwt","title":"\u751f\u6210JWT","text":"<p>\u521b\u5efa\u4e00\u4e2a\u6784\u9020\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5404\u79cd\u4fe1\u606f</p> <pre><code>package org.example.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * @Builder-\u81ea\u52a8\u751f\u6210\u5efa\u9020\u8005\u6a21\u5f0f\u7684 API\uff0c\u7528\u4e8e\u5b9e\u4f8b\u5316\u5bf9\u8c61\u3002\n * @AllArgsConstructor-\u81ea\u52a8\u751f\u6210\u5168\u53c2\u6570\u6784\u9020\u51fd\u6570\uff08\u5305\u542b\u6240\u6709\u5b57\u6bb5\u7684\u6784\u9020\u51fd\u6570\uff09\u3002\n * @NoArgsConstructor-\u81ea\u52a8\u751f\u6210\u65e0\u53c2\u6784\u9020\u51fd\u6570\u3002\n */\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class LoginUser {\n\n    private String accountNo;\n\n    private String username;\n\n    private String headImg;\n\n    private String mail;\n\n    private String phone;\n\n    private String auth;\n\n}\n</code></pre> <p>\u4e00\u822c\u6211\u4eec\u662f\u767b\u5f55\u4ee5\u540e\uff0c\u6839\u636e\u7528\u6237\u7684\u5404\u79cd\u4fe1\u606f\u751f\u6210token</p> <pre><code>LoginUser loginUser = LoginUser.builder().build();\nBeanUtils.copyProperties(accountDO,loginUser);\n// \u751f\u6210token\nString token = JWTUtil.genreJsonWebToken(loginUser);\n</code></pre>"},{"location":"products/shortLink/3/#\u62e6\u622a\u5668","title":"\u62e6\u622a\u5668","text":"<p>\u901a\u8fc7\u5b9e\u73b0HandlerInterceptor\u63d0\u4f9b\u7684\u65b9\u6cd5\u5bf9\u63a5\u53e3\u6309\u7279\u5b9a\u7684\u6761\u4ef6\u8fdb\u884c\u62e6\u622a\uff0c\u4e3b\u8981\u903b\u8f91\u662f\u5728preHandle\u65b9\u6cd5</p> <pre><code>package org.example.interceptor;\n\nimport io.jsonwebtoken.Claims;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.http.HttpStatus;\nimport org.example.enums.BizCodeEnum;\nimport org.example.model.LoginUser;\nimport org.example.utils.CommonUtil;\nimport org.example.utils.JWTUtil;\nimport org.example.utils.JsonData;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.web.servlet.HandlerInterceptor;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * HandlerInterceptor\uff1aSpring MVC \u63d0\u4f9b\u7684\u62e6\u622a\u5668\u63a5\u53e3\uff0c\u7528\u4e8e\u5728\u8bf7\u6c42\u5904\u7406\u7684\u4e0d\u540c\u9636\u6bb5\uff08\u9884\u5904\u7406\u3001\u540e\u5904\u7406\u3001\u5b8c\u6210\u540e\uff09\u6dfb\u52a0\u81ea\u5b9a\u4e49\u903b\u8f91\u3002\n * LoginInterceptor\uff1a\u81ea\u5b9a\u4e49\u767b\u5f55\u9a8c\u8bc1\u62e6\u622a\u5668\uff0c\u81ea\u5b9a\u4e49\u5b9e\u73b0HandlerInterceptor\u4e2d\u7684preHandle\u3001postHandle\u3001afterCompletion\u4e09\u4e2a\u65b9\u6cd5\n * Spring MVC \u5728\u5904\u7406\u8bf7\u6c42\u65f6\uff0c\u4f1a\u89e6\u53d1 LoginInterceptor \u7684 preHandle \u65b9\u6cd5\u8fdb\u884c\u9a8c\u8bc1\u3002\n * \u9a8c\u8bc1\u901a\u8fc7\u540e\uff0c\u7528\u6237\u4fe1\u606f\u5b58\u5165 ThreadLocal\uff0c\u4f9b\u540e\u7eed\u7ec4\u4ef6\u4f7f\u7528\u3002\n * \u8bf7\u6c42\u5904\u7406\u5b8c\u6210\u540e\uff0cafterCompletion \u6e05\u7406 ThreadLocal\uff0c\u91ca\u653e\u8d44\u6e90\u3002\n */\n@Slf4j\npublic class LoginInterceptor implements HandlerInterceptor {\n\n    public ThreadLocal&lt;LoginUser&gt; threadLocal = new ThreadLocal&lt;&gt;();\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        if (HttpMethod.OPTIONS.toString().equalsIgnoreCase(request.getMethod())) {\n            response.setStatus(HttpStatus.SC_NO_CONTENT);\n            return true;\n        }\n        String token = request.getHeader(\"token\");\n        if (StringUtils.isBlank(token)) {\n            token = request.getParameter(\"token\");\n        }\n        if (StringUtils.isNotBlank(token)) {\n            Claims claims = JWTUtil.checkJWT(token);\n            if (claims==null) {\n                CommonUtil.sendJsonMessage(response, JsonData.buildResult(BizCodeEnum.ACCOUNT_UNLOGIN));\n                return false;\n            }\n\n            String accountNo = claims.get(\"account_no\").toString();\n            String headImg = claims.get(\"head_img\").toString();\n            String username = claims.get(\"username\").toString();\n            String mail = claims.get(\"mail\").toString();\n            String phone = claims.get(\"phone\").toString();\n            String auth = claims.get(\"auth\").toString();\n\n            LoginUser loginUser = LoginUser.builder().\n                    accountNo(accountNo)\n                    .username(username)\n                    .headImg(headImg)\n                    .mail(mail)\n                    .phone(phone).auth(auth).build();\n            // \u900f\u4f20\u7528\u6237\u4fe1\u606f\uff0c\u4e24\u79cd\u65b9\u5f0f\n            // request.setAttribute(\"user\",loginUser);\n            /**\n             * \u5c06\u7528\u6237\u4fe1\u606f\u5b58\u50a8\u5230\u5f53\u524d\u7ebf\u7a0b\u7684ThreadLocal\u4e2d\n             * \u540e\u7eed\u7684\u63a7\u5236\u5668 / \u670d\u52a1\u53ef\u901a\u8fc7threadLocal.get()\u83b7\u53d6\u5f53\u524d\u7528\u6237\n             */\n            threadLocal.set(loginUser);\n            return true;\n        }\n        return HandlerInterceptor.super.preHandle(request, response, handler);\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\n        HandlerInterceptor.super.postHandle(request, response, handler, modelAndView);\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);\n        threadLocal.remove();\n    }\n}\n</code></pre> <p>\u6392\u9664\u6389\u4e00\u4e9b\u4e0d\u9700\u8981\u8fdb\u884ctoken\u6821\u9a8c\u7b49\u6d41\u7a0b\u7684\u63a5\u53e3\uff0c\u6bd4\u5982\u767b\u5f55\u7b49\u63a5\u53e3</p> <pre><code>package org.example.config;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.example.interceptor.LoginInterceptor;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Slf4j\n@Configuration\npublic class InterceptorConfig implements WebMvcConfigurer {\n\n    /**\n     * \u8fd9\u91cc\u662f\u521d\u6b65\u62e6\u622a\uff0c\u6700\u7ec8\u4f1a\u8d70\u5230InterceptorConfig\u90a3\u8fb9\uff0c\u5982\u679c\u8fd4\u56detrue\u7684\u8bdd\u4f1a\u653e\u884c\uff0c\u5426\u5219\u4f1a\u5c06\u63a5\u53e3\u62e6\u622a\u6389\uff08\u6839\u636etoken\u8fdb\u884c\u5224\u65ad\u62e6\u622a\uff09\n     *\n     * @param registry\n     */\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new LoginInterceptor())\n                // \u6dfb\u52a0\u62e6\u622a\u7684\u8def\u5f84\n                .addPathPatterns(\"/account/**\",\"/traffic/**\")\n                // \u6392\u9664\u4e0d\u62e6\u622a\u7684\n                .excludePathPatterns(\"/account/register\",\"/account/login\",\"/notify/*\");\n    }\n}\n</code></pre>"},{"location":"products/shortLink/4/","title":"\u96c6\u6210sharding-jdbc","text":"<p>\u8fd9\u91cc\u96c6\u6210sharding-jdbc\u4e3b\u8981\u662f\u4e3a\u4e86\u505a\u5206\u5e93\u5206\u8868\uff0c\u8bb0\u5f55\u4e00\u4e0b\u96c6\u6210\u7684\u8fc7\u7a0b\u548c\u5751</p> <p>\u8fd9\u91cc\u7528\u5230\u7684\u7248\u672c\u53f7\u662f4.1.1\uff0c\u914d\u7f6e\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003\u5b98\u7f51\uff1ahttps://shardingsphere.apache.org/document/4.1.1/cn/quick-start/\u3002\u56e0\u4e3a\u4ed6\u4e0d\u540c\u7248\u672c\u95f4\u7684\u914d\u7f6e\u683c\u5f0f\u5dee\u8ddd\u8fd8\u633a\u5927\u7684\uff0c\u5efa\u8bae\u8fd8\u662f\u76f4\u63a5\u4f7f\u7528\u65b0\u7248\u672c\u7684\u3002</p> <pre><code> &lt;sharding-jdbc.version&gt;4.1.1&lt;/sharding-jdbc.version&gt;\n</code></pre> <p>\u5728\u6700\u521d\u7684\u65f6\u5019\u4f7f\u7528\u5b98\u7f51\u63a8\u8350\u7684\u8fdb\u884cyml\u6587\u4ef6\u914d\u7f6e\uff0c\u542f\u52a8\u65f6\u9047\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u65e0\u6cd5\u627e\u5230DataSourceConfig\u914d\u7f6e\uff0c\u8bd5\u4e86\u597d\u4e45\u8fd8\u662f\u6ca1\u80fd\u89e3\u51b3\uff0c\u7d22\u6027\u76f4\u63a5\u624b\u5199DataSourceConfig\u4e86\uff0c\u5176\u5b9e\u76f4\u63a5\u90a3\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u7528\u5c31\u76f4\u63a5\u53ef\u4ee5\u901a\u8fc7sharding-jdbc\u5206\u5e93\u5206\u8868\u4e86\uff0c\u5c31\u662f\u591a\u6570\u636e\u6e90\u7684\u65f6\u5019\u9700\u8981\u521b\u5efa\u591a\u4e2acreateDataSource().</p> <pre><code>package org.example.config;\n\nimport org.apache.shardingsphere.api.config.sharding.KeyGeneratorConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.ShardingRuleConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.TableRuleConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.strategy.InlineShardingStrategyConfiguration;\nimport org.apache.shardingsphere.shardingjdbc.api.ShardingDataSourceFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\n\n@Configuration\npublic class DataSourceConfig {\n\n    @Value(\"${datasourceConfig.url1}\")\n    private String dbUrl1;\n\n    @Value(\"${datasourceConfig.url2}\")\n    private String dbUrl2;\n\n    @Value(\"${datasourceConfig.username}\")\n    private String dbUser;\n\n    @Value(\"${datasourceConfig.password}\")\n    private String dbPassword;\n\n    private final SnowFlakeWordIdConfig snowFlakeWordIdConfig;\n\n    @Autowired\n    public DataSourceConfig(SnowFlakeWordIdConfig workerIdConfig) {\n        this.snowFlakeWordIdConfig = workerIdConfig;\n    }\n\n    @Bean\n    public DataSource dataSource() throws SQLException {\n        // 1. \u914d\u7f6e\u6570\u636e\u6e90\n        Map&lt;String, DataSource&gt; dataSourceMap = new HashMap&lt;&gt;();\n        // \u901a\u8fc7put\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u6570\u636e\u6e90\n        dataSourceMap.put(\"ds0\", createDataSource0());\n        dataSourceMap.put(\"ds1\", createDataSource1());\n\n        // 2. \u914d\u7f6e\u5206\u7247\u89c4\u5219\n        ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();\n         shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration());\n        // \u6dfb\u52a0\u591a\u4e2a\u8868\u7684\u5206\u7247\u89c4\u5219\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u65b9\u6cd5\n        // shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration1());\n        // shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration2());\n\n        Properties properties = new Properties();\n        // \u81ea\u5b9a\u4e49\u65b9\u6cd5\u751f\u6210workId\n        properties.setProperty(\"worker.id\", snowFlakeWordIdConfig.getWorkerId()); // \u8bbe\u7f6e\u5de5\u4f5c\u8282\u70b9ID\n\n        // \u914d\u7f6e\u4e3b\u952e\u751f\u6210\u89c4\u5219\n        KeyGeneratorConfiguration keyGeneratorConfiguration = new KeyGeneratorConfiguration(\n                \"SNOWFLAKE\",  // \u5185\u7f6e\u96ea\u82b1\u7b97\u6cd5\u7c7b\u578b\u751f\u6210id\n                \"id\",         // \u4e3b\u952e\u5b57\u6bb5\u540d\n                properties    // \u914d\u7f6e\u5c5e\u6027\n        );\n\n       // \u76f4\u63a5\u8bbe\u7f6e\u914d\u7f6e\u5bf9\u8c61\uff0c\u800c\u975e\u751f\u6210\u5668\u5b9e\u4f8b\n        shardingRuleConfig.setDefaultKeyGeneratorConfig(keyGeneratorConfiguration);\n\n        // 3. \u521b\u5efa ShardingSphere \u6570\u636e\u6e90\n        return ShardingDataSourceFactory.createDataSource(\n                dataSourceMap,\n                shardingRuleConfig,\n                new Properties()\n        );\n    }\n\n    private TableRuleConfiguration getTableRuleConfiguration() {\n        // \u4f7f\u7528\u6b63\u786e\u7684\u5206\u8868\u8868\u8fbe\u5f0f\n        TableRuleConfiguration result = new TableRuleConfiguration(\n                \"link_group\",\n                \"ds$-&gt;{0..1}.link_group\"\n        );\n        // \u8bbe\u7f6e\u5206\u5e93\u7b56\u7565\uff0c\u6839\u636eaccount_no\u5b57\u6bb5\u8fdb\u884c\u5206\u5e93\n        result.setDatabaseShardingStrategyConfig(\n                new InlineShardingStrategyConfiguration(\"account_no\", \"ds$-&gt;{account_no % 2}\")\n        );\n        return result;\n    }\n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n    private DataSource createDataSource0() {\n        com.zaxxer.hikari.HikariDataSource ds = new com.zaxxer.hikari.HikariDataSource();\n        ds.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        ds.setJdbcUrl(dbUrl1);\n        ds.setUsername(dbUser);\n        ds.setPassword(dbPassword);\n\n        // \u6dfb\u52a0\u8fde\u63a5\u6c60\u4f18\u5316\u914d\u7f6e [8](@ref)\n        ds.setMinimumIdle(5);                // \u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\u6570\n        ds.setMaximumPoolSize(20);           // \u6700\u5927\u8fde\u63a5\u6570\n        ds.setIdleTimeout(30000);            // \u7a7a\u95f2\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setMaxLifetime(1800000);          // \u8fde\u63a5\u6700\u5927\u751f\u547d\u5468\u671f\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTimeout(30000);      // \u8fde\u63a5\u83b7\u53d6\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setLeakDetectionThreshold(60000); // \u8fde\u63a5\u6cc4\u6f0f\u68c0\u6d4b\u9608\u503c\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTestQuery(\"SELECT 1\"); // \u8fde\u63a5\u9a8c\u8bc1\u67e5\u8be2\n        return ds;\n    }\n    private DataSource createDataSource1() {\n        com.zaxxer.hikari.HikariDataSource ds = new com.zaxxer.hikari.HikariDataSource();\n        ds.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        ds.setJdbcUrl(dbUrl2);\n        ds.setUsername(dbUser);\n        ds.setPassword(dbPassword);\n\n        // \u6dfb\u52a0\u8fde\u63a5\u6c60\u4f18\u5316\u914d\u7f6e [8](@ref)\n        ds.setMinimumIdle(5);                // \u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\u6570\n        ds.setMaximumPoolSize(20);           // \u6700\u5927\u8fde\u63a5\u6570\n        ds.setIdleTimeout(30000);            // \u7a7a\u95f2\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setMaxLifetime(1800000);          // \u8fde\u63a5\u6700\u5927\u751f\u547d\u5468\u671f\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTimeout(30000);      // \u8fde\u63a5\u83b7\u53d6\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setLeakDetectionThreshold(60000); // \u8fde\u63a5\u6cc4\u6f0f\u68c0\u6d4b\u9608\u503c\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTestQuery(\"SELECT 1\"); // \u8fde\u63a5\u9a8c\u8bc1\u67e5\u8be2\n        return ds;\n    }\n}\n</code></pre>"},{"location":"products/shortLink/5/","title":"\u96ea\u82b1\u7b97\u6cd5","text":"<p>\u96ea\u82b1\u7b97\u6cd5\u662f\u7531 Twitter \u5f00\u6e90\u7684\u4e00\u79cd\u5206\u5e03\u5f0f ID \u751f\u6210\u7b97\u6cd5\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u751f\u6210\u552f\u4e00\u3001\u6709\u5e8f\u3001\u9ad8\u5e76\u53d1\u7684 ID\u3002\u5176\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5c06\u4e00\u4e2a 64 \u4f4d\u7684\u957f\u6574\u578b\u6570\u5b57\u62c6\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u7ec4\u5408\u4e0d\u540c\u7ef4\u5ea6\u7684\u4fe1\u606f\uff08\u5982\u65f6\u95f4\u6233\u3001\u673a\u5668\u6807\u8bc6\u3001\u5e8f\u5217\u53f7\u7b49\uff09\uff0c\u4ece\u800c\u4fdd\u8bc1 ID \u7684\u552f\u4e00\u6027\u548c\u6709\u5e8f\u6027\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u662f\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u751f\u6210\u552f\u4e00id\u548c\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u5b57\u6bb5account_no\uff0c\u56e0\u4e3a\u4e0a\u7bc7\u6587\u7ae0\u4e2d\u63d0\u5230\uff0c\u7cfb\u7edf\u4e2d\u8bbe\u8ba1\u7684\u662f\u5206\u5e93\u5206\u8868\uff0c\u4e0d\u540c\u7684\u8868\u4e2d\u7684\u6570\u636e\u7684id\u9700\u8981\u4fdd\u8bc1\u552f\u4e00\u6027\u3002\u96ea\u82b1\u7b97\u6cd5\u662f\u6839\u636e\u65f6\u95f4\u6233\u3001\u673a\u5668 ID\u3001\u5e8f\u5217\u53f7\u7684\u7ec4\u5408\u786e\u4fdd\u5168\u5c40\u552f\u4e00\uff0c\u65e0\u51b2\u7a81\u98ce\u9669\uff0c\u7b26\u5408\u6211\u4eec\u7684\u573a\u666f\u3002account_no\u662f\u56e0\u4e3a\u6574\u4e2a\u8bbe\u8ba1\u4e2d\u6240\u6709\u7684\u5206\u5e93\u5206\u8868\u90fd\u662f\u4ee5\u8fd9\u4e2a\u5b57\u6bb5\u4e3a\u4f9d\u636e\u7684\uff0c\u5c06\u76f8\u540c\u8d26\u53f7\u4e0b\u7684\u76f8\u5173\u6570\u636e\u653e\u5230\u56fa\u5b9a\u7684\u5e93\u548c\u8868\u4e2d\uff0c\u5728\u64cd\u4f5c\u6570\u636e\u65f6\u4f1a\u6bd4\u8f83\u65b9\u4fbf\u3002</p> <p>\u9488\u5bf9\u4e3b\u952eid\uff1asharding-jdbc\u914d\u7f6e\u4e2d\u53ef\u76f4\u63a5\u6307\u5b9a\u751f\u6210id\u5b57\u6bb5\u7684\u89c4\u5219</p> <pre><code>     KeyGeneratorConfiguration keyGeneratorConfiguration = new KeyGeneratorConfiguration(\n                \"SNOWFLAKE\",  // \u5185\u7f6e\u96ea\u82b1\u7b97\u6cd5\u7c7b\u578b\u751f\u6210id\n                \"id\",         // \u4e3b\u952e\u5b57\u6bb5\u540d\n                properties    // \u914d\u7f6e\u5c5e\u6027\n        );\n</code></pre> <p>\u5728\u751f\u6210\u8d26\u53f7\u65f6\uff0c\u8c03\u7528\u4e00\u4e0b\u5bf9\u5e94\u7684\u65b9\u6cd5\u5373\u53ef</p> <pre><code>// \u751f\u6210\u552f\u4e00\u7684\u8d26\u53f7\naccountDO.setAccountNo(IdUtil.generateSnowFlakeKey().toString());\n\npublic class IdUtil {\n\n    private static SnowflakeShardingKeyGenerator snowflakeShardingKeyGenerator = new SnowflakeShardingKeyGenerator();\n\n    // \u96ea\u82b1\u7b97\u6cd5\u751f\u6210\u5668\n    public static Comparable generateSnowFlakeKey(){\n        return snowflakeShardingKeyGenerator.generateKey();\n    }\n\n}\n</code></pre>"},{"location":"products/shortLink/6/","title":"\u4e0b\u5355\u6d88\u8d39\u903b\u8f91\u68b3\u7406","text":"<p>\u9996\u5148\u634b\u4e00\u4e0b\u6574\u4e2a\u7684\u903b\u8f91\uff1a</p> <ol> <li>\u7528\u6237\u901a\u8fc7\u4e0b\u5355\u754c\u9762\u8fdb\u884c\u8ba2\u5355\u521b\u5efa-\u4f20\u5165\u5fc5\u8981\u7684\u521b\u5efa\u8ba2\u5355\u7684\u5b57\u6bb5</li> <li>\u6821\u9a8c\u524d\u7aef\u4f20\u9012\u8fc7\u6765\u7684\u603b\u7684\u91d1\u989d\u662f\u5426\u6b63\u786e\uff08\u5176\u4e2d\u8981\u8003\u8651\u4f18\u60e0\u5238\u3001\u6253\u6298\u7b49\u90e8\u5206\uff09</li> <li>\u540c\u6b65\u751f\u6210\u8ba2\u5355\u4fe1\u606f\u548c\u652f\u4ed8\u4fe1\u606f\uff08\u8ba2\u5355\u4fe1\u606f\u76f4\u63a5\u843d\u5e93\uff09\uff0cmq\u521b\u5efa\u8ba2\u5355\u4fe1\u606f\uff08\u4f7f\u7528\u5ef6\u8fdf\u6d88\u606f\uff0c\u5ef6\u8fdf\u65f6\u95f4\u9700\u8981\u6bd4\u8ba2\u5355\u5b58\u5728\u6d88\u606f\u7565\u957f\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u5b58\u5728\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u7528\u6237\u8fd8\u53ef\u4ee5\u652f\u4ed8\u7684\u60c5\u51b5\uff09</li> <li>\u8c03\u7528\u652f\u4ed8\u6e20\u9053\u63a5\u53e3\uff0c\u8fd4\u56de\u652f\u4ed8\u4e8c\u7ef4\u7801\u548c\u8ba2\u5355\u53f7\uff0c\u901a\u8fc7\u652f\u4ed8\u56de\u8c03\u63a5\u53e3\u83b7\u53d6\u652f\u4ed8\u7ed3\u679c</li> <li>\u83b7\u53d6\u5230\u5bf9\u5e94\u7684\u652f\u4ed8\u7ed3\u679c\u540e\uff0c\u6839\u636e\u652f\u4ed8\u7ed3\u679c\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u5982\u652f\u4ed8\u6210\u529f\u5728\u901a\u8fc7mq\u5728\u7528\u6237\u4fa7\u589e\u52a0\u7528\u6237\u8d2d\u4e70\u7684\u6d41\u91cf\u5305</li> <li>\u6d88\u8d39\u5230\u5ef6\u8fdf\u6d88\u606f\u65f6\uff0c\u4f1a\u67e5\u770b\u8ba2\u5355\u72b6\u6001\uff0c\u7b97\u662f\u5bf9\u8ba2\u5355\u72b6\u6001\u7684\u4e00\u4e2a\u4e8c\u6b21\u786e\u8ba4\uff0c\u6839\u636e\u8ba2\u5355\u7684\u72b6\u6001\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406</li> </ol> <p>\u6574\u5957\u652f\u4ed8\u6d41\u7a0b\u5176\u5b9e\u6309\u7167\u5fae\u4fe1\u6216\u8005\u652f\u4ed8\u5b9d\u7684\u5bf9\u63a5\u6587\u6863\u8fdb\u884c\u5f00\u53d1\u5373\u53ef\u3002</p> <p>\u5728\u652f\u4ed8\u5b8c\u6210\u540e\u5bf9\u8d26\u6237\u589e\u52a0\u6d41\u91cf\u5305\u65f6\uff0c\u4f7f\u7528redis\u505a\u5206\u5e03\u5f0f\u9501\uff0c\u9632\u6b62\u91cd\u590d\u8fdb\u884c\u652f\u4ed8\u6210\u529f\u7684\u56de\u8c03</p>"},{"location":"products/shortLink/7/","title":"\u5206\u5e93\u5206\u8868\u81ea\u5b9a\u4e49\u7b56\u7565","text":"<p>\u9996\u5148\u634b\u4e00\u4e0b\u6574\u4f53\u7684\u5206\u5e93\u5206\u8868\u7684\u601d\u8def\uff1a</p> <p>\u9488\u5bf9link_group\u5206\u7ec4\u7684\u6570\u636e\uff0c\u6839\u636e\u7528\u6237\u7684account_no\u5b57\u6bb5\u8fdb\u884c\u5206\u5e93\uff0c\u524d\u9762\u6709\u63d0\u5230\u8fc7\u7528\u6237\u7684account_no\u5b57\u6bb5\u662f\u4e00\u4e32\u6570\u5b57\uff0c\u6240\u4ee5\u6839\u636e\u5176\u5bf92\u53d6\u4f59\u5f97\u5230\u7684\u7ed3\u679c\u8fdb\u884c\u5206\u5e93</p> <p>\u9488\u5bf9short_link\u77ed\u94fe\u7684\u6570\u636e\uff0c\u6839\u636e\u77ed\u94fe\u7801code\u8fdb\u884c\u5206\u5e93\u5206\u8868\uff0c\u5728\u8fdb\u884c\u77ed\u94fe\u7801\u751f\u6210\u7684\u65f6\u5019\u53ef\u4ee5\u5728\u5176\u524d\u540e\u5206\u522b\u6dfb\u52a0\u4e00\u4f4d\uff0c\u524d\u9762\u4e00\u4f4d\u7528\u4e8e\u6807\u8bc6\u5e93\u4f4d\uff0c\u540e\u9762\u4e00\u4f4d\u7528\u4e8e\u6807\u8bc6\u8868\u4f4d\u3002</p> <p>\u81f3\u4e8e\u5206\u5e93\u5206\u8868\u7684\u903b\u8f91\u5219\u662f\u5728DataSourceConfig\u6570\u636e\u6e90\u914d\u7f6e\u4e2d\u8fdb\u884c\u914d\u7f6e</p> <p>\u9996\u5148\u521b\u5efa\u4e24\u4e2a\u6570\u636e\u6e90\u914d\u7f6e</p> <pre><code>private DataSource createDataSource0() {\n=======\n# \u96c6\u6210sharding-jdbc\n\n\u8fd9\u91cc\u96c6\u6210sharding-jdbc\u4e3b\u8981\u662f\u4e3a\u4e86\u505a\u5206\u5e93\u5206\u8868\uff0c\u8bb0\u5f55\u4e00\u4e0b\u96c6\u6210\u7684\u8fc7\u7a0b\u548c\u5751\n\n\u8fd9\u91cc\u7528\u5230\u7684\u7248\u672c\u53f7\u662f4.1.1\uff0c\u914d\u7f6e\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003\u5b98\u7f51\uff1ahttps://shardingsphere.apache.org/document/4.1.1/cn/quick-start/\u3002\u56e0\u4e3a\u4ed6\u4e0d\u540c\u7248\u672c\u95f4\u7684\u914d\u7f6e\u683c\u5f0f\u5dee\u8ddd\u8fd8\u633a\u5927\u7684\uff0c\u5efa\u8bae\u8fd8\u662f\u76f4\u63a5\u4f7f\u7528\u65b0\u7248\u672c\u7684\u3002\n\n```java\n &lt;sharding-jdbc.version&gt;4.1.1&lt;/sharding-jdbc.version&gt;\n</code></pre> <p>\u5728\u6700\u521d\u7684\u65f6\u5019\u4f7f\u7528\u5b98\u7f51\u63a8\u8350\u7684\u8fdb\u884cyml\u6587\u4ef6\u914d\u7f6e\uff0c\u542f\u52a8\u65f6\u9047\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u65e0\u6cd5\u627e\u5230DataSourceConfig\u914d\u7f6e\uff0c\u8bd5\u4e86\u597d\u4e45\u8fd8\u662f\u6ca1\u80fd\u89e3\u51b3\uff0c\u7d22\u6027\u76f4\u63a5\u624b\u5199DataSourceConfig\u4e86\uff0c\u5176\u5b9e\u76f4\u63a5\u90a3\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u7528\u5c31\u76f4\u63a5\u53ef\u4ee5\u901a\u8fc7sharding-jdbc\u5206\u5e93\u5206\u8868\u4e86\uff0c\u5c31\u662f\u591a\u6570\u636e\u6e90\u7684\u65f6\u5019\u9700\u8981\u521b\u5efa\u591a\u4e2acreateDataSource().</p> <pre><code>package org.example.config;\n\nimport org.apache.shardingsphere.api.config.sharding.KeyGeneratorConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.ShardingRuleConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.TableRuleConfiguration;\nimport org.apache.shardingsphere.api.config.sharding.strategy.InlineShardingStrategyConfiguration;\nimport org.apache.shardingsphere.shardingjdbc.api.ShardingDataSourceFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\n\n@Configuration\npublic class DataSourceConfig {\n\n    @Value(\"${datasourceConfig.url1}\")\n    private String dbUrl1;\n\n    @Value(\"${datasourceConfig.url2}\")\n    private String dbUrl2;\n\n    @Value(\"${datasourceConfig.username}\")\n    private String dbUser;\n\n    @Value(\"${datasourceConfig.password}\")\n    private String dbPassword;\n\n    private final SnowFlakeWordIdConfig snowFlakeWordIdConfig;\n\n    @Autowired\n    public DataSourceConfig(SnowFlakeWordIdConfig workerIdConfig) {\n        this.snowFlakeWordIdConfig = workerIdConfig;\n    }\n\n    @Bean\n    public DataSource dataSource() throws SQLException {\n        // 1. \u914d\u7f6e\u6570\u636e\u6e90\n        Map&lt;String, DataSource&gt; dataSourceMap = new HashMap&lt;&gt;();\n        // \u901a\u8fc7put\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u6570\u636e\u6e90\n        dataSourceMap.put(\"ds0\", createDataSource0());\n        dataSourceMap.put(\"ds1\", createDataSource1());\n\n        // 2. \u914d\u7f6e\u5206\u7247\u89c4\u5219\n        ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();\n         shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration());\n        // \u6dfb\u52a0\u591a\u4e2a\u8868\u7684\u5206\u7247\u89c4\u5219\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u65b9\u6cd5\n        // shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration1());\n        // shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration2());\n\n        Properties properties = new Properties();\n        // \u81ea\u5b9a\u4e49\u65b9\u6cd5\u751f\u6210workId\n        properties.setProperty(\"worker.id\", snowFlakeWordIdConfig.getWorkerId()); // \u8bbe\u7f6e\u5de5\u4f5c\u8282\u70b9ID\n\n        // \u914d\u7f6e\u4e3b\u952e\u751f\u6210\u89c4\u5219\n        KeyGeneratorConfiguration keyGeneratorConfiguration = new KeyGeneratorConfiguration(\n                \"SNOWFLAKE\",  // \u5185\u7f6e\u96ea\u82b1\u7b97\u6cd5\u7c7b\u578b\u751f\u6210id\n                \"id\",         // \u4e3b\u952e\u5b57\u6bb5\u540d\n                properties    // \u914d\u7f6e\u5c5e\u6027\n        );\n\n       // \u76f4\u63a5\u8bbe\u7f6e\u914d\u7f6e\u5bf9\u8c61\uff0c\u800c\u975e\u751f\u6210\u5668\u5b9e\u4f8b\n        shardingRuleConfig.setDefaultKeyGeneratorConfig(keyGeneratorConfiguration);\n\n        // 3. \u521b\u5efa ShardingSphere \u6570\u636e\u6e90\n        return ShardingDataSourceFactory.createDataSource(\n                dataSourceMap,\n                shardingRuleConfig,\n                new Properties()\n        );\n    }\n\n    private TableRuleConfiguration getTableRuleConfiguration() {\n        // \u4f7f\u7528\u6b63\u786e\u7684\u5206\u8868\u8868\u8fbe\u5f0f\n        TableRuleConfiguration result = new TableRuleConfiguration(\n                \"link_group\",\n                \"ds$-&gt;{0..1}.link_group\"\n        );\n        // \u8bbe\u7f6e\u5206\u5e93\u7b56\u7565\uff0c\u6839\u636eaccount_no\u5b57\u6bb5\u8fdb\u884c\u5206\u5e93\n        result.setDatabaseShardingStrategyConfig(\n                new InlineShardingStrategyConfiguration(\"account_no\", \"ds$-&gt;{account_no % 2}\")\n        );\n        return result;\n    }\n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n    private DataSource createDataSource0() {\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/main\n        com.zaxxer.hikari.HikariDataSource ds = new com.zaxxer.hikari.HikariDataSource();\n        ds.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        ds.setJdbcUrl(dbUrl1);\n        ds.setUsername(dbUser);\n        ds.setPassword(dbPassword);\n\n        // \u6dfb\u52a0\u8fde\u63a5\u6c60\u4f18\u5316\u914d\u7f6e [8](@ref)\n        ds.setMinimumIdle(5);                // \u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\u6570\n        ds.setMaximumPoolSize(20);           // \u6700\u5927\u8fde\u63a5\u6570\n        ds.setIdleTimeout(30000);            // \u7a7a\u95f2\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setMaxLifetime(1800000);          // \u8fde\u63a5\u6700\u5927\u751f\u547d\u5468\u671f\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTimeout(30000);      // \u8fde\u63a5\u83b7\u53d6\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setLeakDetectionThreshold(60000); // \u8fde\u63a5\u6cc4\u6f0f\u68c0\u6d4b\u9608\u503c\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTestQuery(\"SELECT 1\"); // \u8fde\u63a5\u9a8c\u8bc1\u67e5\u8be2\n        return ds;\n    }\n    private DataSource createDataSource1() {\n        com.zaxxer.hikari.HikariDataSource ds = new com.zaxxer.hikari.HikariDataSource();\n        ds.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        ds.setJdbcUrl(dbUrl2);\n        ds.setUsername(dbUser);\n        ds.setPassword(dbPassword);\n\n        // \u6dfb\u52a0\u8fde\u63a5\u6c60\u4f18\u5316\u914d\u7f6e [8](@ref)\n        ds.setMinimumIdle(5);                // \u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\u6570\n        ds.setMaximumPoolSize(20);           // \u6700\u5927\u8fde\u63a5\u6570\n        ds.setIdleTimeout(30000);            // \u7a7a\u95f2\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setMaxLifetime(1800000);          // \u8fde\u63a5\u6700\u5927\u751f\u547d\u5468\u671f\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTimeout(30000);      // \u8fde\u63a5\u83b7\u53d6\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n        ds.setLeakDetectionThreshold(60000); // \u8fde\u63a5\u6cc4\u6f0f\u68c0\u6d4b\u9608\u503c\uff08\u6beb\u79d2\uff09\n        ds.setConnectionTestQuery(\"SELECT 1\"); // \u8fde\u63a5\u9a8c\u8bc1\u67e5\u8be2\n        return ds;\n    }\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n</code></pre> <p>\u6574\u4f53\u7684\u5206\u5e93\u5206\u8868\u903b\u8f91\u914d\u7f6e</p> <pre><code>        // 1. \u914d\u7f6e\u6570\u636e\u6e90\n        Map&lt;String, DataSource&gt; dataSourceMap = new HashMap&lt;&gt;();\n        // \u901a\u8fc7put\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u6570\u636e\u6e90\n        dataSourceMap.put(\"ds0\", createDataSource0());\n        dataSourceMap.put(\"ds1\", createDataSource1());\n\n        // 2. \u914d\u7f6e\u5206\u7247\u89c4\u5219\n        ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();\n        shardingRuleConfig.getTableRuleConfigs().add(getLinkGroupRuleConfiguration());\n        shardingRuleConfig.getTableRuleConfigs().add(getShortLinkRuleConfiguration());\n        // \u6dfb\u52a0\u591a\u4e2a\u8868\u7684\u5206\u7247\u89c4\u5219\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u65b9\u6cd5\n        // shardingRuleConfig.getTableRuleConfigs().add(getTableRuleConfiguration2());\n\n        Properties properties = new Properties();\n        // \u81ea\u5b9a\u4e49\u65b9\u6cd5\u751f\u6210workId\n        properties.setProperty(\"worker.id\", snowFlakeWordIdConfig.getWorkerId()); // \u8bbe\u7f6e\u5de5\u4f5c\u8282\u70b9ID\n\n        // \u914d\u7f6e\u4e3b\u952e\u751f\u6210\u89c4\u5219\n        KeyGeneratorConfiguration keyGeneratorConfiguration = new KeyGeneratorConfiguration(\n                \"SNOWFLAKE\",  // \u5185\u7f6e\u96ea\u82b1\u7b97\u6cd5\u7c7b\u578b\u751f\u6210id\n                \"id\",         // \u4e3b\u952e\u5b57\u6bb5\u540d\n                properties    // \u914d\u7f6e\u5c5e\u6027\n        );\n\n       // \u76f4\u63a5\u8bbe\u7f6e\u914d\u7f6e\u5bf9\u8c61\uff0c\u800c\u975e\u751f\u6210\u5668\u5b9e\u4f8b\n        shardingRuleConfig.setDefaultKeyGeneratorConfig(keyGeneratorConfiguration);\n\n        // 3. \u521b\u5efa ShardingSphere \u6570\u636e\u6e90\n        return ShardingDataSourceFactory.createDataSource(\n                dataSourceMap,\n                shardingRuleConfig,\n                new Properties()\n        );\n</code></pre> <p>\u9488\u5bf9LinkGroup\u548cShortLink\u7684\u5206\u5e93\u5206\u8868\u89c4\u5219</p> <pre><code>private TableRuleConfiguration getLinkGroupRuleConfiguration() {\n        // \u4f7f\u7528\u6b63\u786e\u7684\u5206\u8868\u8868\u8fbe\u5f0f\n        TableRuleConfiguration result = new TableRuleConfiguration(\n                \"link_group\",\n                \"ds$-&gt;{0..1}.link_group\"\n        );\n        // \u8bbe\u7f6e\u5206\u5e93\u7b56\u7565\uff0c\u6839\u636eaccount_no\u5b57\u6bb5\u8fdb\u884c\u5206\u5e93\n        result.setDatabaseShardingStrategyConfig(\n                new InlineShardingStrategyConfiguration(\"account_no\", \"ds$-&gt;{account_no % 2}\")\n        );\n        return result;\n    }\n\nprivate TableRuleConfiguration getShortLinkRuleConfiguration() {\n    StandardShardingStrategyConfiguration databaseShardingStrategy =\n        new StandardShardingStrategyConfiguration(\n        \"code\",\n        new CustomDBPreciseShardingAlgorithm()  // \u5b9e\u4f8b\u5316\u60a8\u7684\u81ea\u5b9a\u4e49\u5206\u5e93\u7b97\u6cd5\n    );\n    StandardShardingStrategyConfiguration tableShardingStrategy =\n        new StandardShardingStrategyConfiguration(\n        \"code\",\n        new CustomTablePreciseShardingAlgorithm()  // \u5b9e\u4f8b\u5316\u60a8\u7684\u81ea\u5b9a\u4e49\u5206\u5e93\u7b97\u6cd5\n    );\n    // \u5173\u952e\u4fee\u590d\uff1a\u4f7f\u7528\u6b63\u786e\u7684\u5206\u8868\u8868\u8fbe\u5f0f\n    TableRuleConfiguration result = new TableRuleConfiguration(\n        \"short_link\",\n        \"ds$-&gt;{0..1}.short_link_$-&gt;{0..1}\"\n    );\n    // \u8bbe\u7f6e\u5206\u5e93\u7b56\u7565\uff0c\u6839\u636e\u77ed\u94fe\u7801code\u5b57\u6bb5\u8fdb\u884c\u5206\u5e93\n    result.setDatabaseShardingStrategyConfig(\n        databaseShardingStrategy\n    );\n    // \u8bbe\u7f6e\u5206\u8868\u7b56\u7565\uff0c\u6839\u636e\u77ed\u94fe\u7801code\u5b57\u6bb5\u8fdb\u884c\u5206\u8868\n    result.setTableShardingStrategyConfig(\n        tableShardingStrategy\n    );\n    return result;\n}\n// ShortLink\u7684\u81ea\u5b9a\u4e49\u5206\u7247\u89c4\u5219\n// \u5206\u5e93\u89c4\u5219\npublic class CustomDBPreciseShardingAlgorithm implements PreciseShardingAlgorithm&lt;String&gt; {\n    /**\n     *\n     * @param collection \u6570\u636e\u6e90\u96c6\u5408\n     *                   \u5728\u5206\u5e93\u65f6\u503c\u4e3a\u6240\u6709\u5206\u7247\u5e93\u7684\u96c6\u5408 databaseNames\n     *                   \u5206\u8868\u65f6\u4e3a\u5bf9\u5e94\u5206\u5e93\u4e2d\u6240\u6709\u5206\u7247\u8868\u7684\u96c6\u5408 tablesNames\n     *                   \u5206\u5e93\u573a\u666f\uff1a\u503c\u4e3a\u6240\u6709\u5206\u7247\u5e93\u7684\u540d\u79f0\u96c6\u5408\uff08\u5982 [\"ds0\", \"ds1\", \"ds2\"]\uff09\u3002\n     *                   \u5206\u8868\u573a\u666f\uff1a\u503c\u4e3a\u5f53\u524d\u5206\u7247\u5e93\u4e2d\u6240\u6709\u5206\u7247\u8868\u7684\u540d\u79f0\u96c6\u5408\uff08\u5982 [\"t_order_0\", \"t_order_1\"]\uff09\u3002\n     * @param preciseShardingValue \u5206\u7247\u7684\u5c5e\u6027\n     *                             logicTableName\uff08\u903b\u8f91\u8868\u540d\uff0c\u5982 t_order\uff09\n     *                             columnName\uff08\u5206\u7247\u952e\u5b57\u6bb5\u540d\uff0c\u5982 short_code\uff09\n     *                             value\uff08\u5206\u7247\u952e\u7684\u5177\u4f53\u503c\uff0c\u5982 \"A123456\"\uff09\n     * @return\n     */\n    @Override\n    public String doSharding(Collection&lt;String&gt; collection, PreciseShardingValue&lt;String&gt; preciseShardingValue) {\n        // \u83b7\u53d6\u77ed\u94fe\u7801\u7b2c\u4e00\u4f4d\uff0c\u5373\u5e93\u4f4d\n        String codePrefix = preciseShardingValue.getValue().substring(0,1);\n        for (String targetName:collection) {\n            //\u83b7\u53d6\u5e93\u540d\u7684\u6700\u540e\u4e00\u4f4d\n            String targetNameSuffix = targetName.substring(targetName.length()-1);\n            if (codePrefix.equals(targetNameSuffix)){\n                return  targetName;\n            }\n        }\n        return null;\n    }\n}\n// \u5206\u8868\u89c4\u5219\npublic class CustomTablePreciseShardingAlgorithm implements PreciseShardingAlgorithm&lt;String&gt; {\n    /**\n     *\n     * @param availableTargetNames \u6570\u636e\u6e90\u96c6\u5408\n     *                   \u5728\u5206\u5e93\u65f6\u503c\u4e3a\u6240\u6709\u5206\u7247\u5e93\u7684\u96c6\u5408 databaseNames\n     *                   \u5206\u8868\u65f6\u4e3a\u5bf9\u5e94\u5206\u5e93\u4e2d\u6240\u6709\u5206\u7247\u8868\u7684\u96c6\u5408 tablesNames\n     *                   \u5206\u5e93\u573a\u666f\uff1a\u503c\u4e3a\u6240\u6709\u5206\u7247\u5e93\u7684\u540d\u79f0\u96c6\u5408\uff08\u5982 [\"ds0\", \"ds1\", \"ds2\"]\uff09\u3002\n     *                   \u5206\u8868\u573a\u666f\uff1a\u503c\u4e3a\u5f53\u524d\u5206\u7247\u5e93\u4e2d\u6240\u6709\u5206\u7247\u8868\u7684\u540d\u79f0\u96c6\u5408\uff08\u5982 [\"t_order_0\", \"t_order_1\"]\uff09\u3002\n     * @param shardingValue \u5206\u7247\u7684\u5c5e\u6027\n     *                             logicTableName\uff08\u903b\u8f91\u8868\u540d\uff0c\u5982 t_order\uff09\n     *                             columnName\uff08\u5206\u7247\u952e\u5b57\u6bb5\u540d\uff0c\u5982 short_code\uff09\n     *                             value\uff08\u5206\u7247\u952e\u7684\u5177\u4f53\u503c\uff0c\u5982 \"A123456\"\uff09\n     * @return\n     */\n    @Override\n    public String doSharding(Collection&lt;String&gt; availableTargetNames,\n                             PreciseShardingValue&lt;String&gt; shardingValue) {\n        // 1. \u83b7\u53d6\u5206\u7247\u952e\u503c\uff08\u77ed\u94fe\u7801\uff09\n        String code = shardingValue.getValue();\n\n        // 2. \u63d0\u53d6\u8868\u540e\u7f00\uff08\u5982\u53d6\u6700\u540e\u4e00\u4f4d\uff09\n        String tableSuffix = code.substring(code.length() - 1); // \u793a\u4f8b\uff1acode=\"ABC123\" \u2192 \"3\"\n\n        // 3. \u6784\u5efa\u76ee\u6807\u8868\u540d\u57fa\u7840\uff08\u903b\u8f91\u8868\u540d_\u540e\u7f00\uff09\n        String targetBaseName = shardingValue.getLogicTableName() + \"_\" + tableSuffix;\n\n        // 4. \u904d\u5386\u6240\u6709\u53ef\u7528\u7269\u7406\u8868\u540d\uff0c\u5339\u914d\u540e\u7f00\n        for (String physicalTable : availableTargetNames) {\n            // physicalTable \u683c\u5f0f\uff1ads0.short_link_1\n            if (physicalTable.endsWith(targetBaseName)) { // \u540e\u7f00\u5339\u914d\n                return physicalTable; // \u8fd4\u56de\u5b8c\u6574\u7269\u7406\u8868\u540d\n            }\n        }\n\n        throw new IllegalStateException(\"\u65e0\u6cd5\u8def\u7531\u5230\u5206\u7247\u8868\uff1a\" + code);\n    }\n}\n</code></pre> <p>\u5728\u8fdb\u884c\u5206\u5e93\u5206\u8868\u540e\uff0c\u4f1a\u6709\u51e0\u4e2a\u95ee\u9898\uff1b\u4e00\u662f\u5e93\u8868\u6269\u5bb9\u540e\uff0c\u6570\u636e\u5206\u5e03\u4e0d\u5747\u5300\u7684\u95ee\u9898\u3001\u4e8c\u662f\u5206\u5e93\u5206\u8868\u540e\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u65f6\u5982\u679c\u8fdb\u884c\u5168\u5e93\u8868\u67e5\u8be2\u7684\u8bdd\uff0c\u4f1a\u5f88\u8017\u8d39\u6027\u80fd</p> <p>\u9488\u5bf9\u95ee\u9898\u4e00\uff1a\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u662f\u589e\u52a0\u65b0\u5efa\u5e93\u8868\u7684\u6743\u91cd\u6bd4\uff0c\u53ef\u4ee5\u901a\u8fc7\u8d1f\u8f7d\u5747\u8861\u7aef\u5b9e\u73b0\uff0c\u4e5f\u53ef\u81ea\u5b9a\u4e49\u7b97\u6cd5\u5b9e\u73b0\u3002\u6211\u8fd9\u8fb9\u662f\u4f7f\u7528\u7684\u7b2c\u4e8c\u4e2a\u65b9\u6cd5</p> <p>\u5728\u8fdb\u884c\u5e93\u8868\u540d\u62fc\u63a5\u7684\u65f6\u5019\u662f\u968f\u673a\u8fd4\u56de\u6807\u8bc6\uff0c0/1\uff0c\u6839\u636e\u8fd4\u56de\u7684\u6807\u8bc6\u8fdb\u884c\u5e93\u8868\u540d\u7684\u62fc\u63a5\u3002\u589e\u52a0\u6743\u91cd\u6bd4\u7684\u8bdd\uff0c\u76f4\u63a5\u5728list\u4e2d\u65b0\u589e\u5bf9\u5e94\u76840/1\uff0c\u589e\u52a0\u5bf9\u5e94\u8868\u7684\u6743\u91cd\u6bd4</p> <pre><code>    private static  final List&lt;String&gt; DBPrefixList = new ArrayList&lt;&gt;();\n\n    static {\n        DBPrefixList.add(\"0\");\n        DBPrefixList.add(\"1\");\n    }\n\n    private static Random random = new Random();\n\n    public static String getRandomPrefix(){\n        int index = random.nextInt(DBPrefixList.size());\n        return DBPrefixList.get(index);\n    }\n    private static  final List&lt;String&gt; TablePrefixList = new ArrayList&lt;&gt;();\n\n    static {\n        TablePrefixList.add(\"0\");\n        TablePrefixList.add(\"1\");\n    }\n\n    private static Random random = new Random();\n\n    public static String getRandomPrefix(){\n        int index = random.nextInt(TablePrefixList.size());\n        return TablePrefixList.get(index);\n    }\n</code></pre> <p>\u9488\u5bf9\u95ee\u9898\u4e8c\uff1a\u53ef\u4ee5\u5f15\u5165nosql\uff0c\u6bd4\u5982es\uff0c\u5bf9\u6570\u636e\u5168\u91cf\u5197\u4f59\u5b58\u50a8\u3002\u5728\u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u4e0d\u901a\u8fc7\u6570\u636e\u5e93\uff0c\u76f4\u63a5\u5728es\u4e2d\u8fdb\u884c\u67e5\u8be2\u3002\u4e5f\u53ef\u8fdb\u884c\u53cc\u5411\u5197\u4f59\uff0c\u6bd4\u5982\u8ba2\u5355\u7cfb\u7edf\uff0c\u9488\u5bf9\u5546\u5bb6\u548c\u5ba2\u6237\u4e24\u4e2a\u7ef4\u5ea6\u5c06\u8ba2\u5355\u5728\u4e24\u4e2a\u5730\u65b9\u90fd\u5b58\u50a8\u4e00\u4efd\u3002\u5728\u67e5\u8be2\u65f6\uff0c\u65e2\u53ef\u6839\u636e\u5ba2\u6237\u4e3b\u952e\u67e5\u8be2\u8ba2\u5355\uff0c\u4e5f\u53ef\u901a\u8fc7\u5546\u6237\u9010\u6e10\u67e5\u8be2\u8ba2\u5355\uff0c\u901a\u8fc7\u7a7a\u95f4\u6362\u53d6\u67e5\u8be2\u65f6\u7684\u9ad8\u6548\u6027\u80fd\u3002</p> <p>======= } ```</p> <p>origin/main</p>"},{"location":"products/shortLink/8/","title":"\u6570\u636e\u5206\u5c42\u6cbb\u7406","text":"<p>\u8fd9\u91cc\u505a\u6570\u636e\u5206\u5c42\u6cbb\u7406\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u7edf\u8ba1\u4e00\u4e9b\u8bbf\u95ee\u6307\u6807\uff0c\u5982pv\u3001uv\u3001\u8bbf\u95ee\u6765\u6e90\u5730\u5740\u3001\u8bbf\u95ee\u6765\u6e90\u6e20\u9053\u7b49\u6570\u636e</p> <p>\u4e3b\u8981\u5206\u4e3a\u4e94\u5c42\u8fdb\u884c\u5904\u7406</p> <ul> <li>ODS\uff1a\u539f\u59cb\u6570\u636e\uff0c\u6c47\u96c6\u591a\u4e2a\u539f\u59cb\u672a\u5904\u7406\u7684\u6570\u636e\u3002\u6bd4\u5982\u57cb\u70b9\u65e5\u5fd7\u3001\u4e1a\u52a1\u6570\u636e\u5e93\u3001\u961f\u5217\u7b49\uff0c\u662f\u540e\u7eed\u6570\u636e\u4ed3\u5e93\u52a0\u5de5\u6570\u636e\u7684\u6765\u6e90</li> <li>DWD\uff1a\u660e\u7ec6\u6570\u636e\u5c42\uff0c\u4fdd\u6301\u548cODS\u5c42\u4e00\u6837\u7684\u6570\u636e\u9897\u7c92\u5ea6\uff0c\u5bf9ODS\u6570\u636e\u5c42\u505a\u4e00\u4e9b\u6570\u636e\u7684\u6e05\u6d17\u548c\u89c4\u8303\u5316\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u53bb\u9664\u7a7a\u6570\u636e\u3001\u810f\u6570\u636e\u3001\u8131\u654f\u3001\u5206\u6d41\u7b49\u64cd\u4f5c</li> <li>DWM\uff1a\u6570\u636e\u4e2d\u95f4\u5c42\uff0cDWD\u5c42\u7684\u6570\u636e\u57fa\u7840\u4e0a\u5bf9\u6570\u636e\u505a\u4e00\u4e9b\u8f7b\u5fae\u7684\u805a\u5408\u64cd\u4f5c\uff0c\u901a\u7528\u7684\u6e29\u5ea6\u8fdb\u884c\u805a\u5408\uff0c\u51cf\u5c11\u91cd\u590d\u5de5\u4f5c\uff08\u5730\u5740\u4f4d\u7f6e\u3001\u8bbe\u5907\u7b49\u8f7b\u5ea6\u5173\u8054\uff09</li> <li>DWS\uff1a\u6570\u636e\u670d\u52a1\u5c42\uff0c\u57fa\u4e8eDWM\u4e0a\u7684\u57fa\u7840\u6570\u636e\uff0c\u6c47\u603b\u6210\u5206\u6790\u67d0\u4e00\u4e2a\u4e3b\u9898\u57df\u7684\u6570\u636e\u5c42\uff0c\u8be5\u5c42\u7684\u6570\u636e\u8868\u4f1a\u76f8\u5bf9\u8f83\u5c11\uff0c\u4e00\u5f20\u8868\u4f1a\u6db5\u76d6\u6bd4\u8f83\u591a\u7684\u4e1a\u52a1\u5185\u5bb9\uff0c\u591a\u6570\u662f\u5bbd\u8868\uff0c\u7528\u4e8e\u63d0\u4f9b\u540e\u7eed\u7684\u4e1a\u52a1\u5b9e\u65f6\u67e5\u8be2\uff1b\u5982\u679c\u662f\u5b8c\u5168\u7684\u660e\u7ec6\u90a3\u4e48\u67e5\u8be2\u7684\u538b\u529b\u4f1a\u975e\u5e38\u5927</li> <li>ADS\uff1a\u6570\u636e\u5e94\u7528\u5c42\uff0c\u63d0\u4f9b\u7ed9\u6570\u636e\u4ea7\u54c1\u548c\u6570\u636e\u5206\u6790\u4f7f\u7528\u7684\u6570\u636e\uff0c\u4e00\u822c\u4f1a\u5b58\u653e\u5728ES\u3001redis\u3001clickhouse\u3002\u5e38\u7528\u7684\u6570\u636e\u62a5\u8868\u5c31\u662f\u5b58\u5728\u8fd9\u91cc</li> </ul> <p>\u5728\u8fd9\u91cc\u4f7f\u7528\u7684\u662fkafka\u3001flink\u548cclickhouse\uff0c\u6574\u4f53\u903b\u8f91\u5c31\u662f\u6bcf\u4e00\u5c42\u90fd\u901a\u8fc7kafka\u7684\u4e00\u4e2atopic\u5b58\u50a8\u6570\u636e\uff0c\u4e0b\u4e00\u5c42\u4ecekafka\u4e2d\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u5904\u7406</p> <p>kafka\u548cclickhouse\uff0c\u5c31\u4e0d\u8fc7\u591a\u8d58\u8ff0\uff0c\u4e3b\u8981\u7528\u4e8e\u8fdb\u884c\u6570\u636e\u7684\u4f20\u8f93\u548c\u5b58\u50a8</p> <p>flink\u5219\u7528\u4e8e\u5bf9kafka\u5b9e\u65f6\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u8fdb\u884c\u6570\u636e\u8f6c\u6362\u4e0e\u6e05\u6d17\uff0c\u540c\u65f6\u53ef\u4ee5\u901a\u8fc7\u6eda\u52a8\u7a97\u53e3\uff08Tumbling Windows\uff09\u3001\u6ed1\u52a8\u7a97\u53e3\uff08Sliding Windows\uff09\u5b9e\u73b0\u65f6\u95f4\u7ef4\u5ea6\u805a\u5408\uff0c\u5982\u7edf\u8ba1\u5341\u79d2\u5185\u7684pv\u3001uv\u503c\uff1a</p> <ul> <li>\u7a97\u53e3\uff1a\u662f\u6d41\u6570\u636e\u7684 \u201c\u65f6\u95f4\u5207\u7247\u201d\uff0c\u5c06\u65e0\u9650\u6d41\u8f6c\u5316\u4e3a\u6709\u9650\u6570\u636e\u96c6\uff0c\u4fbf\u4e8e\u6279\u91cf\u8ba1\u7b97\u3002</li> <li>\u5f00\u7a97\uff1a\u901a\u8fc7\u4ee3\u7801\u5b9a\u4e49\u7a97\u53e3\u7684\u5927\u5c0f\u3001\u7c7b\u578b\uff08\u5982\u6eda\u52a8\u7a97\u53e3\uff09\u3001\u65f6\u95f4\u57fa\u51c6\uff08\u5982\u4e8b\u4ef6\u65f6\u95f4\uff09\u7b49\u89c4\u5219\uff0c\u6307\u5b9a \u201c\u5982\u4f55\u5207\u5206\u6570\u636e\u201d\u3002</li> <li>\u5c06\u6bcf\u5341\u79d2\u7684\u6570\u636e\u8fdb\u884c\u7edf\u8ba1\u63d2\u5165\u5230clickhouse</li> </ul> <p>\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\u805a\u5408\u5904\u7406\u540e\u5c06\u5176\u63d2\u5165clickhouse</p> <p>flink\u4e2d\u5206\u7ec4\u805a\u5408\u662f\u4ec0\u4e48\u610f\u601d\uff1f</p> <p>\u5206\u7ec4\uff1a</p> <p>\u5206\u7ec4\u5c31\u662f\u5bf9\u8fd9\u6240\u9009\u4e2d\u8fdb\u884c\u5206\u7ec4\u7684\u5b57\u6bb5\u4e2d\u6240\u6709\u53ef\u80fd\u7684\u5b57\u6bb5\u505a\u4e00\u4e2a\u7b1b\u5361\u5c14\u79ef\uff0c\u518d\u6839\u636e\u5f97\u5230\u7684\u7ed3\u679c\u8fdb\u884c\u903b\u8f91\u5206\u7ec4</p> <p>\u7c7b\u4f3c\u4e8e\u4e09\u4e2a\u5b57\u6bb5A,B,C\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u4e0b\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u6570\u503c\uff0c\u5219\u6700\u540e\u7684\u7ed3\u679c\u5c31\u662f3\u4e583\u4e583=27\u79cd\u7ed3\u679c\uff0c\u76f8\u5e94\u7684\u5c31\u4f1a\u670927\u79cd\u903b\u8f91\u5206\u7ec4</p> <p>\u805a\u5408\uff1a</p> <p>\u805a\u5408\u5c31\u662f\u5bf9\u6bcf\u4e00\u4e2a\u903b\u8f91\u5206\u7ec4\u4e0b\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u5982\u5c06\u67d0\u4e00\u903b\u8f91\u5206\u7ec4\u4e0b\u7684pv\uff0cuv\u8fdb\u884c\u7d2f\u52a0\u5c31\u53ef\u4ee5\u5f97\u5230\u7b26\u5408\u8fd9\u4e00\u6761\u4ef6\u7684pv\u603b\u91cf\u548cuv\u603b\u91cf</p>"},{"location":"sourceCode/","title":"\u6e90\u7801\u5b66\u4e60","text":""},{"location":"sourceCode/%E8%99%9A%E6%8B%9FDOM/","title":"\u865a\u62dfDOM","text":""},{"location":"sourceCode/%E8%99%9A%E6%8B%9FDOM/#\u4e00\u865a\u62dfdom\u662f\u4ec0\u4e48","title":"\u4e00\uff0c\u865a\u62dfDOM\u662f\u4ec0\u4e48\uff1f","text":"<p>\u865a\u62dfDOM\u662f\u4e00\u4e2a\u7528JavaScript\u5bf9\u8c61\uff08\u901a\u5e38\u662f\u8f7b\u91cf\u7ea7\u7684\u6811\u7ed3\u6784\uff09\u6765\u8868\u793a\u771f\u5b9eDOM\u7ed3\u6784\u7684\u62bd\u8c61\u8868\u793a\u3002\u5b83\u4e0d\u662f\u771f\u5b9e\u7684DOM\u8282\u70b9\uff0c\u800c\u662f\u5bf9\u771f\u5b9eDOM\u7684\u62bd\u8c61\u63cf\u8ff0\u3002\u8fd9\u4e9bJavaScript\u5bf9\u8c61\u4ee3\u8868\u4e86\u771f\u5b9eDOM\u7684\u8282\u70b9\u548c\u5c5e\u6027\uff0c\u5e76\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u5185\u5b58\u4e2d\u4ee5\u4e00\u79cd\u9ad8\u6548\u7684\u65b9\u5f0f\u53bb\u64cd\u4f5cDOM\uff0c\u800c\u65e0\u9700\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9e\u7684DOM\u6811\u3002(\u65e0\u8bba\u6240\u6709\u7684\u64cd\u4f5c\u6700\u7ec8\u90fd\u662f\u4f1a\u64cd\u4f5c\u771f\u5b9eDOM\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u8981\u591a\u6b64\u4e00\u4e3e\u5148\u53bb\u64cd\u4f5c\u865a\u62dfDOM\u5462\uff1f)</p>"},{"location":"sourceCode/%E8%99%9A%E6%8B%9FDOM/#\u4e8cvue\u548creact\u6846\u67b6\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfdom","title":"\u4e8c\uff0cvue\u548creact\u6846\u67b6\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfDOM\uff1f","text":"<p>\u5173\u4e8e\u4e3a\u4ec0\u4e48\u4f1a\u9700\u8981\u865a\u62dfDOM\uff0c\u7b2c\u4e00\u4e2a\u60f3\u5230\u7684\u53ef\u80fd\u5c31\u662f\u4f1a\u63d0\u9ad8\u6548\u7387\uff0c\u865a\u62dfDOM\u7684\u6240\u6709\u6d41\u7a0b\u5927\u6982\u4e3a\u4ee5\u4e0b\u56db\u6b65\uff1a</p> <ul> <li>\u521d\u59cb\u6e32\u67d3\uff1a\u5c06\u5f53\u524d\u9875\u9762\u7684DOM\u6811\u6620\u5c04\u4e3a\u4e00\u4e2aJavaScript\u5bf9\u8c61\u5f62\u5f0f\u7684\u865a\u62dfDOM\u3002</li> <li>\u72b6\u6001\u66f4\u65b0\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u66f4\u65b0\uff0c\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u6839\u636e\u6700\u65b0\u7684\u72b6\u6001\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u865a\u62dfDOM\u3002</li> <li>\u6bd4\u8f83\u5dee\u5f02\uff1a\u6700\u65b0\u751f\u6210\u7684\u865a\u62dfDOM\u6811\u4e0e\u539f\u865a\u62dfDOM\u6811\u8fdb\u884c\u6bd4\u8f83\uff0c\u627e\u5230\u6709\u5dee\u5f02\u7684\u90e8\u5206\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u786e\u5b9a\u6700\u5c0f\u66f4\u65b0\u8303\u56f4\u7684\u8fc7\u7a0b\u3002</li> <li>\u66f4\u65b0DOM\uff1a\u6839\u636e\u5dee\u5f02\u5217\u8868\uff0c\u5bf9\u9700\u8981\u4fee\u6539\u7684\u771f\u5b9eDOM\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f7f\u6d4f\u89c8\u5668\u91cd\u65b0\u8fdb\u884c\u6e32\u67d3\u3002</li> </ul> <p>\u7136\u540e\u662f\u4e0b\u4e00\u4e2a\u95ee\u9898\uff0creact\u548cvue\u6846\u67b6\u4e3a\u4ec0\u4e48\u9700\u8981\u865a\u62dfDOM\uff1f</p> <p>\u5176\u5b9e\u4e3b\u8981\u662f\u56e0\u4e3a\u8fd9\u4e24\u79cd\u6846\u67b6\u7684\u9897\u7c92\u5ea6\u662f\u5230\u7ec4\u4ef6\u7ea7\u522b\u7684\uff0c\u800c\u4e0d\u662f\u5230\u5177\u4f53\u7684DOM\u5143\u7d20</p> <p>\u6240\u4ee5\u4e00\u4e2a\u7ec4\u4ef6\u4e0b\u662f\u53ef\u80fd\u6709\u591a\u4e2aDOM\u7684\uff0c\u6bd4\u5982\u6709\u6210\u767e\u4e2aDOM\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u4e2aDOM\u53d8\u5316\u7684\u8bdd\uff0c\u4f1a\u5bfc\u81f4\u6574\u4e2a\u7ec4\u4ef6\u4e0b\u7684\u6240\u6709DOM\u8fdb\u884c\u66f4\u65b0\uff0c\u4e25\u91cd\u5f71\u54cd\u6548\u7387\u3002</p>"},{"location":"sourceCode/%E8%99%9A%E6%8B%9FDOM/#\u4e09\u4e5f\u6709\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9edom\u7684\u6846\u67b6-svelte\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9edom\u7684\u6846\u67b6\u7684\u6548\u7387\u5f88\u9ad8","title":"\u4e09\uff0c\u4e5f\u6709\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9eDOM\u7684\u6846\u67b6-svelte\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9eDOM\u7684\u6846\u67b6\u7684\u6548\u7387\u5f88\u9ad8\uff1f","text":"<p>\u4e3b\u8981\u539f\u56e0\u662f\u56e0\u4e3asvelte\u6846\u67b6\u5728\u8bbe\u8ba1\u65f6\uff0c\u53ef\u4ee5\u652f\u6301\u7684\u64cd\u4f5c\u9897\u7c92\u5ea6\u662f\u5230DOM\u8fd9\u4e00\u5c42\u7ea7\u7684\uff0c\u6240\u4ee5\u5f53\u9875\u9762\u53d1\u751f\u53d8\u5316\uff0c\u9700\u8981\u91cd\u65b0\u6e32\u67d3\u65f6\uff0c\u53ea\u9700\u627e\u5230\u9700\u8981\u66f4\u65b0\u7684DOM\uff0c\u76f4\u63a5\u5bf9\u771f\u5b9eDOM\u8fdb\u884c\u64cd\u4f5c\u5373\u53ef\u3002</p>"},{"location":"sourceCode/vue/1/","title":"vue\u6e90\u7801\u5b66\u4e60\uff081\uff09","text":""},{"location":"sourceCode/vue/1/#function\u548cnew-function","title":"function()\u548cnew function()","text":"<p>\u5728JavaScript\u4e2d\uff0c<code>function()</code> \u548c <code>new function()</code> \u662f\u4e24\u79cd\u4e0d\u540c\u7684\u8c03\u7528\u6a21\u5f0f\uff0c\u5b83\u4eec\u51b3\u5b9a\u4e86\u51fd\u6570\u6267\u884c\u65f6\u7684\u884c\u4e3a\u548c\u7ed3\u679c\u3002\u4ee5\u4e0b\u662f\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7684\u4e3b\u8981\u533a\u522b\uff1a</p> <ol> <li>\u666e\u901a\u8c03\u7528 <code>function()</code>:</li> <li>\u5f53\u4f60\u76f4\u63a5\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff0c\u5982 <code>function()</code>\uff0c\u5b83\u53ea\u662f\u7b80\u5355\u5730\u6267\u884c\u51fd\u6570\u4f53\u5185\u7684\u4ee3\u7801\u3002</li> <li>\u5982\u679c\u51fd\u6570\u5185\u6ca1\u6709\u663e\u5f0f\u8fd4\u56de\u503c\uff0c\u9ed8\u8ba4\u8fd4\u56de <code>undefined</code>\uff1b\u5982\u679c\u4f7f\u7528\u4e86 <code>return</code> \u8bed\u53e5\u5e76\u6307\u5b9a\u4e86\u8fd4\u56de\u503c\uff0c\u5219\u8fd4\u56de\u6307\u5b9a\u7684\u503c\u3002</li> <li>\u51fd\u6570\u5185\u90e8\u7684 <code>this</code> \u5173\u952e\u5b57\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff08\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u4e3a <code>undefined</code>\uff09\u3002</li> <li>\u6784\u9020\u51fd\u6570\u8c03\u7528 <code>new function()</code>:</li> <li>\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u8c03\u7528\u51fd\u6570\uff0c\u5373 <code>new function()</code>\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u5bf9\u8c61\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u63a5\u5230\u51fd\u6570\u7684 <code>prototype</code> \u5c5e\u6027\u4e0a\u3002</li> <li>\u51fd\u6570\u4f53\u5185 <code>this</code> \u6307\u5411\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002</li> <li>\u5982\u679c\u6784\u9020\u51fd\u6570\u6ca1\u6709\u663e\u5f0f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002\u5982\u679c\u6784\u9020\u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u8fd9\u4e2a\u5bf9\u8c61\u4f1a\u66ff\u4ee3\u9ed8\u8ba4\u7684\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u88ab\u8fd4\u56de\u3002</li> </ol> <p>\u7b80\u800c\u8a00\u4e4b\uff0c\u4e0d\u5e26 <code>new</code> \u7684\u666e\u901a\u51fd\u6570\u8c03\u7528\u901a\u5e38\u7528\u4e8e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\u6216\u8ba1\u7b97\u5e76\u53ef\u80fd\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\uff0c\u800c\u5e26\u6709 <code>new</code> \u7684\u6784\u9020\u51fd\u6570\u8c03\u7528\u5219\u662f\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u5e76\u521d\u59cb\u5316\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u6b63\u786e\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u5f71\u54cd\u4e86\u51fd\u6570\u6267\u884c\u7684\u4e0a\u4e0b\u6587(<code>this</code>)\u4ee5\u53ca\u6700\u7ec8\u7684\u7ed3\u679c\u3002\u5982\u679c\u672c\u610f\u662f\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u4f46\u5fd8\u8bb0\u4e86\u4f7f\u7528 <code>new</code>\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u5916\u7684\u884c\u4e3a\uff0c\u6bd4\u5982\u4fee\u6539\u5168\u5c40\u5bf9\u8c61\u800c\u4e0d\u662f\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002</p> <p>\u6240\u4ee5new Vue()\u5c31\u662f\u521b\u5efa\u4e00\u4e2avue\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5e76\u4e14this\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u5b9e\u4f8b </p>"},{"location":"study/","title":"\u5b66\u4e60\u65e5\u8bb0","text":"<p>\u672c\u76ee\u5f55\u4e0b\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55\u5b66\u4e60\u5404\u79cd\u6280\u672f\u65f6\u7684\u7b14\u8bb0\u590d\u76d8</p> <p>\u5e0c\u671b\u53ef\u4ee5\u4e0d\u65ad\u5730\u8bb0\u5f55\u5e76\u4e14\u7763\u4fc3\u81ea\u5df1\u5b66\u4e60</p>"},{"location":"study/BrowserPrinciple/1/","title":"\u6d4f\u89c8\u5668\u7684\u5de5\u4f5c\u8fc7\u7a0b","text":"<ul> <li>\u6d4f\u89c8\u5668\u901a\u8fc7http\u6216\u8005https\uff0c\u5411\u670d\u52a1\u7aef\u8bf7\u6c42\u9875\u9762</li> <li>\u628a\u8bf7\u6c42\u56de\u6765\u7684html\u4ee3\u7801\u7ecf\u8fc7\u89e3\u6790\uff0c\u6784\u5efaDOM\u6811</li> <li>\u8ba1\u7b97DOM\u6811\u4e0a\u7684css\u5c5e\u6027</li> <li>\u6839\u636ecss\u5c5e\u6027\u5bf9\u5143\u7d20\u9010\u4e2a\u8fdb\u884c\u6e32\u67d3\uff0c\u5f97\u5230\u5185\u5b58\u4e2d\u7684\u4f4d\u56fe</li> <li>\u4e00\u4e2a\u53ef\u9009\u5730\u6b65\u9aa4\u662f\u5bf9\u4f4d\u56fe\u8fdb\u884c\u5408\u6210\uff0c\u8fd9\u4f1a\u6781\u5927\u5730\u589e\u52a0\u540e\u7eed\u7ed8\u5236\u7684\u901f\u5ea6</li> <li>\u5408\u6210\u4e4b\u540e\uff0c\u518d\u7ed8\u5236\u5230\u9875\u9762\u4e0a</li> </ul> <p>telnet\u7684\u4f7f\u7528\uff1f\u7528\u4e8e\u521b\u5efa\u8fde\u63a5</p>"},{"location":"study/BrowserPrinciple/1/#\u4ece\u8f93\u5165url\u5230\u5c55\u793a\u9875\u9762\u7684\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u4ec0\u4e48","title":"\u4ece\u8f93\u5165url\u5230\u5c55\u793a\u9875\u9762\u7684\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u4ec0\u4e48","text":"<p>\u6574\u4f53\u6d41\u7a0b</p> <p>\u4e3b\u8981\u7684\u4e09\u4e2a\u8fdb\u7a0b\u662f\u6d4f\u89c8\u5668\u8fdb\u7a0b\uff0c\u7f51\u7edc\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b</p> <p></p> <p>\u8f93\u5165url\u540e\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f</p> <p>\u8f93\u5165\u4e00\u4e2aurl\u540e\uff0c\u9700\u8981\u83b7\u53d6\u57df\u540d\u5bf9\u5e94\u7684IP\uff0c\u7136\u540e\u4e0eIP\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\uff0c\u83b7\u53d6\u670d\u52a1\u5668\u4e0a\u7684\u4e00\u7cfb\u5217\u8d44\u6e90\u3002\u4ece\u57df\u540d\u5230IP\u7684\u4e00\u7cfb\u5217\u6b65\u9aa4\u662f\u901a\u8fc7DNS\u670d\u52a1\u5668\u5b9e\u73b0\u7684</p> <p></p> <p>DNS\u670d\u52a1\u5668\u7684\u4f5c\u7528\uff0c\u901a\u8fc7\u57df\u540d\u83b7\u53d6\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\uff0cDNS\u662f\u88ab\u8bbe\u8ba1\u4e3a\u9ad8\u5e76\u53d1\u9ad8\u53ef\u7528\u7684\uff0c\u670d\u52a1\u5668\u4e4b\u95f4\u662f\u4ee5\u4e00\u79cd\u6811\u5f62\u7684\u7ed3\u6784\u5206\u5e03\u7684</p> <p>\u6574\u4f53\u6d41\u7a0b</p> <ul> <li>\u5bf9\u4e00\u4e2a\u57df\u540d\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0c\u5148\u8bf7\u6c42\u672c\u5730\u7684DNS\u7f13\u5b58\u83b7\u53d6\u5bf9\u5e94\u7684IP</li> <li>\u672c\u5730\u7684DNS\u7f13\u5b58\u6ca1\u6709\u7684\u65f6\u5019\uff0c\u4f1a\u5411\u672c\u5730DNS\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u4f1a\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42</li> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\u8fd4\u56de\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u8bbf\u95ee\u5730\u5740</li> <li>\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u8fd4\u56de\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u8bbf\u95ee\u5730\uff0c\u6700\u7ec8\u5728\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u4e2d\u83b7\u53d6\u5230\u57df\u540d\u5bf9\u5e94\u7684IP\u5730\u5740</li> </ul>"},{"location":"study/BrowserPrinciple/1/#\u6d4f\u89c8\u5668\u8fdb\u7a0b","title":"\u6d4f\u89c8\u5668\u8fdb\u7a0b","text":"<p>\u4e3b\u8981\u8d1f\u8d23\u7528\u6237\u4ea4\u4e92\uff0c\u5b50\u8fdb\u7a0b\u7ba1\u7406\u548c\u6587\u4ef6\u5b58\u50a8\u7b49\u529f\u80fd</p>"},{"location":"study/BrowserPrinciple/1/#\u7f51\u7edc\u8fdb\u7a0b","title":"\u7f51\u7edc\u8fdb\u7a0b","text":"<p>\u7f51\u7edc\u8fdb\u7a0b\u4e3b\u8981\u662f\u9762\u5411\u6e32\u67d3\u8fdb\u7a0b\u548c\u6d4f\u89c8\u5668\u8fdb\u7a0b\u7b49\u63d0\u4f9b\u7f51\u7edc\u4e0b\u8f7d\u529f\u80fd</p>"},{"location":"study/BrowserPrinciple/1/#\u6e32\u67d3\u8fdb\u7a0b","title":"\u6e32\u67d3\u8fdb\u7a0b","text":"<p>\u6e32\u67d3\u8fdb\u7a0b\u7684\u4e3b\u8981\u804c\u8d23\u662f\u628a\u4ece\u7f51\u7edc\u4e0b\u8f7d\u7684HTML\u3001JavaScript\u3001css\u3001\u56fe\u7247\u7b49\u8d44\u6e90\u89e3\u6790\u4e3a\u53ef\u4ee5\u663e\u793a\u548c\u4ea4\u4e92\u7684\u9875\u9762</p>"},{"location":"study/BrowserPrinciple/1/#html\u5b57\u8282\u6d41\u89e3\u6790\u7684\u8fc7\u7a0b","title":"HTML\u5b57\u8282\u6d41\u89e3\u6790\u7684\u8fc7\u7a0b","text":"<p>\u5728\u83b7\u53d6\u5230HTML\u5b57\u8282\u6d41\u4e4b\u540e\uff0c\u4f1a\u901a\u8fc7\u5206\u8bcd\u5668\u5c06\u5176\u751f\u6210\u4e00\u7cfb\u5217\u7684tokens\uff0c\u7136\u540e\u751f\u6210\u5bf9\u5e94\u7684node\u8282\u70b9\uff0c\u6700\u7ec8\u751f\u6210DOM</p> <p></p> <p>\u5bf9\u4e8e\u5982\u4e0b\u4e00\u6bb5\u4ee3\u7801\u800c\u8a00\uff0c\u5176\u4e2d\u7684\u8d77\u59cb\u6807\u7b7e\uff0c\u6807\u7b7e\u4e2d\u7684\u6587\u672c\u4ee5\u53ca\u7ed3\u675f\u6807\u7b7e\u90fd\u662f\u4e00\u4e2atoken\uff0c\u5e76\u4e14\u4f1a\u901a\u8fc7\u4e00\u4e2atoken\u6808\u6765\u7ef4\u62a4\u6240\u6709\u7684token\u3002\u6b63\u5e38\u6765\u8bf4token\u6808\u53ea\u4f1a\u6709StartTag</p> <p>\u5728DOM\u6811\u4e2d\u5982\u4f55\u5224\u65ad\u7ed3\u70b9\u7684\u7236\u5b50\u5173\u7cfb\uff1f</p> <p>\u6839\u636e\u6808\u4e2d\u7684\u6807\u7b7e\u7684\u4f4d\u7f6e\u6765\u8ba1\u7b97\uff0c\u4e00\u822c\u6765\u8bb2\uff0c\u4e0b\u9762\u7684\u6807\u7b7e\u4e00\u5b9a\u662f\u4e0a\u9762\u6807\u7b7e\u7684\u7236\u8282\u70b9</p> <pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;div&gt;1&lt;/div&gt;\n        &lt;div&gt;test&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>\u6587\u672c\u4fe1\u606f\u4f1a\u76f4\u63a5\u653e\u5165DOM\u6811\u4e2d\u5bf9\u5e94\u7684\u8282\u70b9\u4e0b</p> <p></p> <p>EndTag\u5219\u662f\u4f1a\u5728\u5339\u914d\u5230\u5bf9\u5e94\u7684StartTag\u540e\uff0c\u8fde\u540cStartTag\u4e00\u8d77\u51fa\u6808</p> <p></p>"},{"location":"study/BrowserPrinciple/1/#\u4e3a\u4ec0\u4e48\u8981\u6784\u5efadom\u6811","title":"\u4e3a\u4ec0\u4e48\u8981\u6784\u5efaDOM\u6811","text":"<p>\u56e0\u4e3a\u6d4f\u89c8\u5668\u4e0d\u80fd\u7406\u89e3HTML\u683c\u5f0f\u7684\u5b57\u8282\u6d41\uff0c\u9700\u8981\u5c06\u5176\u8f6c\u6362\u4e3a\u6d4f\u89c8\u5668\u53ef\u4ee5\u7406\u89e3\u7684\u7ed3\u6784</p> <p>\u5728\u6e32\u67d3\u5f15\u64ce\u5185\u90e8\uff0c\u6709\u4e00\u4e2a\u53ebHTML\u89e3\u6790\u5668\u7684\u6a21\u5757</p> <p>\u5b83\u7684\u804c\u8d23\u5c31\u662f\u8d1f\u8d23\u5c06HTML\u5b57\u8282\u6d41\u8f6c\u6362\u4e3aDOM\u7ed3\u6784</p> <p>DOM\u7684\u4f5c\u7528\uff1a</p> <ul> <li>\u4ece\u9875\u9762\u7684\u89c6\u89d2\u6765\u770b\uff0cDOM\u662f\u751f\u6210\u9875\u9762\u7684\u57fa\u7840\u6570\u636e\u7ed3\u6784</li> <li>\u4eceJavaScript\u89c6\u89d2\u6765\u770b\uff0cDOM\u63d0\u4f9b\u7ed9JavaScript\u811a\u672c\u64cd\u4f5c\u7684\u63a5\u53e3</li> <li>\u4ece\u5b89\u5168\u89c6\u89d2\u6765\u770b\uff0cDOM\u662f\u4e00\u9053\u5b89\u5168\u9632\u62a4\u7ebf\uff0c\u628a\u4e00\u4e9b\u4e0d\u5b89\u5168\u7684\u5185\u5bb9\u5728DOM\u89e3\u6790\u9636\u6bb5\u5c31\u88ab\u62d2\u4e4b\u95e8\u5916\u4e86</li> </ul> <p>\u7f51\u7edc\u8fdb\u7a0b\u83b7\u53d6\u5230\u5bf9\u5e94\u7684HTML\u5b57\u8282\u6d41\u540e\uff0c\u901a\u8fc7IPC\u5c06\u5176\u4f20\u9012\u7ed9\u6e32\u67d3\u8fdb\u7a0b\uff0c\u6e32\u67d3\u8fdb\u7a0b\u5c06\u5176\u4f20\u9012\u7ed9HTML\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790</p>"},{"location":"study/BrowserPrinciple/1/#\u5e03\u5c40\u8ba1\u7b97","title":"\u5e03\u5c40\u8ba1\u7b97","text":""},{"location":"study/BrowserPrinciple/1/#\u9875\u9762\u6e32\u67d3","title":"\u9875\u9762\u6e32\u67d3","text":"<p>\u4ee5\u9875\u9762\u7684\u6e32\u67d3\u6548\u7387\u6765\u8bf4\uff1a\u5408\u6210&gt;\u91cd\u7ed8&gt;\u91cd\u6392\uff0c\u5408\u6210\u662fV8\u4e2d\u5bf9\u9875\u9762\u7279\u6b8a\u7684\u5904\u7406</p> <ul> <li>\u5408\u6210\uff1a\u6d4f\u89c8\u5668\u4f1a\u5c06\u9875\u9762\u5206\u4e3a\u591a\u4e2a\u56fe\u5c42\uff0c\u6700\u7ec8\u518d\u5c06\u56fe\u5c42\u5408\u5e76\u5728\u4e00\u8d77\u5c55\u793a\u9875\u9762</li> <li>\u91cd\u7ed8\uff1a\u5f53\u5143\u7d20\u7684\u5916\u89c2\uff08\u989c\u8272\u3001\u80cc\u666f\u989c\u8272\u7b49\uff09\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u91cd\u65b0\u7ed8\u5236\u8fd9\u4e9b\u5143\u7d20\u7684\u5916\u89c2\u5c5e\u6027\uff0c\u53ea\u6d89\u53ca\u5916\u89c2\u66f4\u65b0\uff0c\u4e0d\u6d89\u53ca\u5e03\u5c40\u548c\u51e0\u4f55\u5c5e\u6027</li> <li>\u91cd\u62cd\uff1a\u5f53\u5143\u7d20\u7684\u51e0\u4f55\u5c5e\u6027\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u91cd\u65b0\u8ba1\u7b97\u5143\u7d20\u7684\u5e03\u5c40\u5e76\u91cd\u65b0\u6e32\u67d3\u6811\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6bd4\u91cd\u7ed8\u66f4\u52a0\u7684\u590d\u6742</li> </ul> <p>\u5982\u4f55\u5c3d\u91cf\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u91cd\u7ed8\u548c\u91cd\u6392</p> <ul> <li>\u6279\u91cf\u4fee\u6539\u6837\u5f0f\uff1a\u5c06\u591a\u6b21\u4fee\u6539\u6837\u5f0f\u7684\u64cd\u4f5c\u5408\u5e76\u6210\u4e00\u6b21\uff0c\u51cf\u5c11DOM\u8bbf\u95ee\u6b21\u6570\u3002\u4f7f\u7528css\u7c7b\u6765\u6279\u91cf\u5e94\u7528\u6837\u5f0f\uff0c\u800c\u4e0d\u662f\u9010\u4e2a\u4fee\u6539\u6837\u5f0f\u5c5e\u6027</li> <li>\u4f7f\u7528\u6587\u6863\u7247\u6bb5\uff1a\u5728\u5185\u5b58\u4e2d\u64cd\u4f5cDOM\u8282\u70b9\uff0c\u5b8c\u6210\u540e\u518d\u4e00\u6b21\u6027\u6dfb\u52a0\u5230\u6587\u6863\u4e2d\uff0c\u51cf\u5c11\u91cd\u6392\u6b21\u6570</li> <li>\u907f\u514d\u9891\u7e41\u67e5\u8be2\u5e03\u5c40\u4fe1\u606f\uff1a\u5728\u4fee\u6539\u6837\u5f0f\u524d\u907f\u514d\u67e5\u8be2\u5143\u7d20\u7684\u5e03\u5c40\u4fe1\u606f\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5f3a\u5236\u6d4f\u89c8\u5668\u5237\u65b0\u6e32\u67d3\u961f\u5217\uff0c\u89e6\u53d1\u91cd\u6392</li> <li>\u5229\u7528css\u52a8\u753b\uff1a\u4f7f\u7528css\u52a8\u753b\u4ee3\u66ffJavaScript\u52a8\u753b\uff0ccss\u52a8\u753b\u5728GPU\u4e0a\u6267\u884c\uff0c\u6027\u80fd\u66f4\u9ad8</li> <li>\u4f7f\u7528\u7edd\u5bf9\u5b9a\u4f4d\uff1a\u5c06\u9700\u8981\u9891\u7e41\u91cd\u6392\u7684\u5143\u7d20\u8bbe\u7f6e\u4e3a\u7edd\u5bf9\u5b9a\u4f4d\uff0c\u4f7f\u5176\u8131\u79bb\u6587\u6863\u6d41\uff0c\u51cf\u5c11\u5bf9\u5176\u4ed6\u5143\u7d20\u7684\u5f71\u54cd</li> </ul>"},{"location":"study/BrowserPrinciple/2/","title":"\u6d4f\u89c8\u5668\u4e2d\u7684js\u7684\u6267\u884c\u673a\u5236","text":""},{"location":"study/BrowserPrinciple/2/#js\u4e2d\u7684\u53d8\u91cf\u63d0\u5347","title":"js\u4e2d\u7684\u53d8\u91cf\u63d0\u5347","text":"<pre><code>showName();\nconsole.log(myname);\nvar myname = 'dou';\nfunction showName(){\n    console.log(\"showName\u51fd\u6570\u88ab\u6267\u884c\")\n}\n\n// \"showName\u51fd\u6570\u88ab\u6267\u884c\"\n// undefined\n</code></pre> <ol> <li>\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u672a\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u90a3\u4e48JS\u7684\u6267\u884c\u4f1a\u62a5\u9519</li> <li>\u5728\u4e00\u4e2a\u53d8\u91cf\u5b9a\u4e49\u4e4b\u524d\u4f7f\u7528\u5b83\uff0c\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46\u662f\u8be5\u53d8\u91cf\u7684\u503c\u4f1a\u53d8\u6210undefined\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u65f6\u7684\u503c</li> <li>\u5728\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e4b\u524d\u4f7f\u7528\u5b83\uff0c\u4e0d\u4f1a\u51fa\u9519\uff0c\u4e14\u51fd\u6570\u80fd\u6b63\u786e\u6267\u884c</li> </ol> <p>\u540c\u6837\u7684\u65b9\u5f0f\uff0c\u4e3a\u4ec0\u4e48\u53d8\u91cf\u548c\u51fd\u6570\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u540c\uff1f</p> <p>\u6a21\u62df\u4e0a\u8ff0\u4ee3\u7801\u7684\u6267\u884c\u8fc7\u7a0b\uff1a</p> <pre><code>/** \u53d8\u91cf\u63d0\u5347\u90e8\u5206*/\nvar myname = undefined\n// \u51fd\u6570\u7684\u5b9a\u4e49\u4e5f\u4f1a\u88ab\u63d0\u5347\nfunction showName(){\n    console.log(\"showName\u51fd\u6570\u88ab\u6267\u884c\")\n}\n// \u4ee3\u7801\u6267\u884c\u90e8\u5206\nshowName();\nconsole.log(myname);\nmyname = 'dou';\n</code></pre>"},{"location":"study/BrowserPrinciple/2/#javascript\u4ee3\u7801\u7684\u6267\u884c\u6d41\u7a0b","title":"JavaScript\u4ee3\u7801\u7684\u6267\u884c\u6d41\u7a0b","text":"<p>\u4e00\u6bb5JavaScript\u4ee3\u7801\u2192\u7f16\u8bd1\u9636\u6bb5\u2192\u6267\u884c\u9636\u6bb5</p>"},{"location":"study/BrowserPrinciple/2/#\u7f16\u8bd1\u9636\u6bb5","title":"\u7f16\u8bd1\u9636\u6bb5","text":"<p>\u7f16\u8bd1\u9636\u6bb5\u548c\u53d8\u91cf\u63d0\u5347\u5b58\u5728\u4ec0\u4e48\u5173\u7cfb\uff1f</p> <p>\u53d8\u91cf\u63d0\u5347\u90e8\u5206</p> <pre><code>/** \u53d8\u91cf\u63d0\u5347\u90e8\u5206*/\nvar myname = undefined\n// \u51fd\u6570\u7684\u5b9a\u4e49\u4e5f\u4f1a\u88ab\u63d0\u5347\nfunction showName(){\n    console.log(\"showName\u51fd\u6570\u88ab\u6267\u884c\")\n}\n</code></pre> <p>\u6267\u884c\u4ee3\u7801\u90e8\u5206</p> <pre><code>showName();\nconsole.log(myname);\nmyname = 'dou';\n</code></pre> <p>\u5728\u7f16\u8bd1\u9636\u6bb5\u4e3b\u8981\u662f\u751f\u6210\u4e24\u90e8\u5206\u5185\u5bb9\uff1a</p> <p>\u6267\u884c\u4e0a\u4e0b\u6587\uff08\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587\u548c\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587\uff09\u548c\u53ef\u6267\u884c\u4ee3\u7801</p> <p>\u6267\u884c\u4e0a\u4e0b\u6587\u662fJavaScript\u6267\u884c\u4e00\u6bb5\u4ee3\u7801\u65f6\u7684\u8fd0\u884c\u73af\u5883\uff0c\u6bd4\u5982\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff0c\u5c31\u4f1a\u8fdb\u5165\u8fd9\u4e2a\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u786e\u5b9a\u8be5\u51fd\u6570\u5728\u6267\u884c\u671f\u95f4\u7528\u5230\u7684\u8bf8\u5982this\u3001\u53d8\u91cf\u3001\u5bf9\u8c61\u4ee5\u53ca\u51fd\u6570\u7b49\u3002</p> <p>\u5168\u5c40\u53d8\u91cf\u73af\u5883\u5bf9\u8c61--\u5c31\u662f\u7528\u4e8e\u5b58\u50a8\u53d8\u91cf\u63d0\u5347\u540e\u7684\u58f0\u660e\u7684\u6570\u636e</p> <pre><code>VariableEnvironment\n    myname-&gt;undefined\n    showName-&gt;function(){...}// \u5806\u7684\u5185\u5b58\u5730\u5740\uff0c\u5176\u4e2d\u5b58\u50a8\u7684\u662f\u51fd\u6570\u4f53\u5185\u5bb9\n</code></pre> <p>showName\u6307\u5411\u5806\u4e2d\u7684\u4e00\u4e2a\u5730\u5740\uff0c\u5176\u4e2d\u5b58\u50a8\u7684\u51fd\u6570\u4f53\u5185\u5bb9</p>"},{"location":"study/BrowserPrinciple/2/#\u6267\u884c\u9636\u6bb5","title":"\u6267\u884c\u9636\u6bb5","text":"<p>JavaScript\u5f15\u64ce\u5f00\u59cb\u6267\u884c\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u6309\u7167\u987a\u5e8f\u4e00\u6b65\u4e00\u6b65\u7684\u6267\u884c</p>"},{"location":"study/BrowserPrinciple/2/#\u4ee3\u7801\u4e2d\u5982\u679c\u51fa\u73b0\u76f8\u540c\u7684\u53d8\u91cf\u6216\u8005\u51fd\u6570\u600e\u4e48\u529e","title":"\u4ee3\u7801\u4e2d\u5982\u679c\u51fa\u73b0\u76f8\u540c\u7684\u53d8\u91cf\u6216\u8005\u51fd\u6570\u600e\u4e48\u529e\uff1f","text":"<pre><code>function showName(){\n    console.log(\"max\")\n}\nshowName()\nfunction showName(){\n    console.log(\"kaka\")\n}\nshowName()\n// kaka\n// kaka\n</code></pre> <p>\u5206\u6790\uff1a\u4e24\u4e2a\u51fd\u6570\u7684\u58f0\u660e\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u9876\u90e8\u6267\u884c\uff0c\u7b2c\u4e8c\u4e2a\u51fd\u6570\u7684\u58f0\u660e\u4f1a\u628a\u7b2c\u4e00\u4e2a\u51fd\u6570\u7684\u58f0\u660e\u7ed9\u8986\u76d6\u6389</p> <ul> <li>JavaScript\u4ee3\u7801\u6267\u884c\u4e4b\u524d\uff0c\u9700\u8981\u5148\u505a\u53d8\u91cf\u63d0\u5347\u3002\u800c\u4e4b\u6240\u4ee5\u9700\u8981\u5b9e\u73b0\u53d8\u91cf\u63d0\u5347\uff0c\u662f\u56e0\u4e3aJavaScript\u4ee3\u7801\u5728\u6267\u884c\u4e4b\u524d\u9700\u8981\u5148\u7f16\u8bd1</li> <li>\u5728\u7f16\u8bd1\u9636\u6bb5\uff0c\u53d8\u91cf\u548c\u51fd\u6570\u662f\u4f1a\u5148\u88ab\u5b58\u653e\u5230\u53d8\u91cf\u73af\u5883\u4e2d\uff0c\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u4f1a\u88ab\u8bbe\u7f6e\u4e3aundefined\uff1b\u5728\u4ee3\u7801\u6267\u884c\u9636\u6bb5JavaScript\u5f15\u64ce\u4f1a\u4ece\u53d8\u91cf\u73af\u5883\u4e2d\u53bb\u67e5\u627e\u81ea\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570--\u5c31\u662f\u6240\u8c13\u7684\u6267\u884c\u4e0a\u4e0b\u6587</li> <li>\u5982\u679c\u5728\u7f16\u8bd1\u9636\u6bb5\uff0c\u5b58\u5728\u4e24\u4e2a\u76f8\u540c\u7684\u51fd\u6570\uff0c\u90a3\u4e48\u6700\u7ec8\u5b58\u653e\u5728\u53d8\u91cf\u73af\u5883\u4e2d\u7684\u662f\u6700\u540e\u5b9a\u4e49\u7684\u90a3\u4e2a\uff0c\u8fd9\u662f\u56e0\u4e3a\u540e\u5b9a\u4e49\u7684\u4f1a\u8986\u76d6\u6389\u4e4b\u524d\u5b9a\u4e49\u7684</li> </ul> <pre><code>showName(); // 1\nvar showName = function(){\n    console.log(\"2\")\n}\nshowName(); // 2\nfunction showName(){\n    console.log(\"1\")\n}\n// 2\n</code></pre> <p>\u540c\u540d\u53d8\u91cf\u548c\u51fd\u6570\u7684\u4e24\u70b9\u5904\u7406\u539f\u5219\uff1a</p> <ul> <li>\u5982\u679c\u662f\u91cd\u540d\u7684\u51fd\u6570\uff0cJavaScript\u7f16\u8bd1\u9636\u6bb5\u4f1a\u9009\u62e9\u6700\u540e\u58f0\u660e\u7684\u90a3\u4e2a</li> <li>\u5982\u679c\u53d8\u91cf\u548c\u51fd\u6570\u540c\u540d\uff0c\u90a3\u4e48\u5728\u7f16\u8bd1\u9636\u6bb5\uff0c\u53d8\u91cf\u7684\u58f0\u660e\u4f1a\u88ab\u5ffd\u7565</li> </ul> <p>\u7406\u89e3\u4e00\u4e0b\u4e0b\u9762\u7684\u4ee3\u7801</p> <pre><code>var showName = undefined\nvar showName = function(){\n    console.log(\"2\")\n}\nshowName(); // undefined\u62a5\u9519\nfunction showName(){\n    console.log(\"1\")\n}\n</code></pre> <pre><code>// \u7f16\u8bd1\u9636\u6bb5\nVariableEnvironment\n    showName-&gt;undefined\n    showName-&gt;function(){...}\n// \u6267\u884c\u9636\u6bb5\nVariableEnvironment\n    showName-&gt;undefined\n</code></pre> <p>\u6761\u4ef6\u8bed\u53e5\u4e2d\u58f0\u660e\u51fd\u6570\u7684\u53d8\u91cf\u63d0\u5347\u662f\u4ec0\u4e48\u6837\u7684\u5462\uff1f</p> <pre><code>(function(){\n    console.log(fn) // undefined\n    if(true){\n        console.log(\"hello\")\n        function fn(){\n            return true\n        }\n    }\n}\n)\n</code></pre> <p>\u56e0\u4e3a\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u6216\u8005\u51fd\u6570\u5728\u5916\u90e8\u662f\u662f\u65e0\u6cd5\u4f7f\u7528\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u662fundefined</p> <p>ES\u89c4\u5b9a\u51fd\u6570\u4e0d\u80fd\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u51fd\u6570\uff0c</p>"},{"location":"study/BrowserPrinciple/3/","title":"\u4e3a\u4ec0\u4e48JavaScript\u4ee3\u7801\u4f1a\u51fa\u73b0\u6808\u6ea2\u51fa","text":"<p>\u521b\u5efa\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u4e09\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u5f53JS\u6267\u884c\u5168\u5c40\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4f1a\u7f16\u8bd1\u5168\u5c40\u4ee3\u7801\u5e76\u521b\u5efa\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u5e76\u4e14\u5728\u6574\u4e2a\u9875\u9762\u7684\u751f\u5b58\u5468\u671f\u5185\uff0c\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587\u53ea\u6709\u4e00\u4efd</li> <li>\u5f53\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u7684\u65f6\u5019\uff0c\u51fd\u6570\u4f53\u5185\u7684\u4ee3\u7801\u4f1a\u88ab\u7f16\u8bd1\uff0c\u5e76\u521b\u5efa\u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u51fd\u6570\u6267\u884c\u7ed3\u675f\u4e4b\u540e\uff0c\u521b\u5efa\u7684\u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\u4f1a\u88ab\u9500\u6bc1</li> <li>\u5f53\u4f7f\u7528eval\u51fd\u6570\u7684\u65f6\u5019\uff0ceval\u7684\u4ee3\u7801\u4e5f\u4f1a\u88ab\u7f16\u8bd1\uff0c\u5e76\u521b\u5efa\u6267\u884c\u4e0a\u4e0b\u6587</li> </ol>"},{"location":"study/BrowserPrinciple/3/#\u8c03\u7528\u6808","title":"\u8c03\u7528\u6808","text":"<p>\u8c03\u7528\u6808\uff1a\u8c03\u7528\u6808\u662f\u4e00\u4e2a\u540e\u8fdb\u5148\u51fa\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u8ddf\u8e2a\u51fd\u6570\u7684\u8c03\u7528</p> <p>\u5e27\uff1a\u5e27\u662f\u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u65f6\u5728\u8c03\u7528\u6808\u4e2d\u521b\u5efa\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u7528\u4e8e\u4fdd\u5b58\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u51fd\u6570\u7684\u53c2\u6570</li> <li>\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf</li> <li>\u8fd4\u56de\u5730\u5740</li> <li>\u51fd\u6570\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f</li> </ul> <p>\u8c03\u7528\u6808\u548c\u5e27\u7684\u5de5\u4f5c\u539f\u7406</p> <pre><code>function func1(){\n    func2()\n}\nfunction func2(){\n    func3()\n}\nfunction func3(){\n    console.log(\"Nihao\")\n}\nfunc1()\n</code></pre> <p>\u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u90fd\u4f1a\u5411\u8c03\u7528\u6808\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u5e27\uff0c\u8fd9\u4e2a\u5e27\u7528\u4e8e\u4fdd\u5b58\u5f53\u524d\u51fd\u6570\u7684\u6267\u884c\u72b6\u6001</p> <p>\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5e27\u4f1a\u88ab\u4ece\u8c03\u7528\u6808\u4e2d\u79fb\u9664\uff0c\u5e76\u8fd4\u56de\u5230\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u8c03\u7528\u4f4d\u7f6e\u7ee7\u7eed\u8c03\u7528</p> <p>\u8bbe\u60f3\u4e00\u4e2a\u573a\u666f\uff0c\u5f53\u9677\u5165\u4e86\u4e00\u4e2a\u6b7b\u5faa\u73af\uff0c\u6bd4\u5982\u4e00\u4e2a\u9012\u5f52\u51fd\u6570\u65e0\u4f11\u6b62\u7684\u8c03\u7528\u672c\u8eab\u65f6\uff0c\u6bcf\u6b21\u8c03\u7528JavaScript \u5f15\u64ce\u90fd\u4f1a\u4e3a\u5176\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u5e76\u5c06\u6267\u884c\u4e0a\u4e0b\u6587\u538b\u5165\u8c03\u7528\u6808\u4e2d\uff0c\u8d85\u8fc7\u6808\u7684\u5185\u5b58\u5927\u5c0f\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa</p>"},{"location":"study/BrowserPrinciple/6/","title":"\u6808\u7a7a\u95f4\u548c\u5806\u7a7a\u95f4\uff0c\u6570\u636e\u662f\u5982\u4f55\u5b58\u50a8\u7684","text":"<p>js\u4e2d\u7684\u7528\u4e8e\u5b58\u50a8\u7684\u7a7a\u95f4</p> <p>\u5806\u7a7a\u95f4\u6700\u5927\uff0c\u6808\u7a7a\u95f4\u6700\u5c0f</p> <p></p> <p>\u6808\u7a7a\u95f4\u4e2d\u4fdd\u5b58\u7684\u662f\u5f15\u7528\u5730\u5740\uff0c\u5f15\u7528\u5730\u5740\u6307\u5411\u7684\u662f\u5806\u4e2d\u5177\u4f53\u7684\u6570\u636e-\u53ea\u5bf9\u4e8e\u5f15\u7528\u7c7b\u578b\u6570\u636e\u3002\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u6570\u636e\u672c\u8eab\u8fd8\u662f\u5b58\u50a8\u5728\u6808\u7a7a\u95f4\u4e2d\u7684</p> <p>\u4f5c\u7528\u57df\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u4e5f\u90fd\u4f1a\u88ab\u5b58\u50a8\u5230\u6808\u7a7a\u95f4</p> <p></p>"},{"location":"study/BrowserPrinciple/6/#\u5783\u573e\u6570\u636e\u5982\u4f55\u81ea\u52a8\u56de\u6536","title":"\u5783\u573e\u6570\u636e\u5982\u4f55\u81ea\u52a8\u56de\u6536","text":"<p>\u624b\u52a8\u56de\u6536</p> <p>java\uff0cc++\u5c31\u662f\u5178\u578b\u7684\u624b\u52a8\u56de\u6536\u5185\u5b58\u7684\u8bed\u8a00</p> <p>\u81ea\u52a8\u56de\u6536</p> <pre><code>function foo(){\n    var a=1\n    var b={name:'max'}\n    function showName(){\n        var c=2\n        var d={name:'min'}\n    }\n    showName()\n}\n</code></pre> <p>\u6808\uff1a</p> <p>showName\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587       ESP\uff08\u6307\u9488\uff0c\u6307\u5411\u8c03\u7528\u6808\u4e2d\u6b63\u5728\u6267\u884c\u7684\u51fd\u6570\uff1bESP\u6307\u9488\u4e0b\u79fb\u540e\u5c31\u4f1a\u5c06\u4e0a\u9762\u7684\u6267\u884c\u4e0a\u4e0b\u6587\u9500\u6bc1\uff09</p> <p>foo\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587</p> <p>\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587</p> <p>\u4e0b\u56fe\u4e2d\u76841003,1050\u662f\u5806\u5730\u5740-\u8c03\u7528\u6808\u4e2d\u5df2\u7ecf\u5c06\u6267\u884c\u4e0a\u4e0b\u6587\u56de\u6536\u6389\u4e86\uff0c\u90a3\u4e48\u5806\u7a7a\u95f4\u4e2d\u662f\u5982\u4f55\u56de\u6536\u7684\uff1f</p> <p></p>"},{"location":"study/BrowserPrinciple/6/#\u4ee3\u9645\u5047\u8bf4","title":"\u4ee3\u9645\u5047\u8bf4","text":"<p>\u5927\u591a\u6570\u5bf9\u8c61\u662f\u77ed\u547d\u7684</p> <p>\u5c11\u6570\u5bf9\u8c61\u662f\u957f\u5bff\u7684</p> <p>\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4e3b\u8981\u96c6\u4e2d\u5728\u2018\u65b0\u751f\u4ee3\u2019\u4e2d</p> <p>\u2018\u8001\u5e74\u4ee3\u2019\u5bf9\u8c61\u8f83\u5c11\u88ab\u56de\u6536</p> <p>V8\u6839\u636e\u5bf9\u8c61\u7684\u5b58\u6d3b\u751f\u547d\u5468\u671f\u5c06\u5176\u5206\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u533a\u8fdb\u884c\u5b58\u50a8</p> <p>\u65b0\u751f\u533a  1-8M   \u526f\u5783\u573e\u56de\u6536\u5668</p> <p>\u8001\u751f\u533a  100M+   \u4e3b\u5783\u573e\u56de\u6536\u5668</p> <p>\u5783\u573e\u56de\u6536\u5668\u7684\u5de5\u4f5c\uff1a</p> <ol> <li>\u6807\u8bb0\uff1a\u6807\u8bb0\u6d3b\u52a8\u5bf9\u8c61\u548c\u975e\u6d3b\u52a8\u5bf9\u8c61</li> <li>\u56de\u6536\uff1a\u56de\u6536\u975e\u6d3b\u52a8\u5bf9\u8c61</li> <li>\u5185\u5b58\u6574\u7406\uff1a\u5185\u5b58\u788e\u7247\u6574\u7406</li> </ol> <p></p>"},{"location":"study/BrowserPrinciple/6/#\u526f\u5783\u573e\u56de\u6536\u5668","title":"\u526f\u5783\u573e\u56de\u6536\u5668","text":"<p>\u526f\u5783\u573e\u56de\u6536\u5668\u4e3b\u8981\u8fdb\u884c\u65b0\u751f\u533a\u7684\u5783\u573e\u56de\u6536</p> <p>\u5783\u573e\u56de\u6536-\u65b0\u751f\u533a\u4e2d\u6bcf\u6b21\u8fdb\u884c\u7684\u662f\u590d\u5236\u64cd\u4f5c\uff0c\u6bcf\u6b21\u5f53\u5bf9\u8c61\u533a\u57df\u7a7a\u95f4\u6ee1\u7684\u65f6\u5019\uff0c\u4f1a\u73b0\u5c06\u6d3b\u8dc3\u5bf9\u8c61\u590d\u5236\u5230\u7a7a\u95f2\u533a\u57df\uff0c\u5bf9\u4e00\u4e9b\u4e0d\u6d3b\u8dc3\u7684\u8fdb\u884c\u6e05\u7406\uff0c\u7136\u540e\u5c06\u6574\u4f53\u590d\u5236\u5230\u7a7a\u95f2\u533a\u57df\uff0c\u8fd9\u6837\u5bf9\u8c61\u533a\u57df\u548c\u7a7a\u95f2\u533a\u57df\u6240\u884c\u4f7f\u7684\u804c\u80fd\u4fbf\u4e92\u6362\u4e86\u3002</p> <p>\u8bb2\u8fc7\u4e24\u5230\u4e09\u6b21\u5783\u573e\u56de\u6536\u540e\u4f9d\u65e7\u5b58\u6d3b\u7684\u5bf9\u8c61\u4f1a\u88ab\u653e\u5230\u8001\u751f\u533a\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u65b0\u751f\u533a\u5728\u8fdb\u884c\u590d\u5236\u65f6\u6240\u6d88\u8017\u7684\u6027\u80fd</p>"},{"location":"study/BrowserPrinciple/6/#\u4e3b\u5783\u573e\u56de\u6536\u5668","title":"\u4e3b\u5783\u573e\u56de\u6536\u5668","text":"<p>\u6807\u8bb0+\u6e05\u9664+\u5185\u5b58\u6574\u7406\uff08\u6574\u7406\u51fa\u6765\u8fde\u7eed\u7684\u5185\u5b58\uff09</p> <ul> <li>\u6807\u8bb0\uff1a\u904d\u5386\u626b\u63cf\u662f\u5426\u4f7f\u7528\u4e86\u8fd9\u5757\u5185\u5b58\u533a\u57df</li> <li>\u6e05\u9664\uff1a\u6e05\u9664\u88ab\u6807\u8bb0\u4e3a\u5783\u573e\u6570\u636e\u7684\u5185\u5b58\u533a\u57df</li> </ul>"},{"location":"study/GoogleV8/11/","title":"co\u6a21\u5757\u6e90\u7801\u5206\u6790","text":"<p>yield\u8bed\u53e5\u53ca\u5176\u4e4b\u524d\u662f\u4e00\u90e8\u5206\uff0cyield\u8bed\u53e5\u4e4b\u540e\u662fnext\u7684\u90e8\u5206</p>"},{"location":"study/GoogleV8/11/#\u7528\u6cd5","title":"\u7528\u6cd5","text":"<p>\u6bd4\u5982\u6709\u4e00\u4e2aGenerator\u51fd\u6570\uff0c\u7528\u4e8e\u4e00\u6b21\u8bfb\u53d6\u4e24\u4e2a\u6587\u4ef6\uff1a</p> <pre><code>var gen = function* (){\n    var f1 = yield readFile('/src')\n    var f2 = yield readFile('/src')\n    console.log(f1.toString())\n    console.log(f2.toString())\n}\n</code></pre> <p>co\u51fd\u6570\u5e93\u53ef\u4ee5\u8ba9\u4f60\u4e0d\u7528\u7f16\u5199Generator\u51fd\u6570\u7684\u6267\u884c\u5668</p> <pre><code>var co = require('co') // \u5f15\u5165co\u5e93\nco(gen)\n</code></pre> <p>co\u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e00\u4e2apromise\u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528then\u65b9\u6cd5\u6dfb\u52a0\u56de\u8c03\u51fd\u6570</p> <pre><code>co(gen).then(()=&gt;{\n    console.log('Generator\u51fd\u6570\u6267\u884c\u5b8c\u6210')\n})\n</code></pre>"},{"location":"study/GoogleV8/11/#co\u51fd\u6570\u5e93\u7684\u539f\u7406","title":"co\u51fd\u6570\u5e93\u7684\u539f\u7406","text":"<p>\u4e3a\u4ec0\u4e48co\u53ef\u4ee5\u81ea\u52a8\u6267\u884cGenerator\u51fd\u6570\uff1f</p> <p>Generator\u51fd\u6570\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\u7684\u5bb9\u5668\uff0c\u4ed6\u7684\u81ea\u52a8\u6267\u884c\u9700\u8981\u4e00\u79cd\u673a\u5236\uff0c\u5f53\u5f02\u6b65\u64cd\u4f5c\u6709\u4e86\u7ed3\u679c\uff0c\u80fd\u591f\u81ea\u52a8\u4ea4\u56de\u6267\u884c\u6743\u3002</p> <p>\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9;</p> <ol> <li>\u56de\u8c03\u51fd\u6570\u3002\u5c06\u540c\u6b65\u64cd\u4f5c\u5305\u88c5\u79e4Thunk\u51fd\u6570\uff0c\u5728\u56de\u8c03\u51fd\u6570\u91cc\u9762\u4ea4\u56de\u6267\u884c\u6743\u3002</li> <li>Promise\u5bf9\u8c61\u3002\u5c06\u5f02\u6b65\u64cd\u4f5c\u5305\u88c5\u6210Promise\u5bf9\u8c61\uff0c\u7528then\u65b9\u6cd5\u4ea4\u56de\u6267\u884c\u6743\u3002</li> </ol> <p>co\u51fd\u6570\u5e93\u5176\u5b9e\u5c31\u662f\u5c06\u4e24\u79cd\u81ea\u52a8\u6267\u884c\u5668\uff08Thunk\u51fd\u6570\u548cPromise\u5bf9\u8c61\uff09\uff0c\u5305\u88c5\u6210\u4e00\u4e2a\u5e93\uff0c\u4f7f\u7528co\u7684\u524d\u63d0\u6761\u4ef6\u662f\uff0cGenerator\u51fd\u6570\u7684yield \u547d\u4ee4\u540e\u9762\uff0c\u53ea\u80fd\u662fThunk\u51fd\u6570\u6216\u8005\u662fPomise\u5bf9\u8c61\u3002</p>"},{"location":"study/GoogleV8/11/#co\u6e90\u7801","title":"co\u6e90\u7801","text":"<p>\u5177\u4f53\u5b9e\u73b0\u903b\u8f91\uff0c\u6211\u4f1a\u52a0\u4e0a\u4e00\u4e9b\u81ea\u5df1\u7684\u7406\u89e3</p> <pre><code>/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1);\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n      return null;\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length &gt; 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i &lt; keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise &amp;&amp; isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next &amp;&amp; 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n</code></pre>"},{"location":"study/GoogleV8/12/","title":"async\u51fd\u6570\u7684\u5b9e\u73b0\u539f\u7406","text":""},{"location":"study/GoogleV8/12/#\u4ec0\u4e48\u662fasync\u51fd\u6570","title":"\u4ec0\u4e48\u662fasync\u51fd\u6570\uff1f","text":"<p>Generator\u51fd\u6570\u7684\u8bed\u6cd5\u7cd6-\u8bed\u6cd5\u7cd6\u5c31\u662f\u7528\u66f4\u52a0\u7b80\u7ec3\u7684\u8bed\u8a00\u8868\u8fbe\u8f83\u590d\u6742\u7684\u542b\u4e49\u3002\u5728\u5f97\u5230\u5e7f\u6cdb\u63a5\u53d7\u7684\u60c5\u51b5\u4e4b\u4e0b\uff0c\u53ef\u4ee5\u63d0\u5347\u4ea4\u6d41\u7684\u6548\u7387</p> <p>async\u8981\u4e0eawait\u914d\u5957\u8fdb\u884c\u4f7f\u7528</p>"},{"location":"study/GoogleV8/12/#\u5185\u7f6e\u6267\u884c\u5668","title":"\u5185\u7f6e\u6267\u884c\u5668","text":"<pre><code>const asyncReadFile = async function(){\n    const f1 = await readFile('')\n    const f2 = await readFile('')\n}\nasyncReadFile()\n</code></pre> <p>\u8c03\u7528asyncReadFile\u51fd\u6570\uff0c\u7136\u540e\u4f1a\u81ea\u52a8\u6267\u884c\uff0c\u8f93\u51fa\u6700\u540e\u7ed3\u679c</p> <p>async\u548cawait\uff0c\u6bd4\u8d77\u661f\u53f7\u548cyield\uff0c\u8bed\u4e49\u66f4\u6e05\u695a\u3002async\u8868\u793a\u51fd\u6570\u91cc\u6709\u5f02\u6b65\u64cd\u4f5c\uff0cawait\u8868\u793a\u7d27\u8ddf\u5728\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u9700\u8981\u7b49\u5f85\u7ed3\u679c</p>"},{"location":"study/GoogleV8/12/#\u8fd4\u56de\u503c\u662fpromise","title":"\u8fd4\u56de\u503c\u662fpromise","text":"<p>async\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662fpromise\u5bf9\u8c61\uff0c\u8fd9\u6bd4Generator\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662fIterator\u5bf9\u8c61\u65b9\u4fbf\u591a\u4e86\u3002\u53ef\u4ee5\u4f7f\u7528then\u65b9\u6cd5\u6307\u5b9a\u4e0b\u4e00\u6b65\u7684\u64cd\u4f5c\u3002</p> <p>\u8fdb\u4e00\u6b65\u8bf4\uff0casync\u51fd\u6570\u5b8c\u5168\u53ef\u4ee5\u770b\u4f5c\u662f\u591a\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u5305\u88c5\u6210\u7684\u4e00\u4e2apromise\u5bf9\u8c61\uff0c\u800cawait\u547d\u4ee4\u5c31\u662f\u5185\u90e8then\u547d\u4ee4\u7684\u8bed\u6cd5\u7cd6</p> <p>async\u51fd\u6570\u7684await\u547d\u4ee4\u540e\u9762\uff0c\u53ef\u4ee5\u662fpromise\u5bf9\u8c61\u548c\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\uff0c\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\uff0c\u4f46\u8fd9\u65f6\u4f1a\u81ea\u52a8\u8f6c\u6210\u7acb\u5373resolve\u7684promise\u5bf9\u8c61\uff09</p>"},{"location":"study/GoogleV8/12/#async\u51fd\u6570\u7684\u57fa\u672c\u7528\u6cd5","title":"async\u51fd\u6570\u7684\u57fa\u672c\u7528\u6cd5","text":"<p>async\u51fd\u6570\u672c\u8eab\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2apromise\u5bf9\u8c61\uff0c\u6240\u4ee5\u9664\u4e86\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528await\u8bed\u6cd5\u7cd6\u4e4b\u5916\uff0c\u51fd\u6570\u672c\u8eab\u4e5f\u662f\u53ef\u4ee5\u4f7f\u7528then\u7684</p> <pre><code>async function f(){\n    return 1 // \u57fa\u672c\u7c7b\u578b\u7684\u503c\uff0c\u7b49\u540c\u4e8e return await 1 \n}\nf().then(res=&gt;{\n    console.log(res) // 1\n})\n</code></pre>"},{"location":"study/GoogleV8/12/#\u7ebf\u7a0b\u7761\u7720","title":"\u7ebf\u7a0b\u7761\u7720","text":"<pre><code>function sleep (interval,i) {\n    console.log(i)\n    return new Promise(resolve=&gt;{\n    return new Promise(resolve=&gt;{\n        setTimeout(resolve,interval)\n    })\n}\nasync function fiveAsync(){\n        for(let i =1;i&lt;5;i++) {\n            sleep(1000,i) //\u540c\u65f6\u6253\u53701,2,3,4,5\n            await sleep(1000,i) //\u6bcf\u9694\u4e00\u79d2\u6253\u53701,2,3,4,5 await\u540e\u7684\u8bed\u53e5\u5168\u90e8\u6267\u884c\u7ed3\u675f\u4ee5\u540e\u624d\u53ef\u4ee5\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\n        }\n}\n</code></pre> <p>\u8ba9\u6211\u60f3\u8d77\u4e86\u4e4b\u524d\u7684\u4e00\u9053\u9762\u8bd5\u9898\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5185\u6709\u4e94\u4e2a\u5143\u7d20\u5206\u522b\u662f\u4e94\u4e2a\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u6267\u884c\u7ed3\u675f\u4ee5\u540e\u624d\u53ef\u4ee5\u53bb\u6267\u884c\u540e\u9762\u7684\u65b9\u6cd5\uff08\u65b9\u6cd5\u80fd\u5426\u6210\u529f\u6267\u884c\u662f\u968f\u673a\u7684\uff09\uff0c\u4e14\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u6709\u4e24\u6b21\u7684\u91cd\u8bd5\u673a\u4f1a\uff0c\u4e24\u6b21\u4ee5\u540e\u65e0\u8bba\u662f\u6210\u529f\u6216\u8005\u662f\u5931\u8d25\u90fd\u4f1a\u53bb\u6267\u884c\u4e0b\u4e00\u4e2a\u65b9\u6cd5\u3002\u5f53\u65f6\u6ca1\u6709\u505a\u51fa\u6765\uff0c\u73b0\u5728\u60f3\u60f3\u5c31\u662f\u8981\u7528async\u51fd\u6570\u5b9e\u73b0\u3002</p>"},{"location":"study/GoogleV8/12/#\u540c\u65f6\u89e6\u53d1","title":"\u540c\u65f6\u89e6\u53d1","text":"<p>\u5f53\u4e24\u4e2a\u5f02\u6b65\u51fd\u6570\u6ca1\u6709\u524d\u540e\u6267\u884c\u7684\u5fc5\u7136\u5173\u7cfb\u65f6\uff0c\u53ef\u4ee5\u4f7f\u4e24\u4e2a\u5f02\u6b65\u51fd\u6570\u540c\u65f6\u6267\u884c\u7f29\u51cf\u6267\u884c\u7684\u65f6\u95f4</p> <pre><code>let foo = await getFoo()\nlet bar = await getBar()\n\n// \u5199\u6cd5\u4e00\nlet [foo,bar] = await Promise.all([getFoo(),getBar()])// \u56e0\u4e3aawait\u672c\u8eab\u5c31\u662f\u4f1a\u5c06\u540e\u9762\u7684\u65b9\u6cd5\u8f6c\u4e3apromise\u5bf9\u8c61\u6267\u884c\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528promise.all\u5c06\u5176\u8f6c\u4e3apromise\u5bf9\u8c61\u662f\u4e00\u6837\u7684\u6548\u679c\n// \u5199\u6cd5\u4e8c\nlet fooPromise = getFoo()\nlet barPromise = getBar()\nlet foo = await fooPromise;\nlet bar = await barPromise;\n</code></pre>"},{"location":"study/GoogleV8/12/#await\u547d\u4ee4\u5e94\u7528","title":"await\u547d\u4ee4\u5e94\u7528","text":"<p>\u524d\u9762\u63d0\u5230\u7684\u90a3\u4e2a\u9762\u8bd5\u9898\u5c31\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u5904\u7406\uff0cdb\u662f\u81ea\u5df1\u5c01\u88c5\u7684\u5904\u7406\u51fd\u6570\uff0c\u53ef\u4ee5\u5728db\u5185\u90e8\u5b9e\u73b0\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u6709\u4e24\u6b21\u7684\u91cd\u8bd5\u673a\u4f1a\u8fdb\u884c\u6267\u884c\u7684\u903b\u8f91\uff0c\u4f46\u662f\u4e0d\u80fd\u591f\u4f7f\u7528forEach\uff0c\u56e0\u4e3aforEach\u4e2d\u7684\u56de\u8c03\u662f\u5e76\u53d1\u6267\u884c\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528for\u5faa\u73af</p> <pre><code>async function dbFunc(db){\n    let docs = [{},{},{}]\n    docs.forEach(async function(doc){\n        await db.post(doc)\n    })\n    for(let doc of docs) {\n        await db.post(doc)\n    }\n}\n</code></pre>"},{"location":"study/GoogleV8/12/#async\u51fd\u6570\u5b9e\u73b0\u539f\u7406","title":"async\u51fd\u6570\u5b9e\u73b0\u539f\u7406","text":""},{"location":"study/GoogleV8/13/","title":"\u624b\u5199Promise A+\u89c4\u8303\u7684Promise","text":""},{"location":"study/GoogleV8/13/#then\u65b9\u6cd5","title":"then\u65b9\u6cd5","text":"<ul> <li>\u4e00\u4e2apromise\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2athen\u65b9\u6cd5\uff0c\u7528\u6765\u83b7\u53d6\u5f53\u524d\u5f02\u6b65\u64cd\u4f5c\u7684value\u6216error</li> <li>\u4e00\u4e2apromise\u7684then\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1apromise.then(onFulfilled\uff0conRejected)</li> <li>then\u65b9\u6cd5\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a\u65b0\u7684promise\u5b9e\u4f8b\u3002\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u94fe\u5f0f\u5199\u6cd5\uff0c\u5373then\u65b9\u6cd5\u540e\u518d\u8c03\u7528\u53e6\u4e00\u4e2athen\u65b9\u6cd5</li> </ul>"},{"location":"study/GoogleV8/13/#\u624b\u5199promise","title":"\u624b\u5199Promise","text":""},{"location":"study/GoogleV8/13/#\u9996\u5148\u9700\u8981\u505a\u4ec0\u4e48","title":"\u9996\u5148\u9700\u8981\u505a\u4ec0\u4e48\uff1f","text":"<p>\u7b2c\u4e00\u6b65\u9700\u8981\u521b\u5efa\u4e00\u4e2acontainer\uff08\u5bb9\u5668\uff0c\u53ef\u901a\u8fc7\u5176\u6784\u5efa\u4e00\u4e2a\u5bb9\u5668\u5b9e\u4f8b\uff09\uff0c\u5bb9\u5668\u7684\u5927\u81f4\u4f5c\u7528\u5982\u4e0b\uff1a</p> <ol> <li>\u5bb9\u5668\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61con\u4e2d\u9996\u5148\u9700\u8981\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u56de\u8c03\u51fd\u6570\u7684\u6570\u7ec4</li> <li>con\u4e2d\u9700\u8981\u6709\u4e00\u4e9b\u5fc5\u8981\u7684\u65b9\u6cd5\uff0c\u5982add\uff08\u5411\u6570\u7ec4\u4e2d\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\uff09\uff0cstartup\uff08\u6267\u884c\u6570\u7ec4\u4e2d\u7684\u56de\u8c03\u51fd\u6570\uff09\u7b49\u7b49</li> <li>\u5bb9\u5668\u521d\u59cb\u5316\u65f6\uff0c\u9700\u8981\u6839\u636e\u72b6\u6001\u521b\u5efa\u4e0d\u540c\u6a21\u5f0f\u7684\u5bb9\u5668\uff0c\u5982\uff1astopOnFalse\uff08\u5982\u679c\u67d0\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u8fd4\u56defalse\u65f6\uff0c\u662f\u5426\u7ec8\u6b62\u6267\u884c\uff09\u3001memory\uff08\u5728\u6dfb\u52a0\u65b0\u7684\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u539f\u672c\u7684\u56de\u8c03\u51fd\u6570\u662f\u5426\u4f1a\u88ab\u518d\u6b21\u6267\u884c\uff09\u3001once\uff08\u6570\u7ec4\u4e2d\u56de\u8c03\u51fd\u6570\u662f\u5426\u53ea\u6267\u884c\u4e00\u6b21\uff09\u7b49\u7b49\u6807\u7b7e</li> </ol>"},{"location":"study/GoogleV8/13/#container\u7684\u521b\u5efa","title":"container\u7684\u521b\u5efa","text":"<p>container\u521b\u5efademo\u5982\u4e0b\uff1a</p> <pre><code>var cache = {};// \u7f13\u5b58\u5bf9\u8c61\nvar container =function (flags){\n    flags = typeof flags =='string' ? (cache[flags] || createFlags(flags)): extend({},flags)\n    console.log(flags)\n    var carryOut,len,i,memory,stackLen, stackPoint;\n    var stack = []; // \u7528\u4e8e\u5b58\u50a8\u56de\u8c03\u5217\u8868\n    // \u6267\u884c\u4f20\u9012\u8fc7\u6765\u7684\u56de\u8c03\u51fd\u6570\u6570\u7ec4\n    var fire = function (data) {\n        memory = flags.memory &amp;&amp; data\n        len = stack.length\n        i = stackPoint || 0\n        stackPoint = 0\n        carryOut = true\n        for (;i&lt;len;i++) {\n            if(stack[i].apply(data[0], data[1]) == false &amp;&amp; flags.stopOnFalse){ \n                //\u6267\u884c\u5f53\u524d\u51fd\u6570\u5e76\u4e14\u4e3a\u5176\u7ed1\u5b9a\u6267\u884c\u4e0a\u4e0b\u6587\n                break;\n            }\n        }\n    }\n    var self ={\n        // add\u51fd\u6570\u7684\u5199\u6cd5\u662f\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u51fd\u6570IIFE\uff0c\u540e\u9762\u7684(arguments)\u5219\u662f\u7acb\u5373\u8c03\u7528\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u5e76\u5c06                  arguments\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5b83\uff0c\u5176\u5b9earguments\u5c31\u662f\u5bf9\u5e94\u5165\u53c2\u4e2d\u7684args\n        // (function(args) {\n        //     \u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u4f7f\u7528args\u8bbf\u95ee\u4f20\u5165\u7684\u53c2\u6570\n        // })(arguments);\n        add: function (){\n            (function add(args){\n                stackLen = stack.length\n                // Array.from(agrs)\u5c06\u4f20\u8fdb\u6765\u7684\u6570\u636e\u8f6c\u6362\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u8fdb\u884c\u5904\u7406\n                Array.from(args).forEach(function (arg){\n                    // agr.toString()\u548ctoString.call(agr)\u5728\u67d0\u79cd\u60c5\u51b5\u4e0b\u662f\u4e00\u6837\u7684\u6548\u679c\uff0c\u4f46\u662f\u8fd8\u662f\u6709\u4e00\u5b9a                        \u7684\u4e0d\u4e00\u6837\n                    // 1\uff0c\u9996\u5148agr.toString()\u9700\u8981\u4fdd\u8bc1agr\u672c\u8eab\u6709toString()\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5426\u5219\u4f1a\u6709\u672a\u77e5\u7684\u9519\u8bef\n                    // 2\uff0ctoString.call(agr)\u5219\u66f4\u52a0\u7684\u5b89\u5168\uff0c\u5373\u4f7f agr \u662f null \u6216 undefined\uff0c                              Object.prototype.toString.call(null) \u548c                                                    Object.prototype.toString.call(undefined) \u4e5f\u4e0d\u4f1a\u629b\u51fa\u9519\u8bef\uff0c\u800c\u662f\u8fd4\u56de \"                            [object Null]\" \u548c \"[object Undefined]\"\u3002\n                    // if(agr.toString() ==='[Object Function]') {\n                    // \u6210\u5458\u662f\u4e00\u4e2a\u975e\u6570\u7ec4\uff0c\u662f\u4e00\u4e2a\u51fd\u6570\u7684\u60c5\u51b5\n                    if(toString.call(arg) ==='[object Function]') {\n                        // \u68c0\u6d4b\u662f\u5426\u6709\u91cd\u590d\u7684\u56de\u8c03\n                        if (!self.has(arg)){\n                            stack.push(arg)\n                        }\n                        // \u4f20\u8fdb\u6765\u7684\u5165\u53c2\u662f\u6570\u7ec4\u7684\u60c5\u51b5\uff0c\u5c31\u9012\u5f52\u6dfb\u52a0\n                    } else if ( arg &amp;&amp; arg.length &amp;&amp; typeof arg !== 'string' ) {\n                        add(arg)\n                    }\n                })\n            })(arguments)// arguments\u662f\u7236\u7ea7\u51fd\u6570\u7684\u5165\u53c2\n            if (memory) {\n                stackPoint =stackLen\n                fire(memory)\n            }\n        }, // \u5411\u56de\u8c03\u5217\u8868\u4e2d\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\n        // context\u5c31\u662f\u5f53\u524d\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587\n        startupWith:function (context, args){\n            args || [];\n            args = [context,args]\n            // \u56e0\u4e3a\u6bcf\u6b21\u6267\u884cstartup\u90fd\u662f\u8c03\u7528startupWith\u51fd\u6570\uff0c\u4e14startupWith\u4e2d\u4e3b\u8981\u662f\u4f7f\u7528fire\u65b9\u6cd5\u8c03\u7528\u56de\u8c03\u51fd\u6570\u6570\u7ec4\u4e2d\u7684\u51fd\u6570\uff0c\u6240\u4ee5\u53ea\u9700\u63a7\u5236\u662f\u5426\u6267\u884cfire\u51fd\u6570\u5373\u53ef\n            if (!flags.once || !carryOut) {\n                fire(args)\n            }\n        },\n        startup: function (){\n            self.startupWith(this, arguments) \n            // this\u5c31\u662fself\uff0carguments\u5c31\u662f\u8c03\u7528startup\u51fd\u6570\u7684\u5165\u53c2\n        }, // \u5f00\u59cb\u6267\u884c\u56de\u8c03\u5217\u8868\u4e2d\u7684\u56de\u8c03\u51fd\u6570\n        has: function (fn){\n            return stack.indexOf(fn) &gt; -1; // \u5927\u4e8e-1\u8bf4\u660e\u6709\u91cd\u590d\u7684\u503c\n        }\n    };\n    return self;\n}\nfunction createFlags(flags){\n    var res = {};\n    // \u7528\u4e8e\u5728\u7a7a\u767d\u5904\u5c06flags\u8fdb\u884c\u62c6\u5206\uff0c\u5c06flags\u6839\u636e\u7a7a\u683c\u8fdb\u884c\u62c6\u5206\u62c6\u5206\u4e3a\u6570\u7ec4\n    (flags.match(/\\S+/g)||[]).forEach(function (flag) {\n        res[flag] = true;\n    });\n    return res\n}\nfunction extend(to,from){\n    for (let key in from){\n        to[key] = from[key];\n    }\n    return to\n}\n</code></pre>"},{"location":"study/GoogleV8/13/#promise\u7684\u521b\u5efa","title":"Promise\u7684\u521b\u5efa","text":"<pre><code>function Promise (func){\n    var tuples = [\n        // \u72b6\u6001 \u6dfb\u52a0\u56de\u8c03\u7684\u65b9\u6cd5\uff08\u8bed\u6cd5\u7cd6\uff09 \u521b\u5efa\u5bb9\u5668-&gt;\u56de\u8c03\u5217\u8868  \u5f02\u6b65\u64cd\u4f5c\u7684\u6700\u7ec8\u7684\u72b6\u6001\n        ['resolve','done',container('once memory'),'resolved'],\n        ['reject','fail',container('stopOnFalse'),'rejected']\n    ]\n    var state = 'pending' // \u53ea\u8981\u521b\u5efapromise\u5bf9\u8c61\u5c31\u662f\u5904\u4e8epending\u7684\u72b6\u6001\n    var chain = {\n        then: function (/* fnSuccess\uff0cfnFail*/) {\n            var args = arguments\n            return Promise(function (resolve, reject) {\n                tuples.forEach(function (tuple,index){\n                    // \u5224\u65ad\u4f20\u9012\u8fc7\u6765\u7684resolve\u548creject\u662f\u4e0d\u662f\u51fd\u6570\n                    var fn = toString.call(args[index]) === '[object Function]' &amp;&amp; args[index]\n                    chain[tuple[1]](function () {\n                        var returned = fn &amp;&amp; fn.apply(this, arguments)\n                        if (returned &amp;&amp; toString.call(returned.then)=='[object Function]') {\n                            returned.done(resolve)\n                            returned.fail(reject)\n                        }\n                    })\n                })\n            })\n        }\n    }\n    var protect = {}\n    tuples.forEach(function (tuple,index){\n        // list\u5c31\u662f\u521b\u5efa\u51fa\u6765\u7684\u5bb9\u5668\n        var list =  tuple[2];\n        var statusString = tuple[3]\n        if(statusString) {\n            list.add(function () {\n                state = statusString\n            })\n        }\n        // chain [done / fail]\uff0c\u901a\u8fc7chain.done  chain.fail\u6765\u5411\u5bf9\u5e94\u7684\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u7684\n        chain[tuple[1]] = list.add\n\n        // \u72b6\u6001\u7ed1\u5b9a resolve('xxxx') reject('xxxxx')\n        protect[tuple[0]] = function () {\n            protect[tuple[0]+'With'](this, arguments)\n        }\n\n        // resolveWith rejectWith\n        protect[tuple[0]+'With'] = list.startupWith\n\n    })\n    if(func){\n        func.call(chain, protect['resolve'], protect['reject'])\n    }\n    return chain\n}\n</code></pre>"},{"location":"study/GoogleV8/14/","title":"web Work\u591a\u7ebf\u7a0b\u673a\u5236","text":"<p>web work\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u4e3aJavaScript\u521b\u5efa\u591a\u7ebf\u7a0b\u73af\u5883\uff0c\u5141\u8bb8\u4e3b\u7ebf\u7a0b\u521b\u5efaworker\u7ebf\u7a0b\uff0c\u5c06\u4e00\u4e9b\u4efb\u52a1\u5206\u914d\u7ed9\u540e\u8005\u8fd0\u884c\u3002\u5728\u4e3b\u7ebf\u7a0b\u8fd0\u884c\u7684\u540c\u65f6\uff0cworker\u7ebf\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4e24\u8005\u4e92\u4e0d\u5e72\u6270\u3002</p>"},{"location":"study/GoogleV8/14/#\u4e3b\u7ebf\u7a0b\u548c\u591a\u7ebf\u7a0b","title":"\u4e3b\u7ebf\u7a0b\u548c\u591a\u7ebf\u7a0b","text":"<p>\u7528\u6237\u4f7f\u7528\u6d4f\u89c8\u5668\u4e00\u822c\u4f1a\u6253\u5f00\u591a\u4e2a\u9875\u9762\uff08\u591atab\uff09\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u4f7f\u7528\u5355\u72ec\u7684\u8fdb\u7a0b\u6e32\u67d3\u6bcf\u4e2a\u9875\u9762\uff0c\u4ee5\u63d0\u5347\u9875\u9762\u7684\u6027\u80fd\u548c\u7a33\u5b9a\u6027\uff0c\u5e76\u8fdb\u884c\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u5185\u5b58\u9694\u79bb\uff0c\u8fd9\u6837\u5f53\u67d0\u4e2a\u9875\u9762\u5d29\u6e83\u7684\u65f6\u5019\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u9875\u9762</p>"},{"location":"study/GoogleV8/14/#\u4e3b\u7ebf\u7a0b","title":"\u4e3b\u7ebf\u7a0b","text":"<p>\u9875\u9762\u5185\uff0c\u5185\u5bb9\u6e32\u67d3\u548c\u7528\u6237\u4ea4\u4e92\u4e3b\u8981\u662f\u7531render process\uff08\u6e32\u67d3\u8fdb\u7a0b\uff09\u4e2d\u7684\u4e3b\u7ebf\u7a0b\u8fdb\u884c\u7ba1\u7406\uff0c\u4e3b\u7ebf\u7a0b\u6e32\u67d3\u9875\u9762\u7684\u6bcf\u4e00\u5e27\uff0c\u4f1a\u6709\u516d\u4e2a\u6b65\u9aa4\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>JavaScript</li> <li>DOM\u6811\u6784\u5efa</li> <li>style\u6837\u5f0f\u8ba1\u7b97</li> <li>layout\u56fe\u5c42\u6784\u5efa</li> <li>paint\u56fe\u5c42\u7ed8\u5236</li> <li>\u5408\u6210\u663e\u793a</li> </ol> <p></p> <p>\u5355\u7ebf\u7a0b\u7684\u4e3b\u8981\u56f0\u6270\u662f\uff1a\u4e3b\u7ebf\u7a0b\u540c\u6b65JS\u6267\u884c\u8017\u65f6\u8fc7\u4e45\u65f6\uff08\u6d4f\u89c8\u5668\u7406\u60f3\u5e27\u95f4\u9694\u7ea616ms\uff09\uff0c\u4f1a\u963b\u585e\u7528\u6237\u4ea4\u4e92\u548c\u9875\u9762\u6e32\u67d3</p> <p>\u4e3b\u7ebf\u7a0b\u540c\u6b65JS\u6267\u884c-\u4ee3\u7801\u6309\u7167\u987a\u5e8f\u4e00\u6761\u63a5\u4e00\u6761\u5730\u6267\u884c\uff0c\u6bcf\u6761\u8bed\u53e5\u5fc5\u987b\u7b49\u5f85\u524d\u4e00\u6761\u8bed\u53e5\u5b8c\u6210\u4e4b\u540e\u624d\u80fd\u5f00\u59cb</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\u3002\u957f\u8017\u65f6\u4efb\u52a1\u6267\u884c\u65f6\uff08\u6bd4\u5982\u67d0js\u4ee3\u7801\u7684\u6267\u884c\uff09\uff0c\u9875\u9762\u5c06\u65e0\u6cd5\u66f4\u65b0\uff0c\u4e5f\u65e0\u6cd5\u54cd\u5e94\u7528\u6237\u7684\u8f93\u5165/\u70b9\u51fb/\u6eda\u52a8\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"study/GoogleV8/14/#\u591a\u7ebf\u7a0b","title":"\u591a\u7ebf\u7a0b","text":"<p>web worker\u4f1a\u521b\u5efa\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u7ebf\u7a0b</p> <p>JS\u591a\u7ebf\u7a0b\uff0c\u662f\u72ec\u7acb\u4e8e\u4e3b\u7ebf\u7a0b\u7684JS\u8fd0\u884c\u73af\u5883\uff0c\u4e0d\u540c\u7ebf\u7a0b\u4e4b\u95f4\u901a\u8fc7postMessage\u901a\u4fe1</p> <p></p> <p>\u591a\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5e76\u53d1\u6267\u884cJS\u4ee3\u7801</p>"},{"location":"study/GoogleV8/14/#webworker\u5e94\u7528\u573a\u666f","title":"webWorker\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u53ef\u4ee5\u51cf\u5c11\u4e3b\u7ebf\u7a0b\u5361\u987f</li> <li>\u53ef\u80fd\u4f1a\u5e26\u6765\u6027\u80fd\u63d0\u5347</li> </ul> <p>worker\u5728\u6d4f\u89c8\u5668\u4e3b\u7ebf\u7a0b\u6e32\u67d3\u5468\u671f\u5185\uff0c\u4f1a\u5c06\u53ef\u80fd\u963b\u585e\u9875\u9762\u6e32\u67d3\u7684JavaScript\u8fd0\u884c\u4efb\u52a1\u8fc1\u79fb\u5230worker\u7ebf\u7a0b\u4e2d\u8fdb\u884c\uff0c\u8fdb\u800c\u51cf\u5c0f\u4e3b\u7ebf\u7a0b\u7684\u8d1f\u62c5\uff0c\u7f29\u77ed\u6e32\u67d3\u95f4\u9694\uff0c\u51cf\u5c11\u9875\u9762\u5361\u987f</p>"},{"location":"study/GoogleV8/14/#worker-api","title":"worker API","text":""},{"location":"study/GoogleV8/14/#\u901a\u4fe1api","title":"\u901a\u4fe1API","text":"<p>\u5728\u4e3b\u7ebf\u7a0bjs\u4ee3\u7801\u4e2d\u521b\u5efaworker\u7ebf\u7a0b\uff0c\u521b\u5efa\u51fa\u6765\u7684worker\u7ebf\u7a0b\u8fd0\u884c\u73af\u5883\u662f\u5b8c\u5168\u72ec\u7acb\u4e8e\u4e3b\u7ebf\u7a0b\u7684</p> <p></p> <p>\u4f7f\u7528woker\u8fdb\u884c\u7b80\u6613\u7684\u901a\u4fe1</p> <pre><code>// main.js\nconst worker = new Worker('./worker.js')\nworker.postMessage('hello')\nworker.onmessage = (event)=&gt;{\n    console.log(event.data)// world\n}\n// worker.js\nself.onmessage = (event)=&gt;{\n    console.log(event.data) // hello\n    postMessage('world') \n}\n</code></pre>"},{"location":"study/GoogleV8/14/#\u901a\u4fe1\u5f00\u9500","title":"\u901a\u4fe1\u5f00\u9500","text":"<p>\u4ece\u7ebf\u7a0b\u53d1\u9001\u4fe1\u606f\u5230\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u63a5\u6536\u5230\u4fe1\u606f\u4e4b\u95f4\u6709\u4e00\u5b9a\u7684\u65f6\u95f4\u6d88\u8017\uff0c\u8fd9\u4e2a\u6d88\u8017\u53eb\u505a\u901a\u4fe1\u6d88\u8017</p> <p></p> <p>worker\u8fd0\u884c\u73af\u5883\u4e0e\u4e3b\u7ebf\u7a0b\u7684\u5171\u540c\u70b9\uff1a</p> <ul> <li>\u5305\u542b\u5b8c\u6574\u7684JS\u8fd0\u884c\u65f6\uff0c\u652f\u6301ES\u89c4\u8303\u5b9a\u4e49\u7684\u8bed\u8a00\u8bed\u6cd5\u548c\u5185\u7f6e\u5bf9\u8c61</li> <li>\u652f\u6301XmlHttpRequest\uff0c\u80fd\u72ec\u7acb\u7684\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u548c\u540e\u53f0\u4ea4\u4e92</li> <li>\u5305\u542b\u53ea\u8bfb\u7684location\u6307\u5411worker\u7ebf\u7a0b\u6267\u884c\u7684script url\uff0c\u53ef\u901a\u8fc7url\u4f20\u9012\u53c2\u6570\u7ed9worker\u73af\u5883</li> <li>\u5305\u542b\u53ea\u8bfb\u7684Navigator\u7528\u6237\u83b7\u53d6\u6d4f\u89c8\u5668\u4fe1\u606f\uff0c\u5982\u901a\u8fc7Navigator.userAgent\u8bc6\u522b\u6d4f\u89c8\u5668</li> <li>\u652f\u6301setTimeout/setInterval\u8ba1\u65f6\u5668\uff0c\u53ef\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u903b\u8f91</li> <li>\u652f\u6301WebSocket\u8fdb\u884c\u7f51\u7edcI/O\uff0c\u652f\u6301IndexedDB\u8fdb\u884c\u6587\u4ef6I/O</li> </ul> <p>\u5176\u4e2d\u7684\u7f51\u7edcI/O\u548c\u6587\u4ef6I/O\u80fd\u529b\u53ef\u4ee5\u7ed9\u4e1a\u52a1\u548c\u6280\u672f\u65b9\u6848\u5e26\u6765\u5f88\u5927\u7684\u53ef\u63d0\u5347\u7a7a\u95f4</p> <p>worker\u8fd0\u884c\u73af\u5883\u4e0e\u4e3b\u7ebf\u7a0b\u7684\u5dee\u5f02\u70b9\uff1a</p> <ul> <li>worker\u6ca1\u6709DOM API\uff0c\u65e0\u6cd5\u65b0\u5efa\u548c\u64cd\u4f5cDOM\uff0c\u4e5f\u65e0\u6cd5\u8bbf\u95ee\u5230\u4e3b\u7ebf\u7a0b\u7684DOM\u7684element</li> <li>worker\u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u5185\u5b58\u72ec\u7acb\uff0cworker\u7ebf\u7a0b\u65e0\u6cd5\u8bbf\u95ee\u9875\u9762\u4e0a\u7684\u5168\u5c40\u53d8\u91cf\uff08window\uff0cdocument\u7b49\uff09\u548cjs\u51fd\u6570</li> <li>worker\u7ebf\u7a0b\u4e0d\u80fd\u8c03\u7528UI\u76f8\u5173\u7684DOM API</li> <li>worker\u7ebf\u7a0b\u88ab\u4e3b\u7ebf\u7a0b\u63a7\u5236\uff0c\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u521b\u5efa\u9500\u6bc1worker\u7ebf\u7a0b</li> <li>worker\u7ebf\u7a0b\u53ef\u4ee5\u901a\u8fc7self.close\u81ea\u884c\u9500\u6bc1</li> </ul> <p>\u4ece\u5dee\u5f02\u70b9\u4e0a\u770b\uff0cworker\u7ebf\u7a0b\u65e0\u6cd5\u67d3\u6307UI\uff0c\u5e76\u53d7\u4e3b\u7ebf\u7a0b\u63a7\u5236\uff0c\u53ea\u9002\u5408\u9ed8\u9ed8\u7684\u5e72\u6d3b</p>"},{"location":"study/GoogleV8/eight/","title":"\u5f02\u6b65\u7f16\u7a0b\u6f14\u53d8\u548c\u53d1\u5e03\u8ba2\u9605","text":""},{"location":"study/GoogleV8/eight/#\u6d4f\u89c8\u5668\u7684\u591a\u7ebf\u7a0b","title":"\u6d4f\u89c8\u5668\u7684\u591a\u7ebf\u7a0b","text":"<p>\u5176\u4e2d\u7684JavaScript\u5f15\u64ce\u7ebf\u7a0b\u5c31\u662f\u6211\u4eec\u524d\u9762\u8bf4\u7684\u4e3b\u7ebf\u7a0b\uff0c\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u89e3\u6790\u548c\u6267\u884cJavaScript\u4ee3\u7801</p> <p></p> <p>\u5f02\u6b65\u5904\u7406\u7ebf\u7a0b\uff0cJavaScript\u6700\u539f\u59cb\u7684\u65b9\u5f0f\u5c31\u662f\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6765\u6267\u884c\u5f02\u6b65\u4efb\u52a1\uff0c\u5f53\u67d0\u7ebf\u7a0b\u6267\u884c\u7ed3\u675f\u540e\u5c06\u5176\u56de\u8c03\u51fd\u6570\u585e\u5165\u6d88\u606f\u961f\u5217\u4e2d\u7b49\u5f85\u7ee7\u7eed\u6267\u884c</p> <p></p>"},{"location":"study/GoogleV8/eight/#\u5f02\u6b65\u7f16\u7a0b\u7684\u89e3\u51b3\u65b9\u6848","title":"\u5f02\u6b65\u7f16\u7a0b\u7684\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u53d1\u5e03/\u8ba2\u9605</li> <li>deferred\u5bf9\u8c61</li> <li>Promise</li> <li>Generator</li> <li>async/await</li> </ul> <p>\u540e\u4e09\u8005\u662fJavaScript\u7684\u5f02\u6b65\u4efb\u52a1\u7684\u5904\u7406\u89c4\u8303\uff0c\u6700\u7ec8\u76ee\u7684\u662f\u4f7f\u7528\u540c\u6b65\u7684\u5199\u6cd5\u5b9e\u73b0\u5f02\u6b65\u4ee3\u7801</p>"},{"location":"study/GoogleV8/eight/#\u53d1\u5e03\u8ba2\u9605","title":"\u53d1\u5e03\u8ba2\u9605","text":"<p>\u6709\u540e\u7aef\u57fa\u7840\u7684\u540c\u5b66\u5e94\u8be5\u4e0d\u96be\u60f3\u5230\u540e\u7aef\u7684\u6d88\u606f\u961f\u5217\uff0cRocketMQ\u7b49</p> <p></p> <p>\u53d1\u5e03\u8ba2\u9605\u7b80\u5355\u5b9e\u73b0\uff1a</p> <pre><code>let eventMap={} //\u6d88\u606f\u5e73\u53f0\nfunction pub(msg,...rest){\n    eventMap[msg] &amp;&amp; eventMap[msg].forEach(cb=&gt;{ // eventMap[msg]\u627e\u5230\u5bf9\u5e94\u7684\u4e3b\u9898\u4e0b\u7684\u6240\u6709\u8ba2\u9605\u8005\n        cb(...rest) // \u6267\u884c\u6240\u6709\u8ba2\u9605\u8005\u7684\u56de\u8c03\u51fd\u6570\n    })\n}\nfunction sub(msg,cb) { //\u6d88\u8d39\u8005\u7684\u6784\u9020\u51fd\u6570\uff0c\u521b\u5efa\u6d88\u8d39\u8005\u5bf9\u8c61\u7684\u65f6\u5019\u5165\u53c2\uff1a\u6d88\u606f\u4e3b\u9898\u548c\u56de\u8c03\u51fd\u6570\n    eventMap[msg] = eventMap[msg] || []\n    eventMap[msg].push(cb)// \u5c06\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570push\u8fdb\u8ba2\u9605\u8005\u4e2d\n}\n</code></pre> <p>\u5982\u4f55\u5b9e\u73b0\u5f02\u6b65\u7f16\u7a0b</p> <ol> <li>A\u6267\u884c\u7ed3\u675f\u540e\uff0c\u53d1\u5e03\u6d88\u606fmesA</li> <li>B\u8ba2\u9605\u6d88\u606fmesA\uff0c\u5e76\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570function\u3002\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u53d1\u5e03\u6d88\u606fmesB</li> <li>C\u8ba2\u9605\u6d88\u606fmesB\uff0c\u5e76\u6267\u884c\u7684\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570...</li> </ol> <p>\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\uff1a\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u4e4b\u95f4\u662f\u5b8c\u5168\u89e3\u8026\u7684\uff0c</p> <p>\u89c2\u5bdf\u8005\u6a21\u5f0f\uff1a\u8fd9\u4e2a\u8bbe\u8ba1\u662f\u677e\u8026\u5408\u7684\uff0c\u88ab\u89c2\u5bdf\u8005\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u89c2\u5bdf\u8005\u7684\u96c6\u5408\uff0c\u5c06\u6709\u5173\u72b6\u6001\u7684\u4efb\u4f55\u53d8\u66f4\u81ea\u52a8\u901a\u77e5\u7ed9\u89c2\u5bdf\u8005</p>"},{"location":"study/GoogleV8/eight/#vue\u4e2d\u7684\u6570\u636e\u4fa6\u6d4b\u89c2\u5bdf\u8005","title":"VUE\u4e2d\u7684\u6570\u636e\u4fa6\u6d4b\u89c2\u5bdf\u8005","text":"<p>\u53ef\u4ee5\u8be6\u7ec6\u4e86\u89e3</p>"},{"location":"study/GoogleV8/first/","title":"V8\u662f\u5982\u4f55\u6267\u884c\u4e00\u6bb5JavaScript\u4ee3\u7801\u7684","text":""},{"location":"study/GoogleV8/first/#\u4ec0\u4e48\u662fv8","title":"\u4ec0\u4e48\u662fV8\uff1f","text":"<p>V8\u662f\u8c37\u6b4c\u7528\u4e8e\u7f16\u8bd1\u5904\u7406JavaScript\u7684\u5f15\u64ce\uff0c\u56e0\u4e3a\u6b63\u5e38\u7684JavaScript\u4ee3\u7801\u6d4f\u89c8\u5668\u662f\u4e0d\u8bc6\u522b\u7684\uff0c\u9700\u8981\u4f7f\u7528V8\u5f15\u64ce\u5c06\u5176\u7f16\u8bd1\u6210\u6d4f\u89c8\u5668\u53ef\u8bc6\u522b\u6267\u884c\u7684\u4ee3\u7801\u3002\u5176\u5b9e\u5c31\u662f\u4ece\u9ad8\u7ea7\u8bed\u8a00\u5230\u673a\u5668\u53ef\u8bc6\u522b\u7684\u4e8c\u8fdb\u5236\u6307\u4ee4\u7684\u4e00\u4e2a\u8f6c\u5316\u8fc7\u7a0b\u3002</p>"},{"location":"study/GoogleV8/first/#\u89e3\u91ca\u6267\u884c","title":"\u89e3\u91ca\u6267\u884c","text":"<p>\u9996\u5148\u5c06\u9ad8\u7ea7\u8bed\u8a00\u901a\u8fc7\u89e3\u6790\u5668\u8f6c\u6362\u4e3a\u4e2d\u95f4\u4ee3\u7801\uff0c\u901a\u8fc7\u89e3\u91ca\u5668\u8fdb\u884c\u89e3\u91ca\u6267\u884c\u7684\u6700\u7ec8\u7684\u8f93\u51fa\u7ed3\u679c</p> <p>\u8fb9\u52a0\u8f7d\u8fb9\u89e3\u91ca\u6267\u884c-\u542f\u52a8\u901f\u5ea6\u6bd4\u8f83\u5feb\uff0c\u4f46\u662f\u6267\u884c\u6548\u7387\u6bd4\u8f83\u4f4e</p> <p></p>"},{"location":"study/GoogleV8/first/#\u7f16\u8bd1\u6267\u884c","title":"\u7f16\u8bd1\u6267\u884c","text":"<p>\u9996\u5148\u5c06\u6e90\u4ee3\u7801\u901a\u8fc7\u89e3\u6790\u5668\u751f\u6210\u4e2d\u95f4\u4ee3\u7801\uff0c\u7f16\u8bd1\u5668\u5c06\u4e2d\u95f4\u4ee3\u7801\u7f16\u8bd1\u751f\u6210\u4e00\u4e9b\u53ef\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6267\u884c\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u5f97\u5230\u8f93\u51fa\u7ed3\u679c</p> <p>\u5148\u5c06\u6e90\u6587\u4ef6\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u540e\uff0c\u518d\u6267\u884c-\u542f\u52a8\u901f\u5ea6\u6bd4\u8f83\u6162\uff0c\u4f46\u662f\u6267\u884c\u6548\u7387\u9ad8</p> <p></p> <p>\u4e0a\u8ff0\u6b65\u9aa4\u901a\u5e38\u662f\u901a\u8fc7\u865a\u62df\u673a\u5b9e\u73b0\u7684\uff0c\u6bd4\u5982Java\u4e2d\u7684jvm\uff0cV8\u5728\u8fd9\u91cc\u5c31\u5145\u5f53\u4e86\u4e00\u4e2aJavaScript\u7684\u865a\u62df\u673a\u7684\u4e00\u4e2a\u89d2\u8272</p>"},{"location":"study/GoogleV8/first/#\u6df7\u5408\u7f16\u8bd1\u6267\u884cjit","title":"\u6df7\u5408\u7f16\u8bd1\u6267\u884cJIT","text":"<p>V8\u5176\u5b9e\u5e76\u4e0d\u662f\u5355\u7eaf\u7684\u89e3\u91ca\u6267\u884c\u6216\u8005\u5355\u7eaf\u7684\u7f16\u8bd1\u6267\u884c\uff0cV8\u662f\u4e24\u79cd\u6df7\u5408\u8d77\u6765\u4f7f\u7528\u7684\u3002</p> <p>\u8f93\u5165\u4e00\u6bb5\u6e90\u7801\uff0c\u89e3\u6790\u5668\u8fdb\u884c\u5904\u7406\u751f\u6210\u4e2d\u95f4\u4ee3\u7801\u3002\u89e3\u91ca\u5668\u6267\u884c\u4e2d\u95f4\u4ee3\u7801\uff0c\u751f\u6210\u7ed3\u679c\u3002</p> <p>\u5728\u89e3\u91ca\u5668\u6267\u884c\u4e2d\u95f4\u4ee3\u7801\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u901a\u8fc7\u76d1\u63a7\u673a\u5668\u4eba\u53d1\u73b0\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u70ed\u70b9\u4ee3\u7801\uff08\u8c03\u7528\u6bd4\u8f83\u9891\u7e41\u7684\u4ee3\u7801\uff09\uff0c\u901a\u8fc7\u7f16\u8bd1\u5668\u5c06\u70ed\u70b9\u4ee3\u7801\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u540e\u5e8f\u5728\u9700\u8981\u6267\u884c\u70ed\u70b9\u4ee3\u7801\u65f6\uff0c\u53ef\u76f4\u63a5\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e0d\u7528\u89e3\u91ca\u5668\u89e3\u91ca\u6267\u884c\uff0c\u63d0\u9ad8\u4e86\u6548\u7387\u3002</p> <p>\u5982\u679c\u53d1\u73b0\u70ed\u70b9\u4ee3\u7801\u6709\u4fee\u6539\uff0c\u4f1a\u901a\u8fc7\u53cd\u4f18\u5316\u7684\u6b65\u9aa4\u5c06\u4ee3\u7801\u91cd\u65b0\u89e3\u91ca\u7f16\u8bd1\u751f\u6210\u65b0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6</p> <p></p>"},{"location":"study/GoogleV8/first/#\u51cf\u5c11\u53cd\u4f18\u5316","title":"\u51cf\u5c11\u53cd\u4f18\u5316","text":"<ol> <li>\u5c3d\u91cf\u4fdd\u6301\u5bf9\u8c61\u7684\u7a33\u5b9a\u6027</li> <li>\u591a\u6b21\u8c03\u7528\u67d0\u4e2a\u51fd\u6570\u65f6\uff0c\u5c3d\u91cf\u4fdd\u6301\u53c2\u6570\u7c7b\u578b\u4e00\u81f4</li> </ol>"},{"location":"study/GoogleV8/five/","title":"\u57fa\u4e8etoPrimitive\u51fd\u6570\u89e3\u6790\u5927\u5382\u9762\u8bd5","text":"<p>\u4e3b\u8981\u662f\u5bf9V8\u62c6\u7bb1\u88c5\u7bb1\u673a\u5236\u7684\u7406\u89e3\u4f7f\u7528</p> <p>\u7b2c\u4e00\u9898\uff1a</p> <p>\u5199\u4ee3\u7801\u8ba9a==3  &amp;&amp; a==8 &amp;&amp; a==5 \u6210\u7acb</p> <pre><code>console.log(a==3)// \u4f1a\u8fdb\u884c\u62c6\u7bb1\u8f6c\u6362\nconsole.log(a===3)// \u5168\u7b49\u7684\u65f6\u5019\u4e0d\u4f1a\u8fdb\u884c\u62c6\u7bb1\u8f6c\u6362\n// \u62c6\u7bb1\u8f6c\u5316  valueof  toString  {}._proto_  \u56e0\u4e3a\u62c6\u7bb1\u7684\u8fc7\u7a0b\u5c31\u662f\u5bf9\u7740\u4e09\u6b65\u8fdb\u884c\u64cd\u4f5c\nvar a = {\n    reg:/\\d/g\n    valueOf:function(){ // \u4f7f\u7528\u6b63\u5219\u53ef\u4ee5\u540c\u65f6\u5b9e\u73b0\n        return this.reg.exec('385')[0] // this \u6307\u5411\u7684\u662fa\u8fd9\u4e2a\u5bf9\u8c61\n    }\n}\nconsole.log(a==3 &amp;&amp; a==8 &amp;&amp; a==5) // true\n</code></pre> <p>\u7b2c\u4e8c\u9898\uff1a</p> <pre><code>([][[]]+[])[+!![]]  +  ([]+{})[!+[]+!![]]\u8f93\u51fa\u4ec0\u4e48\uff1f\n// \u672c\u8d28\u4e0a\u5c31\u662f\u7531\u5de6\u53f3\u4e24\u90e8\u5206\u7ec4\u6210\u7684\uff0c\u4e00\u6b65\u4e00\u6b65\u5730\u8fdb\u884c\u62c6\u7bb1\u8f6c\u6362\n// \u5bf9\u5de6\u4fa7\n{\n    ([][[]]+[])  [+!![]]\n    {\n        [][[]] + []\n        [] [[]] = [][0] = undefined\n        [] = ''\n        [][[]] + [] = 'undefined'\n    }\n    {\n        [+!![]] // !![] \u6216\u8005 !!{} \u90fd\u662ftrue\n        [+true]\n        [1] // \u8fdb\u884c\u88c5\u7bb1\u8f6c\u6362\n    }  \n    ([][[]]+[])  [+!![]]= 'undefined'[1]  = 'n'\n}\n// \u5bf9\u53f3\u4fa7\n{\n    ([]+{})[!+[]+!![]]\n    {\n        ([]+{})\n        '[Object,Object]'\n        [!+[]+!![]]\n        [!+''+true]\n        [true+true]\n        [2]\n    }\n    ('[Object,Object]')[2]  = 'b'\n}\n// \u6240\u4ee5\u6700\u540e\u8f93\u51fa\u2018nb\u2019\n</code></pre>"},{"location":"study/GoogleV8/four/","title":"\u7c7b\u578b\u7cfb\u7edf\u4e0eV8\u62c6\u7bb1\u88c5\u7bb1\u673a\u5236","text":""},{"location":"study/GoogleV8/four/#\u5f3a\u7c7b\u578b\u8bed\u8a00\u4e0e\u5f31\u7c7b\u578b\u8bed\u8a00","title":"\u5f3a\u7c7b\u578b\u8bed\u8a00\u4e0e\u5f31\u7c7b\u578b\u8bed\u8a00","text":"<ul> <li>\u5f3a\u7c7b\u578b\u8bed\u8a00\uff1a\u5728\u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b</li> <li>\u5f31\u7c7b\u578b\u8bed\u8a00\uff1a\u5728\u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u53ef\u4ee5\u65e0\u9700\u6307\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b</li> </ul> <p>js\u5c31\u662f\u6807\u51c6\u7684\u5f31\u7c7b\u578b\u8bed\u8a00</p>"},{"location":"study/GoogleV8/four/#\u88c5\u7bb1","title":"\u88c5\u7bb1","text":"<p>\u5f53\u4e00\u4e2a\u539f\u59cb\u6570\u503c\u9700\u8981\u88ab\u5f53\u505a\u5bf9\u8c61\u5904\u7406\u65f6\uff0c\u4f1a\u8fdb\u884c\u88c5\u7bb1\u64cd\u4f5c\u3002\u4f8b\u5982\u3001\u5f53\u8c03\u7528\u4e00\u4e2a\u6570\u5b57\u7684\u65b9\u6cd5\uff08\u5982.fixed()\uff09\u7684\u65f6\u5019\uff0c\u6216\u8005\u5c06\u4e00\u4e2a\u6570\u5b57\u5b58\u50a8\u5728\u4e00\u4e2a\u53ea\u80fd\u5b58\u50a8\u5bf9\u8c61\u7684\u5730\u65b9\uff08\u6bd4\u5982Map\u7684\u952e\u6216\u8005Set\u7684\u5143\u7d20\u65f6\uff09\uff0cV8\u4f1a\u521b\u5efa\u4e00\u4e2a\u8868\u793a\u8be5\u6570\u503c\u7684\u5bf9\u8c61\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u88c5\u7bb1\u3002\u5982\u4e0b</p> <pre><code>(2).toString();// '2'\n2.toString();// typeError\n2 .toString();// '2'\n// \u53ef\u4ee5\u4ed4\u7ec6\u6bd4\u8f83\u4e0b\u540e\u4e24\u4e2a\u7684\u533a\u522b\n</code></pre>"},{"location":"study/GoogleV8/four/#\u62c6\u7bb1","title":"\u62c6\u7bb1","text":"<p>\u62c6\u7bb1\u662f\u6307\u4ece\u5bf9\u8c61\u4e2d\u83b7\u53d6\u539f\u59cb\u6570\u503c\u7684\u8fc7\u7a0b\uff0c\u5f53 V8 \u9700\u8981\u5bf9\u6570\u503c\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u6216\u5176\u4ed6\u4e0d\u9700\u8981\u5bf9\u8c61\u7279\u6027\u7684\u64cd\u4f5c\u65f6\uff0c\u5b83\u4f1a\u5c1d\u8bd5\u4ece\u5bf9\u8c61\u4e2d\u63d0\u53d6\u539f\u59cb\u6570\u503c\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0cV8 \u4f1a\u5c3d\u53ef\u80fd\u4fdd\u6301\u6570\u503c\u4e3a Smi \u683c\u5f0f\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</p> <p>\u539f\u7406\uff1a\u4f1a\u5148\u901a\u8fc7\u4f7f\u7528valueOf()\u65b9\u6cd5\u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u59cb\u6570\u503c\uff0c\u5f53\u539f\u59cb\u6570\u503c\u4e0d\u5b58\u5728\u65f6\uff0c\u901a\u8fc7\u8c03\u7528toString\u65b9\u6cd5\u8f6c\u6362\u4e3aString\u7c7b\u578b\u518d\u53bb\u8fdb\u884c\u64cd\u4f5c\u3002\u6bd4\u5982</p> <pre><code>[].valueOf() = []\n[].toString = ''\n{}.valueOf() = {}\n{}.toString = '[Object,Object]'\n</code></pre> <p>\u4f8b\u5b50\uff1a</p> <pre><code>[]+[] //''\n[]+{} //\"[Obejct,Obejct]\"\n{}+[] // 0 \u8fd9\u91cc\u7b49\u4e8e0\u7684\u539f\u56e0\uff0c\u56e0\u4e3a{}\u5728js\u4e2d\u6709\u4e24\u79cd\u89e3\u91ca\uff0c\u4e00\u79cd\u662f\u5f53\u505a\u5bf9\u8c61\u5b57\u9762\u91cf\uff0c\u4e00\u79cd\u662f\u5f53\u505a\u5bf9\u8c61\uff0c\u5f53{}\u653e\u5728\u524d\u9762\u65f6\u662f\u4f1a\u88ab\u5f53\u505a\u4ee3\u7801\u5757\u8fdb\u884c\u89e3\u6790\u7684\u3002\u6240\u91cc\u8fd9\u91cc\u5c31\u662f+[]\u7684\u542b\u4e49= +''= 0\n</code></pre>"},{"location":"study/GoogleV8/nine/","title":"Promise\u4e0e\u63a7\u5236\u53cd\u8f6c","text":""},{"location":"study/GoogleV8/nine/#\u6df1\u5165\u7406\u89e3promise","title":"\u6df1\u5165\u7406\u89e3Promise","text":""},{"location":"study/GoogleV8/nine/#\u53ef\u9760\u6027\u4e22\u5931","title":"\u53ef\u9760\u6027\u4e22\u5931","text":"<p>\u4e3a\u4ec0\u4e48\u4f1a\u6709\u53ef\u9760\u6027\u4e22\u5931\u7684\u95ee\u9898\uff0c\u57281\u4e0e2\u6267\u884c\u4e4b\u95f4\u7684\u7a7a\u6321\uff0c\u6211\u4eec\u5bf9\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u4e0d\u53ef\u63a7\u7684\u3002\u901a\u4fd7\u7684\u8bb2\uff0c\u5c31\u662f\u6211\u4eec\u65e0\u6cd5\u63a7\u52362\u7684\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u65f6\u673a\uff0c\u5c24\u5176\u662f\u5f532\u662f\u6211\u4eec\u5f15\u7528\u7684\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u7684\u65b9\u6cd5\u65f6</p> <pre><code>// 1\uff0c\u73b0\u5728\u7acb\u5373\u6267\u884c\u7684\u540c\u6b65\u4ee3\u7801\nsomeAsync(function(){\n    // 2\uff0c\u672a\u6765\u6267\u884c\u7684\u4ee3\u7801\n})\n</code></pre>"},{"location":"study/GoogleV8/nine/#someasync\u7684\u6539\u9020","title":"someAsync\u7684\u6539\u9020","text":"<p>\u5bf9someAsync\u6dfb\u52a0\u4e00\u4e2a\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u56de\u8c03</p> <pre><code>var listener =  someAsync(...);\n    listener.on('success',function(data){\n\n    })\n    listener.on('fail',function(data){\n\n    })\n</code></pre>"},{"location":"study/GoogleV8/nine/#promise","title":"Promise","text":"<pre><code>function someAsync() {\n    return new Promise(function(resolve,reject){\n        // resolve() or reject()\n    })\n};\nvar p = someAsync()\np.then(\n    function(){\n        // success happened\n    }\n    function(){\n        // failure happened\n    }\n)\n</code></pre> <p>Promise\u4f7f\u6211\u4eec\u91cd\u65b0\u83b7\u5f97\u4e86\u7a0b\u5e8f\u7684\u63a7\u5236\u6743\uff0c\u4f46\u662fPromise\u5e76\u4e0d\u662f\u79fb\u9664\u4e86\u56de\u8c03\u800c\u662f\u4f20\u9012\u4e86\u56de\u8c03\uff0c\u5e76\u4e0d\u4f1a\u89e3\u51b3\u56de\u8c03\u5730\u72f1</p>"},{"location":"study/GoogleV8/nine/#\u6807\u51c6\u7684promsie\u673a\u5236","title":"\u6807\u51c6\u7684Promsie\u673a\u5236","text":"<ul> <li>\u5bf9\u8c61\u7684\u72b6\u6001\u4e0d\u53d7\u5916\u754c\u6620\u50cf\u3002Promise\u5bf9\u8c61\u4ee3\u8868\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6709\u4e09\u79cd\u72b6\u6001\uff1apending\uff08\u8fdb\u884c\u4e2d\uff09\uff0cfulfilled\uff08\u5df2\u6210\u529f\uff09\u548crejected\uff08\u5df2\u5931\u8d25\uff09\u3002\u53ea\u6709\u5f02\u6b65\u64cd\u4f5c\u7684\u7ed3\u679c\u53ef\u4ee5\u51b3\u5b9a\u662f\u54ea\u4e00\u4e2a\u72b6\u6001\uff0c\u4efb\u4f55\u5176\u5b83\u64cd\u4f5c\u90fd\u65e0\u6cd5\u6539\u53d8\u8fd9\u4e2a\u72b6\u6001</li> <li>\u4e00\u65e6\u72b6\u6001\u6539\u53d8\u4e86\u4ee5\u540e\uff0c\u5c31\u4e0d\u4f1a\u518d\u53d8\uff0c\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u7ed3\u679c\u3002\u4e24\u79cd\u6539\u53d8\u8bf7\u51b5\uff1apending\u53d8\u4e3afulfilled\uff0cpending\u53d8\u4e3arejected</li> <li>\u5982\u679cPromise\u8fd4\u56de\u4e86\u6210\u529f\u7684\u4fe1\u606f\uff0c\u4f1a\u6267\u884c\u6210\u529f\u7684\u56de\u8c03\u51fd\u6570</li> <li>\u5982\u679c\u53d1\u751f\u4e86\u9519\u8bef\uff0cPromise\u4f1a\u6536\u5230\u4e00\u4e2a\u5e26\u6709\u9519\u8bef\u4fe1\u606f\u7684\u9519\u8bef\u901a\u77e5</li> </ul>"},{"location":"study/GoogleV8/nine/#promise\u7684\u7f3a\u70b9","title":"Promise\u7684\u7f3a\u70b9","text":"<ul> <li>\u65e0\u6cd5\u53d6\u6d88Promise\uff0c\u4e00\u65e6\u65b0\u5efa\u5c31\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u65e0\u6cd5\u4e2d\u9014\u53d6\u6d88</li> <li>\u5176\u6b21\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0cPromise\u5185\u90e8\u629b\u51fa\u7684\u9519\u8bef\uff0c\u4e0d\u4f1a\u53cd\u5e94\u5230\u5916\u90e8</li> <li>\u7b2c\u4e09\uff0c\u5f53\u5904\u4e8epending\u72b6\u6001\u65f6\uff0c\u65e0\u6cd5\u5f97\u77e5\u76ee\u524d\u8fdb\u5c55\u5230\u54ea\u4e00\u4e2a\u9636\u6bb5\uff08\u521a\u521a\u5f00\u59cb\u8fd8\u662f\u5373\u5c06\u5b8c\u6210\uff09</li> </ul>"},{"location":"study/GoogleV8/second/","title":"js\u5bf9\u8c61\u6a21\u578b\u5168\u89e3","text":"<p>\u7c7b\u4e0e\u5bf9\u8c61\u5c31\u4e0d\u5728\u6b64\u4e00\u4e00\u4ecb\u7ecd\u4e86\uff0c\u5927\u5bb6\u5e94\u8be5\u90fd\u6bd4\u8f83\u719f\u6089</p>"},{"location":"study/GoogleV8/second/#javascript\u5bf9\u8c61\u7684\u7279\u5f81","title":"JavaScript\u5bf9\u8c61\u7684\u7279\u5f81","text":"<ol> <li>\u5bf9\u8c61\u5177\u6709\u552f\u4e00\u6807\u8bc6\u6027</li> <li>\u5bf9\u8c61\u5177\u6709\u72b6\u6001</li> <li>\u5bf9\u8c61\u5177\u6709\u884c\u4e3a</li> </ol> <p>\u5bf9\u8c61\u6709\u552f\u4e00\u7684\u6807\u8bc6\u6027\uff1a\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u5b58\u50a8\u7684\u5730\u5740\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u6bd4\u8f83\u7684\u7ed3\u679c\u4e5f\u662f\u4e0d\u4e00\u6837\u7684</p> <pre><code>var obj =  {}\nvar obj1 = {}\nconsole.log(obj===obj2) //false\n</code></pre>"},{"location":"study/GoogleV8/second/#js\u4e2d\u7684\u5bf9\u5bf9\u8c61\u7684\u62bd\u8c61\u80fd\u529b","title":"js\u4e2d\u7684\u5bf9\u5bf9\u8c61\u7684\u62bd\u8c61\u80fd\u529b","text":"<pre><code>var obj {\n    count:1,\n    func: function(){\n\n    }\n}\nObject.defineProperty(obj,\"count\",{\n    get:function(){ // \u8bbf\u95ee\u5668\u51fd\u6570\uff0c\u94a9\u5b50\u51fd\u6570\uff0c\u8fdb\u884c\u62e6\u622a\uff0c\u8fd8\u6709set\u51fd\u6570\n        return \"222\"\n    }\uff0c\n    set:function(newVal){\n        console.log(newVal)\n    }\n})\nconsole.log(obj.count) // \u6253\u5370\u7ed3\u679c\u662f222\nobj.count = 3 //\u6253\u5370\u51fa333\n</code></pre>"},{"location":"study/GoogleV8/seven/","title":"js\u4e2d\u7684\u5f02\u6b65\u7f16\u7a0b\u4ee5\u53ca\u4e8b\u4ef6\u5faa\u73af\u673a\u5236","text":""},{"location":"study/GoogleV8/seven/#\u540c\u6b65\u51fd\u6570\u548c\u5f02\u6b65\u51fd\u6570","title":"\u540c\u6b65\u51fd\u6570\u548c\u5f02\u6b65\u51fd\u6570","text":"<ul> <li>\u540c\u6b65\u51fd\u6570\uff1a\u5f53\u4e00\u4e2a\u51fd\u6570\u662f\u540c\u6b65\u6267\u884c\u65f6\uff0c\u90a3\u4e48\u5f53\u8be5\u51fd\u6570\u88ab\u8c03\u7528\u65f6\u4e0d\u4f1a\u88ab\u7acb\u5373\u8fd4\u56de\uff0c\u800c\u662f\u7b49\u51fd\u6570\u6240\u9700\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u6267\u884c\u7ed3\u675f\u540e\u518d\u8fd4\u56de</li> <li>\u5f02\u6b65\u51fd\u6570\uff1a\u5f53\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u5c3d\u7ba1\u51fd\u6570\u89c4\u5b9a\u7684\u64cd\u4f5c\u8fd8\u6ca1\u6709\u5168\u90e8\u6267\u884c\u7ed3\u675f</li> </ul> <p>JavaScript\u672c\u8eab\u662f\u88ab\u8bbe\u8ba1\u4e3a\u5355\u7ebf\u7a0b\u673a\u5236\u7684\uff0c\u4f46\u662f\u505a\u4e86\u4e00\u5b9a\u7684\u5904\u7406\u673a\u5236</p>"},{"location":"study/GoogleV8/seven/#\u5904\u7406\u673a\u5236","title":"\u5904\u7406\u673a\u5236","text":"<p>\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u8c03\u7528\u4e00\u4e2a\u540c\u6b65\u51fd\u6570\u65f6\uff0c\u5982\u679c\u8be5\u51fd\u6570\u4e0d\u80fd\u7acb\u5373\u5b8c\u6210\u6240\u9700\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u5219\u8be5\u64cd\u4f5c\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u7684\u6302\u8d77\uff0ccpu\u4f1a\u53bb\u6267\u884c\u5176\u5b83\u7684\u7ebf\u7a0b\uff0c\u76f4\u5230\u8be5\u540c\u6b65\u51fd\u6570\u89c4\u5b9a\u7684\u64cd\u4f5c\u5b8c\u5168\u6267\u884c\u7ed3\u675f\u540e\uff0c\u6700\u7ec8\u8be5\u7ebf\u7a0b\u624d\u4f1a\u91cd\u65b0\u88ab\u8c03\u7528</p> <p>\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u8c03\u7528\u7684\u662f\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u65f6\uff0c\u8be5\u51fd\u6570\u4f1a\u7acb\u5373\u8fd4\u56de\u5c3d\u7ba1\u5176\u89c4\u5b9a\u7684\u5de5\u4f5c\u8fd8\u6ca1\u5b8c\u6210\uff0c\u8fd9\u6837\u7ebf\u7a0b\u5c31\u4f1a\u6267\u884c\u5f02\u6b65\u51fd\u6570\u540e\u7684\u8bed\u53e5\u800c\u4e0d\u4f1a\u88ab\u6302\u8d77\u3002\u90a3\u4e48\u5f02\u6b65\u51fd\u6570\u4e2d\u7684\u5de5\u4f5c\u662f\u5982\u4f55\u5b8c\u6210\u7684\uff0c\u5fc5\u7136\u662f\u6709\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5b8c\u6210\u7684\u3002</p> <p>\u65b0\u7684\u7ebf\u7a0b\u4ece\u54ea\u91cc\u6765\uff1f</p> <p>\u8981\u4e48\u662f\u7cfb\u7edf\u5df2\u7ecf\u51c6\u5907\u597d\u7684\u7ebf\u7a0b\uff0c\u8981\u4e48\u662f\u521b\u5efa\u7684\u65b0\u7684\u7ebf\u7a0b</p>"},{"location":"study/GoogleV8/seven/#\u4e3a\u4ec0\u4e48js\u8981\u8bbe\u8ba1\u4e3a\u5355\u7ebf\u7a0b","title":"\u4e3a\u4ec0\u4e48JS\u8981\u8bbe\u8ba1\u4e3a\u5355\u7ebf\u7a0b","text":"<p>\u56e0\u4e3ajs\u5728\u6700\u521d\u8bbe\u8ba1\u65f6\u662f\u4e3a\u6d4f\u89c8\u5668\u670d\u52a1\u7684\u3002\u53ef\u4ee5\u8bbe\u60f3\u8fd9\u4e48\u4e00\u4e2a\u573a\u666f\uff0c\u5047\u5982\u8bf4\u6709\u4e24\u4e2a\u7ebf\u7a0b\uff0c\u5176\u4e2d\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u5bf9DOM A\u4fee\u6539\u7684\u64cd\u4f5c\uff0c\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u5728\u5220\u9664DOM A\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898</p>"},{"location":"study/GoogleV8/seven/#js\u662f\u5982\u4f55\u5b9e\u73b0\u5355\u7ebf\u7a0b\u975e\u963b\u585e\u7684\u5462","title":"JS\u662f\u5982\u4f55\u5b9e\u73b0\u5355\u7ebf\u7a0b\u975e\u963b\u585e\u7684\u5462","text":"<p>\u4e8b\u4ef6\u5faa\u73af\u673a\u5236</p> <p>\u540c\u6b65\u4efb\u52a1\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\uff0c\u5c31\u662f\u6b63\u5e38\u7684\u6309\u7167\u987a\u5e8f\u4e00\u6b65\u4e00\u6b65\u7684\u8fdb\u884c\u6267\u884c</p> <p>\u5f02\u6b65\u4efb\u52a1\uff1a\u6bd4\u5982\u4e00\u4e2aajax\u8bf7\u6c42\uff0c\u5f53\u5728\u6267\u884c\u540c\u6b65\u4efb\u52a1\u7684\u540c\u65f6\u53d1\u8d77\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u56de\u5f02\u6b65\u653e\u5165\u4e00\u4e2a\u65b0\u7684\u961f\u5217-\u4e8b\u4ef6\u961f\u5217\u3002\u6267\u884c\u6808\u4e2d\u7684\u4efb\u52a1\u4f1a\u7ee7\u7eed\u6267\u884c\uff0c\u5f53\u6267\u884c\u6808\u4e2d\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4f1a\u53bb\u68c0\u67e5\u4e8b\u4ef6\u961f\u5217\u4e2d\u7684\u4efb\u52a1\u653e\u5165\u6267\u884c\u6808\u4e2d\u6267\u884c\uff0c\u5982\u679c\u56de\u8c03\u51fd\u6570\u4e2d\u4e5f\u6709\u5f02\u6b65\u4efb\u52a1\uff0c\u5c31\u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\u7ee7\u7eed\u6267\u884c</p>"},{"location":"study/GoogleV8/seven/#\u5fae\u4efb\u52a1\u4e0e\u5b8f\u4efb\u52a1","title":"\u5fae\u4efb\u52a1\u4e0e\u5b8f\u4efb\u52a1","text":"<p>\u6211\u4eec\u901a\u5e38\u628a\u5bbf\u4e3b\u53d1\u8d77\u7684\u4efb\u52a1\u53eb\u505a\u5b8f\u4efb\u52a1\uff0cJavaScript\u5f15\u64ce\u53d1\u8d77\u7684\u4efb\u52a1\u53eb\u505a\u5fae\u4efb\u52a1</p> <p>\u5b8f\u4efb\u52a1\uff1a</p> <ul> <li>setInterval()</li> <li>setTimeout()</li> </ul> <p>\u5fae\u4efb\u52a1\uff1a</p> <ul> <li>Promise().then(function(){})</li> <li>new MutationObserver()</li> </ul> <p>\u5bf9\u4e8e\u5f02\u6b65\u4efb\u52a1\u6765\u8bf4\uff0c\u6709\u4e00\u4e2a\u5b8f\u4efb\u52a1\u961f\u5217\uff0c\u4e00\u4e2a\u5fae\u4efb\u52a1\u961f\u5217</p> <p>\u5f53\u4e3b\u7ebf\u7a0b\u4e3a\u7a7a\u7684\u65f6\u5019\u4f1a\u5148\u53bb\u68c0\u67e5\u5fae\u4efb\u52a1\u961f\u5217\uff0c\u4e0d\u4e3a\u7a7a\u7684\u4f1a\u5148\u6267\u884c\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u7684\u4efb\u52a1\u3002\u4e3a\u7a7a\u7684\u8bdd\u518d\u53bb\u5b8f\u4efb\u52a1\u961f\u5217\u4e2d\u627e\u5230\u6392\u540d\u7b2c\u4e00\u7684\u5b8f\u4efb\u52a1\u8fdb\u884c\u6267\u884c\uff0c\u5982\u679c\u8be5\u5b8f\u4efb\u52a1\u6709\u5bf9\u5e94\u7684\u5fae\u4efb\u52a1\uff0c\u5219\u5c06\u5176\u5fae\u4efb\u52a1\u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u3002\u7b49\u5b8f\u4efb\u52a1\u6267\u884c\u7ed3\u675f\u540e\u53bb\u6267\u884c\u5bf9\u5e94\u7684\u5fae\u4efb\u52a1\u3002</p> <pre><code>setTimeout(function(){\n    console.log(1)\n}) // \u5b8f\u4efb\u52a1\nnew Promise(function(resolve, reject){\n    console.log(2) // \u540c\u6b65\u4efb\u52a1\n    resolve(3)\n}).then(function(val){\n    console.log(val) // \u5fae\u4efb\u52a1\n})\n// \u8f93\u51fa2 3 1\n// \u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1\u540e\uff0c\u4f1a\u6e05\u7a7a\u4e00\u6b21\u5fae\u4efb\u52a1\u961f\u5217\n\nsetTimeout(function(){\n    console.log(1)\n}) // \u5b8f\u4efb\u52a1\nnew Promise(function(resolve, reject){\n    console.log(2) // \u540c\u6b65\u4efb\u52a1\n    resolve(3)\n}).then(function(val){\n    console.log(val) // \u5fae\u4efb\u52a1\n    setTimeout(function(){ // \u653e\u5230\u4e0b\u4e00\u6b21\u4e8b\u4ef6\u5faa\u73af\u4e2d\u6267\u884c\uff0c\u5373\u4f7f\u662f\u653e\u5230\u5b8f\u4efb\u52a1\u961f\u5217\u4e2d\u4e5f\u662f\u653e\u5728\u5176\u5b83\u5b8f\u4efb\u52a1\u540e\n     console.log(4)\n    })\n})\n// \u8f93\u51fa2 3 1 4\n</code></pre>"},{"location":"study/GoogleV8/seven/#\u4e3a\u4ec0\u4e48\u8981\u8bbe\u8ba1\u5fae\u4efb\u52a1","title":"\u4e3a\u4ec0\u4e48\u8981\u8bbe\u8ba1\u5fae\u4efb\u52a1\uff1f","text":"<p>\u56e0\u4e3a\u5b8f\u4efb\u52a1\u7684\u6267\u884c\u65f6\u673a\u662f\u4e0d\u53ef\u63a7\u7684\uff0c\u5f53\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u4f1a\u5148\u53bb\u6267\u884c\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u7684\u4efb\u52a1\uff0c\u5982\u679c\u5c06\u67d0\u4e9b\u6bd4\u8f83\u91cd\u8981\u7684\u4efb\u52a1\u653e\u5728\u5b8f\u4efb\u52a1\u961f\u5217\u4e2d\uff0c\u5219\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u4e00\u76f4\u6709\u4efb\u52a1\u800c\u5bfc\u81f4\u5b8f\u4efb\u52a1\u65e0\u6cd5\u6267\u884c\u3002\u76f8\u5bf9\u800c\u8a00\uff0c\u5fae\u4efb\u52a1\u7684\u6267\u884c\u65f6\u673a\u662f\u53ef\u63a7\u7684</p> <p>\u4f8b\u5982\uff0cvue\u4e2d\u7684\u5f02\u6b65\u66f4\u65b0\u961f\u5217\uff0c\u4f1a\u5148\u53bb\u5c1d\u8bd5\u4f7f\u7528\u5fae\u4efb\u52a1\uff0c\u53ea\u6709\u5f53\u6267\u884c\u73af\u5883\u4e0d\u652f\u6301\u5fae\u4efb\u52a1\u65f6\uff0c\u624d\u4f1a\u53bb\u4f7f\u7528\u5b8f\u4efb\u52a1</p> <p>\u6ce8\u610f\uff0c\u5b8f\u4efb\u52a1\u4e2d\u4e5f\u662f\u6709\u540c\u6b65\u4efb\u52a1\u548c\u5f02\u6b65\u4efb\u52a1\u4e4b\u5206\u7684</p> <p></p>"},{"location":"study/GoogleV8/six/","title":"V8\u662f\u5982\u4f55\u5b9e\u73b0\u95ed\u5305\u7684","text":""},{"location":"study/GoogleV8/six/#javascript\u95ed\u5305","title":"JavaScript\u95ed\u5305","text":"<p>\u95ed\u5305\u6307\u7684\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4e14\u8fd9\u4e2a\u51fd\u6570\u7ed1\u5b9a\u4e86\u8bcd\u6cd5\u73af\u5883\u3002\u901a\u4fd7\u70b9\u8bb2\u5c31\u662f\u53ef\u4ee5\u5728\u4e00\u4e2a\u5185\u5c42\u51fd\u6570\u4e2d\u8bbf\u95ee\u5230\u5916\u5c42\u4f5c\u7528\u57df</p>"},{"location":"study/GoogleV8/six/#\u60f0\u6027\u52a0\u8f7d","title":"\u60f0\u6027\u52a0\u8f7d","text":"<p>V8\u4e0d\u4f1a\u4e00\u6b21\u6027\u7684\u5c06\u6240\u6709\u7684JavaScript\u4ee3\u7801\u89e3\u6790\u4e3a\u4e2d\u95f4\u4ee3\u7801\uff0c\u4e3b\u8981\u57fa\u4e8e\u4ee5\u4e0b\u4e24\u70b9</p> <ul> <li>\u5982\u679c\u8981\u5c06\u6240\u6709\u7684\u4ee3\u7801\u4e00\u6b21\u6027\u89e3\u6790\u7f16\u8bd1\u5b8c\u6210\uff0c\u8fd9\u4f1a\u4e25\u91cd\u5f71\u54cd\u5230\u9996\u6b21\u6267\u884cJavaScript\u4ee3\u7801\u7684\u901f\u5ea6\uff0c\u4f1a\u5927\u5927\u589e\u52a0\u7528\u6237\u7684\u7b49\u5f85\u65f6\u95f4</li> <li>\u5176\u6b21\uff0c\u89e3\u6790\u5b8c\u6210\u7684\u5b57\u8282\u7801\u548c\u7f16\u8bd1\u4e4b\u540e\u7684\u673a\u5668\u4ee3\u7801\u90fd\u4f1a\u5b58\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u5982\u679c\u4e00\u6b21\u6027\u89e3\u6790\u548c\u7f16\u8bd1\u6240\u6709JavaScript\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u4e9b\u4e2d\u95f4\u4ee3\u7801\u548c\u673a\u5668\u4ee3\u7801\u5c31\u4f1a\u4e00\u76f4\u5360\u7528\u5185\u5b58</li> </ul>"},{"location":"study/GoogleV8/six/#\u60f0\u6027\u89e3\u6790","title":"\u60f0\u6027\u89e3\u6790","text":"<pre><code>function foo(a,b){\n    var d = 100\n    var f = 10\n    return d+f+a+b;\n}\n</code></pre> <p>\u5bf9\u5982\u4e0a\u4e00\u4e2a\u51fd\u6570\u8fdb\u884c\u5b58\u50a8\u7684\u65f6\u5019\u4f1a\u50cf\u4e0b\u9762\u7684\u56fe\u7247\u4e00\u6837\uff0c\u9047\u5230\u4e00\u4e2a\u51fd\u6570\u65f6\u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61\uff0c\u5e76\u4e0d\u4f1a\u5904\u7406\u5177\u4f53\u7684\u51fd\u6570\u5185\u5bb9</p> <p>\u53ea\u6709\u5728\u8c03\u7528\u51fd\u6570\u7684\u65f6\u5019\u624d\u4f1a\u6267\u884c\u64cd\u4f5c\u5c06\u51fd\u6570\u4f53\u4e2d\u7684code\u8f6c\u6362\u4e3aAST\u5bf9\u8c61\uff0c\u7136\u540e\u518d\u8f6c\u6362\u4e3a\u4e2d\u95f4\u4ee3\u7801</p> <p></p>"},{"location":"study/GoogleV8/six/#javascript\u4e2d\u95ed\u5305\u57fa\u7840\u7279\u6027","title":"JavaScript\u4e2d\u95ed\u5305\u57fa\u7840\u7279\u6027","text":"<p>JavaScript\u95ed\u5305\u76f8\u5173\u7684\u4e09\u4e2a\u91cd\u8981\u7279\u6027\uff1a</p> <ul> <li>\u53ef\u4ee5\u5728JavaScript\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u65b0\u7684\u51fd\u6570</li> <li>\u5185\u90e8\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u7236\u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf</li> <li>\u51fd\u6570\u662f\u4e00\u7b49\u516c\u6c11\uff0c\u6240\u4ee5\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c</li> </ul> <p>\u5728JavaScript\u4e2d\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61</p> <p>\u6267\u884c\u4e0a\u4e0b\u6587</p> <p>\u6267\u884c\u4e0a\u4e0b\u6587\u662f\u7528\u6765\u8ddf\u8e2a\u8bb0\u5f55\u4ee3\u7801\u8fd0\u884c\u65f6\u73af\u5883\u7684\u62bd\u8c61\u6982\u5ff5\u3002\u6bcf\u4e00\u6b21\u4ee3\u7801\u8fd0\u884c\u90fd\u81f3\u5c11\u4f1a\u751f\u6210\u4e00\u4e2a\u6267\u884c\u4e0a\u4e0b\u6587</p> <p>\u6267\u884c\u4e0a\u4e0b\u6587\u6709\u5982\u4e0b\u4e24\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587\uff1a\u5f53\u8fd0\u884c\u4ee3\u7801\u662f\u5904\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\u5185\uff0c\u5219\u4f1a\u751f\u6210\u5168\u5c40\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u8fd9\u4e5f\u662f\u7a0b\u5e8f\u6700\u57fa\u7840\u7684\u6267\u884c\u4e0a\u4e0b\u6587</li> <li>\u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\uff1a\u5f53\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u90fd\u4f1a\u4e3a\u51fd\u6570\u8c03\u7528\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6267\u884c\u4e0a\u4e0b\u6587</li> </ul> <p>\u8c03\u7528\u6808</p> <p>\u6709\u4e86\u6267\u884c\u4e0a\u4e0b\u6587\u5c31\u8981\u6709\u4e00\u4e2a\u5408\u7406\u7ba1\u7406\u5b83\u7684\u5de5\u5177--\u8c03\u7528\u6808\u3002\u8c03\u7528\u6808\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u7ba1\u7406\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6267\u884c\u7684\u51fd\u6570\u7684\u8c03\u7528\u5173\u7cfb\uff0c\u662f\u4e00\u4e2aLIFO\uff08\u5148\u8fdb\u540e\u51fa\uff09\u7684\u6808</p> <p></p> <p>\u6267\u884c\u6d41\u7a0b\u56fe</p> <p>\u5728\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u7ed3\u675f\u540e\uff0c\u5176\u4e0a\u4e0b\u6587\u662f\u4f1a\u88ab\u9500\u6bc1\u7684\uff0c\u5728compile\u51fd\u6570\u6267\u884c\u7ed3\u675f\u540e\uff0cparse\u51fd\u6570\u8fd8\u6ca1\u6267\u884c\u7ed3\u675f\uff0c\u4f46\u662fparse\u51fd\u6570\u7528\u5230\u4e86compile\u51fd\u6570\u4e2d\u7684\u53d8\u91cfn\uff0c\u6240\u4ee5compile\u51fd\u6570\u6267\u884c\u7ed3\u675f\u540e\u518d\u8c03\u7528parse\u51fd\u6570\u4f1a\u51fa\u73b0\u95ee\u9898</p> <p>V8\u4e2d\u5982\u4f55\u5904\u7406\uff1a</p> <p>\u5f15\u7528\u4e86\u9884\u89e3\u6790\u5668\uff1a</p> <ul> <li>\u5224\u65ad\u5f53\u524d\u51fd\u6570\u662f\u4e0d\u662f\u5b58\u5728\u4e00\u4e9b\u8bed\u6cd5\u4e0a\u7684\u9519\u8bef</li> <li>\u68c0\u67e5\u51fd\u6570\u5185\u90e8\u662f\u5426\u5f15\u7528\u4e86\u5916\u90e8\u53d8\u91cf</li> </ul> <p>\u5f53\u68c0\u67e5\u5230\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u4e86\u5916\u90e8\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u57df\u4e2d\u7684\u53d8\u91cf\u590d\u5236\u5230\u5185\u5b58\u4e2d\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u56e0\u4e3a\u95ed\u5305\u5bfc\u81f4\u7684\u95ee\u9898</p> <p></p>"},{"location":"study/GoogleV8/ten/","title":"Generator\u51fd\u6570\u4e0e\u534f\u7a0b\u539f\u7406\u53ca\u5b9e\u73b0","text":"<p>\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u6982\u5ff5\u5c31\u4e0d\u4e00\u4e00\u53d9\u8ff0\u4e86</p>"},{"location":"study/GoogleV8/ten/#\u534f\u7a0b","title":"\u534f\u7a0b","text":"<p>\u534f\u7a0b\u662f\u4e00\u79cd\u57fa\u4e8e\u7ebf\u7a0b\u4e4b\u4e0a\uff0c\u4f46\u662f\u53c8\u6bd4\u7ebf\u7a0b\u66f4\u52a0\u8f7b\u91cf\u7ea7\u7684\u5b58\u5728\uff0c\u8fd9\u79cd\u7531\u7a0b\u5e8f\u5458\u81ea\u5df1\u5199\u7a0b\u5e8f\u6765\u7ba1\u7406\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u53eb\u505a\u3010\u7528\u6237\u7a7a\u95f4\u7ebf\u7a0b\u3011\uff0c\u5177\u6709\u5bf9\u5185\u6838\u6765\u8bf4\u4e0d\u53ef\u89c1\u7684\u7279\u6027</p> <p>\u6b63\u5982\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\u4e00\u6837\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u534f\u7a0b</p>"},{"location":"study/GoogleV8/ten/#\u534f\u7a0b\u7684generator\u51fd\u6570\u5b9e\u73b0","title":"\u534f\u7a0b\u7684Generator\u51fd\u6570\u5b9e\u73b0","text":"<p>Generator\u51fd\u6570\u5c31\u662f\u5f02\u6b65\u4efb\u52a1\u7684\u4e00\u4e2a\u5bb9\u5668</p> <p>\u901a\u8fc7yield\u5173\u952e\u5b57\u6307\u5b9a\u5f02\u6b65\u4efb\u52a1</p> <pre><code>function* gen(x) {\n    var y = yield x + 2 // \u9636\u6bb5\u4e00\uff0c\u7528yield\u6765\u5212\u5206\u9636\u6bb5\n    return y // \u9636\u6bb5\u4e8c\n}\nvar g = gen(1)\ng.next() // {value:3,done:false}\uff0c\u8c03\u7528\u4e00\u6b21next\u6267\u884c\u4e00\u4e2a\u9636\u6bb5\uff0cdone\u8868\u793a\u51fd\u6570\u5185\u90e8\u8fd8\u6709\u6ca1\u6709\u6267\u884c\u5b8c\u6210\u7684\u9636\u6bb5\ng.next() // {value:undefined,done:true}\n\nfunction* gen(x) {\n    var y = yield x + 2 // \u9636\u6bb5\u4e00\uff0cx+2  \u7528yield\u6765\u5212\u5206\u9636\u6bb5\n    return y // \u9636\u6bb5\u4e8c var y ={\u4e0a\u4e00\u4e2a\u9636\u6bb5\u8fd4\u56de\u7684\u7ed3\u679c}\uff0creturn y\n}\nvar g = gen(1)\ng.next() // {value:3,done:false}\uff0c\u8c03\u7528\u4e00\u6b21next\u6267\u884c\u4e00\u4e2a\u9636\u6bb5\uff0cdone\u8868\u793a\u51fd\u6570\u5185\u90e8\u8fd8\u6709\u6ca1\u6709\u6267\u884c\u5b8c\u6210\u7684\u9636\u6bb5\ng.next(2) // {value:3,done:true}\uff0c\u5c06\u4e0a\u4e00\u4e2a\u9636\u6bb5\u8fd4\u56de\u7684\u7ed3\u679c2\u7ed9\u4e0b\u4e00\u4e2a\u9636\u6bb5\u5373\uff0cvar y =2\uff0creturn y\n\n\nfunction* gen(x) {\n    try{\n         var y = yield x + 2 \n    }catch(e){\n        console.log(e)\n    }\n    return y \n}\nvar g = gen(1)\ng.next()\ng.throw('\u51fa\u9519\u4e86') // \u7528\u4e8e\u629b\u9519\n</code></pre>"},{"location":"study/GoogleV8/ten/#\u5f02\u6b65\u4efb\u52a1\u5c01\u88c5","title":"\u5f02\u6b65\u4efb\u52a1\u5c01\u88c5","text":"<p>\u8fd8\u9700\u8981\u8be6\u7ec6\u4e86\u89e3Generator\u51fd\u6570~~</p> <pre><code>var fetch = require('node-fetch')\n\nfunction* gen(){\n    var url ='https://...'\n    var result = yield fetch(url) // \u9636\u6bb5\u4e00\uff1avar url ='https://...'\uff1bfetch(url)\n    console.log(result) // \u9636\u6bb5\u4e8c\uff1avar result = {}\uff0cconsole.log(result)\n}\n\nvar g = gen()\nvar result = g.next()\nresult.value.then(function(data){\n    retuen data.json();\n}).then((data)=&gt;{\n    g.next(data)\n})\n</code></pre>"},{"location":"study/GoogleV8/ten/#\u57fa\u4e8ethunk\u51fd\u6570\u5c01\u88c5generator\u81ea\u52a8\u6267\u884c\u5668","title":"\u57fa\u4e8eThunk\u51fd\u6570\u5c01\u88c5Generator\u81ea\u52a8\u6267\u884c\u5668","text":""},{"location":"study/GoogleV8/ten/#\u4f20\u503c\u8c03\u7528\u548c\u4f20\u540d\u8c03\u7528","title":"\u4f20\u503c\u8c03\u7528\u548c\u4f20\u540d\u8c03\u7528","text":"<p>\u5bf9\u4e8e\u5982\u4e0b\u51fd\u6570</p> <pre><code>var x=1\nfunction f(m){\n    return m*2\n}\nf(x+5)\n</code></pre> <p>\u4f20\u503c\u8c03\u7528</p> <pre><code>func(x+5)\n\u7b49\u540c\u4e8e\nfunc(6)\n</code></pre> <p>\u4f20\u540d\u8c03\u7528</p> <pre><code>func(x+5)\n\u7b49\u540c\u4e8e\n(x+5)*2\n</code></pre> <p>\u4f20\u503c\u8c03\u7528\u548c\u4f20\u540d\u8c03\u7528\uff0c\u5404\u6709\u5404\u7684\u597d\u5904\uff0c\u53d6\u51b3\u4e8e\u5165\u53c2\u5728\u51fd\u6570\u5185\u90e8\u662f\u5426\u88ab\u4f7f\u7528\u4ee5\u53ca\u4f7f\u7528\u7684\u9891\u7387</p>"},{"location":"study/GoogleV8/ten/#thunk\u51fd\u6570\u7684\u542b\u4e49","title":"thunk\u51fd\u6570\u7684\u542b\u4e49","text":"<pre><code>var x=1\nfunction f(m){\n    return m*2\n}\nf(x+5)\n// \u7b49\u540c\u4e8e\nvar thunk = function(){\n    return x+5\n}\nfunction f(thunk){\n    return thunk()*2\n}\n</code></pre> <p>\u5b9a\u4e49\u4e00\u4e2a\u81ea\u52a8\u6267\u884c\u5668</p> <pre><code>var fetch = require('node-fetch')\n\nfunction* gen(){\n    var url ='https://...'\n    var result = yield fetch(url) // \u9636\u6bb5\u4e00\uff1avar url ='https://...'\uff1bfetch(url)\n    console.log(result) // \u9636\u6bb5\u4e8c\uff1avar result = {}\uff0cconsole.log(result)\n}\nfunction run(gen) { // gen\u662f\u4e00\u4e2aGenerator\u51fd\u6570\uff0c\u4f18\u70b9\u7c7b\u4f3c\u4e8e\u524d\u7aef\u5e38\u7528\u7684\u5bf9axios\u7684\u5c01\u88c5\n    var g = gen();\n    function next(data) {\n        var result = g.next()\n        if(result.done) return result.value\n        result.value.then(function(data){\n            return data.json()\n        }).then(function(data){\n            next(data)\n        })\n    }\n    next()\n}\n//\u5c06Generator\u51fd\u6570\u4f5c\u4e3a\u5165\u53c2\u4f20\u8fdb\u53bb\u5373\u53ef\nrun(gen)\n</code></pre>"},{"location":"study/GoogleV8/third/","title":"V8\u5982\u4f55\u5b9e\u73b0\u5bf9\u8c61\u7ee7\u627f","text":""},{"location":"study/GoogleV8/third/#\u57fa\u4e8e\u7c7b\u7684\u8bbe\u8ba1","title":"\u57fa\u4e8e\u7c7b\u7684\u8bbe\u8ba1","text":"<p>\u5148\u6709\u7c7b\uff0c\u518d\u4ece\u7c7b\u53bb\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7c7b\u4e0e\u7c7b\u4e4b\u95f4\u53c8\u53ef\u80fd\u4f1a\u5f62\u6210\u7ee7\u627f\uff0c\u7ec4\u5408\u7b49\u5173\u7cfb</p>"},{"location":"study/GoogleV8/third/#\u57fa\u4e8e\u539f\u578b\u7684\u8bbe\u8ba1","title":"\u57fa\u4e8e\u539f\u578b\u7684\u8bbe\u8ba1","text":"<p>\u57fa\u4e8e\u539f\u578b\u7684\u7ee7\u627f\u901a\u8fc7\u590d\u5236\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u65b0\u5bf9\u8c61\u6709\u4e24\u79cd\u601d\u8def\uff08\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d\uff09\uff1a</p> <ul> <li>\u4e00\u4e2a\u662f\u5e76\u4e0d\u771f\u7684\u53bb\u590d\u5236\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff0c\u800c\u662f\u4f7f\u5f97\u65b0\u5bf9\u8c61\u6301\u6709\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\u7684\u5f15\u7528</li> <li>\u53e6\u4e00\u4e2a\u662f\u5207\u5b9e\u7684\u590d\u5236\u5bf9\u8c61\uff0c\u4ece\u6b64\u4e24\u4e2a\u5bf9\u8c61\u518d\u65e0\u5173\u8054</li> </ul> <p>js\u4e2d\u4f7f\u7528\u7684\u5c31\u662f\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u8fd9\u8fb9\u7275\u626f\u51fa\u91cc\u539f\u578b\u94fe\u7684\u8bf4\u6cd5\uff0c\u5373\u6240\u6709\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a_proto_\u6307\u5411\u5176\u539f\u578b\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8c03\u7528\u5176\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5\u3002\uff08\u5c0f\u60f3\u6cd5\uff1a\u76f4\u63a5\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u8bbe\u7f6e\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\uff0c\u5c82\u4e0d\u662f\u5168\u5c40\u516c\u7528\u65b9\u6cd5\uff1f\uff09</p>"},{"location":"study/GoogleV8/third/#\u5bf9\u8c61\u6784\u9020\u5bf9\u8c61\u539f\u578b\u5bf9\u8c61\u4e0e\u539f\u578b\u94fe","title":"\u5bf9\u8c61\uff0c\u6784\u9020\u5bf9\u8c61\uff0c\u539f\u578b\u5bf9\u8c61\u4e0e\u539f\u578b\u94fe","text":"<p>\u5bf9\u8c61\u4f1a\u6307\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61</p> <pre><code>function Person(){ //\u6784\u9020\u51fd\u6570\n\n}\n// \u539f\u578b\u5bf9\u8c61\uff0c\u53ef\u76f4\u63a5\u4fee\u6539prototype\u7684\u6307\u5411\nPerson.prototype ={\n\n}\nvar max = new Person();// 1,\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c2\uff1a\u6b64\u5bf9\u8c61\u7684_proto_\u6267\u884cprototype\n\nconsole.log(max._proto === Person.prototype) //true\n</code></pre> <p>\u539f\u578b\u5bf9\u8c61\u9996\u5148\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u6b21\u624d\u662f\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff0c\u5f53\u5b83\u672c\u8eab\u6ca1\u6709\u67d0\u79cd\u5c5e\u6027\u7684\u65f6\u5019\uff0c\u4f1a\u53bb\u627e\u5b83\u7684\u539f\u578b\u5bf9\u8c61</p> <p>Object\u6784\u9020\u51fd\u6570\u662fjs\u4e2d\u7684\u5185\u7f6e\u7684\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0cObject\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684_proto_\u6307\u5411\u662fnull</p> <p></p> <p>\u76f4\u63a5\u66f4\u6539\u5bf9\u8c61\u7684_proto_\u7684\u6307\u5411</p> <pre><code>var c ={\n\n}\nvar b = {\n    message:\"hello,i am b\"\n}\nc._proto_ = b\nconsole.log(c.message)// \u8f93\u51fahello,i am b\n</code></pre>"},{"location":"study/GoogleV8/third/#\u539f\u578b\u4ee3\u7406","title":"\u539f\u578b\u4ee3\u7406","text":"<p>Array\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0cArray\u7684\u539f\u578b\u5bf9\u8c61\u4e2d\u7684push\uff0cpop\uff0cshift\u7b49\u662fjs\u4e2d\u5904\u7406\u6570\u7ec4\u7684\u65b9\u6cd5</p> <p>\u5728\u5b9e\u4f8b\u5bf9\u8c61\u4e0eArray\u7684\u539f\u578b\u5bf9\u8c61\u4e4b\u95f4\u5ac1\u63a5\u4e00\u5c42\u5bf9\u8c61\uff08\u4ee3\u7406\u539f\u578b\u5bf9\u8c61\uff09\uff0c\u628a\u80fd\u591f\u6539\u53d8\u6570\u7ec4\u7684\u65b9\u6cd5\u90fd\u6269\u5c55\u4e00\u4efd\uff0c\u867d\u7136\u65e0\u6cd5\u64cd\u4f5cArray\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5374\u53ef\u4ee5\u5bf9\u4ee3\u7406\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u8fdb\u884c\u6269\u5c55\uff0c\u81ea\u5df1\u5b9a\u4e49\u5bf9\u5e94\u65b9\u6cd5\u4e2d\u7684\u903b\u8f91\u3002</p> <p>\u6bd4\u5982\uff0c\u5728arr.push(6)\u65b9\u6cd5\u7684\u65f6\u5019\u4f1a\u5148\u770barr\u672c\u8eab\u6709\u65e0push\u65b9\u6cd5\u3002\u6ca1\u6709\u7684\u8bdd\u4f1a\u6cbf\u7740_proto_\u627e\u5230\u4ee3\u7406\u539f\u578b\u5bf9\u8c61\uff0c\u5728\u4ee3\u7406\u539f\u578b\u5bf9\u8c61\u4e2d\u62e6\u622a\u5bf9\u5e94\u7684\u65b9\u6cd5\u5e76\u4e14\u5bf9\u539f\u6709\u7684\u64cd\u4f5c\u4fdd\u6301\u4e0d\u53d8\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u6211\u4eec\u4fbf\u53ef\u4ee5\u505a\u4e00\u4e9b\u6bd4\u5982\u54cd\u5e94\u5f0f\u7684\u64cd\u4f5c\uff0c\u6570\u636e\u53d8\u5316\u540e\u5c06\u5bf9\u5e94\u7684\u89c6\u56fe\u66f4\u65b0\u3002</p> <p>\u8fd9\u4e5f\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48vue2\u4e2d\u5728\u4f7f\u7528definePrototype\u5b9e\u73b0\u54cd\u5e94\u5f0f\u65f6\uff0c\u65e0\u6cd5\u76d1\u542c\u5230\u6839\u636e\u6570\u7ec4\u4e0b\u6807\u4fee\u6539\u6570\u636e\uff0c\u4f46\u662f\u5374\u53ef\u4ee5\u76d1\u542c\u4f7f\u7528Array\u539f\u751f\u65b9\u6cd5\u64cd\u4f5c\u6570\u636e</p> <p></p> <p>\u793a\u4f8b\uff08\u5bf9vue\u6e90\u7801\u7684\u7b80\u5316\uff09\uff1a</p> <pre><code>var methods=[\n    \"push\",\n    \"pop\",\n    \"shift\",\n    \"unshift\",\n    \"splice\",\n    \"sort\"\n]\n\nvar arrMethods = Object.create(Array.prototype);\nmethods.forEach(method=&gt;{\n    arrMethos[method] = function(){\n        // this\u6307\u5411\u7684\u662f\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u5982\u4e0b\u9762\u8c03\u7528\u65f6\u5c31\u662farray\n        // arguments \u662f\u4e00\u4e2a\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u6240\u6709\u53c2\u6570\u3002\u5b83\u4e0d\u662f\u771f\u6b63\u7684\u6570\u7ec4\uff0c\u4f46\u5b83\u6709\u7d22\u5f15\u5c5e\u6027\u548c\u4e00\u4e2alength\u5c5e\u6027\uff0c\u5141\u8bb8\u4f60\u50cf\u904d\u5386\u6570\u7ec4\u4e00\u6837\u904d\u5386\u5b83\n        // apply\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u7b2c\u4e00\u4e2a\u662f\u8981\u4f5c\u4e3a\u8c03\u7528\u65b9\u6cd5\u65f6\u7684this\u503c\u7684\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u662f\u4e00\u4e2a\u6570\u7ec4\u6216\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0c\u5176\u5143\u7d20\u5c06\u4f5c\u4e3a\u5355\u72ec\u7684\u53c2\u6570\u4f20\u9012\u7ed9\u8c03\u7528\u7684\u65b9\u6cd5\u3002\n        Arrar.prototype[method].apply(this, arguments) // \u539f\u65b9\u6cd5\u7ee7\u7eed\u6267\u884c\n        // \u6570\u636e\u53d1\u751f\u53d8\u5316\u540e\u901a\u77e5\u6240\u6709\u7684\u76d1\u542c\u8005\uff0c\u8fdb\u884c\u5bf9\u5e94\u7684\u53d8\u5316\n        console.log(\"\u6211\u5df2\u7ecf\u62e6\u622a\u5230\u4e86\u4f60\u5bf9\"+method+\"\u65b9\u6cd5\u7684\u64cd\u4f5c\")\n\n    }\n})\n\nvar array = [1,2,3,4]\narray._proto_=arrMethods;\narray.push(5) // \u6211\u5df2\u7ecf\u62e6\u622a\u5230\u4e86\u4f60\u5bf9push\u65b9\u6cd5\u7684\u64cd\u4f5c\nconsole.log(arr);//[1,2,3,4,5]\n</code></pre>"},{"location":"study/Webpack/1/","title":"webpack\u6253\u5305\u539f\u7406\u6d41\u7a0b\u5206\u6790","text":"<p>webpack\uff1a\u5e94\u7528\u7a0b\u5e8f\u7684\u9759\u6001\u6a21\u5757\u6253\u5305\u5668-\u5c06\u6e90\u7801\u6253\u5305\u4e3a\u6d4f\u89c8\u5668\u53ef\u4ee5\u8bc6\u522b\u7684\u5f62\u5f0f</p> <p>bundle\uff08\u6346\u7ed1\u5305\uff09\uff1a</p> <p>\u662f\u6307\u5c06\u6240\u6709\u76f8\u5173\u7684\u6a21\u5757\u548c\u8d44\u6e90\u6253\u5305\u5728\u4e00\u8d77\u5f62\u6210\u7684\u5355\u4e2a\u6587\u4ef6\u3002\u4ed6\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u7ec8\u8f93\u51fa\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u548c\u6267\u884c\u3002\u6346\u7ed1\u5305\u901a\u5e38\u7531webpack\u6839\u636e\u5165\u53e3\u70b9\u548c\u4ed6\u4eec\u7684\u4f9d\u8d56\u5173\u7cfb\u81ea\u52a8\u521b\u5efa\u3002\u5f53\u4f60\u8fd0\u884cwebpack\u6784\u5efa\u65f6\uff0c\u5b83\u4f1a\u6839\u636e\u914d\u7f6e\u5c06\u6240\u6709\u6a21\u5757\u548c\u8d44\u6e90\u6253\u5305\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u6346\u7ed1\u5305</p> <p>chunk\uff08\u4ee3\u7801\u5757\uff09\uff1a</p> <p>\u662fwebpack\u5728\u6253\u5305\u8fc7\u7a0b\u4e2d\u751f\u6210\u7684\u4e2d\u95f4\u6587\u4ef6\uff0c\u4ed6\u4ee3\u8868\u7740\u4e00\u4e2a\u6a21\u5757\u7684\u96c6\u5408\u3002webpack\u6839\u636e\u4ee3\u7801\u7684\u62d3\u6251\u7ed3\u6784\u548c\u914d\u7f6e\u5c06\u6a21\u5757\u7ec4\u7ec7\u6210\u4e0d\u540c\u7684\u4ee3\u7801\u5757\u3002\u6bcf\u4e2a\u4ee3\u7801\u5757\u53ef\u4ee5\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u4ee3\u7801\u5757\u7ec4\u5408\u6210\u4e00\u4e2a\u6346\u7ed1\u5305\u3002webpack\u4f7f\u7528\u4ee3\u7801\u5206\u5272\u6280\u672f\u5c06\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u4ee3\u7801\u5757\uff0c\u4ee5\u4fbf\u5728\u9700\u8981\u65f6\u8fdb\u884c\u6309\u9700\u52a0\u8f7d\u3002</p> <p>loader\uff1a</p> <p>loader\u53ef\u4ee5\u8ba9webpack\u53bb\u5904\u7406\u90a3\u4e9b\u975eJavaScript\u6587\u4ef6\uff08webpack\u672c\u8eab\u53ea\u7406\u89e3JavaScript\uff09\u3002</p> <p>loader\u53ef\u4ee5\u5c06\u6240\u6709\u7c7b\u578b\u7684\u6587\u4ef6\u8f6c\u6362\u4e3awebpack\u80fd\u591f\u5904\u7406\u7684\u6709\u6548\u6a21\u5757\uff0c\u7136\u540e\u53ef\u4ee5\u5229\u7528webpack\u7684\u6253\u5305\u80fd\u529b\u5bf9\u4ed6\u4eec\u8fdb\u884c\u5904\u7406</p> <p>plugin\uff08\u63d2\u4ef6\uff09\uff1a</p> <p>\u63d2\u4ef6\u53ef\u4ee5\u88ab\u7528\u4e8e\u6267\u884c\u8303\u56f4\u66f4\u5e7f\u7684\u4efb\u52a1</p> <p>\u63d2\u4ef6\u7684\u8303\u56f4\u5305\u62ec\uff1a\u4ece\u6253\u5305\u4f18\u5316\u548c\u538b\u7f29\uff0c\u4e00\u76f4\u5230\u91cd\u65b0\u5b9a\u4e49\u73af\u5883\u4e2d\u7684\u53d8\u91cf\u3002\u63d2\u4ef6\u63a5\u53e3\u529f\u80fd\u673a\u5668\u5f3a\u5927\uff0c\u53ef\u4ee5\u7528\u6765\u5904\u7406\u5404\u79cd\u5404\u6837\u7684\u4efb\u52a1</p>"},{"location":"study/alibabaCloud/1/","title":"\u5fae\u670d\u52a1\u5168\u5bb6\u6876","text":""},{"location":"study/alibabaCloud/1/#\u4e00\u6838\u5fc3\u7ec4\u4ef6\u4e00\u7ad9\u5f0f\u5fae\u670d\u52a1\u6cbb\u7406","title":"\u4e00\u3001\u6838\u5fc3\u7ec4\u4ef6\uff1a\u4e00\u7ad9\u5f0f\u5fae\u670d\u52a1\u6cbb\u7406","text":"<p>\u5148\u8d34\u4e00\u5f20\u5fae\u670d\u52a1\u4e2d\u6bd4\u8f83\u666e\u904d\u7684\u4e00\u4e2a\u67b6\u6784\u56fe</p> <p></p>"},{"location":"study/alibabaCloud/1/#1nacos\u670d\u52a1\u6ce8\u518c\u4e0e\u914d\u7f6e\u4e2d\u5fc3","title":"1\u3001nacos\uff08\u670d\u52a1\u6ce8\u518c\u4e0e\u914d\u7f6e\u4e2d\u5fc3\uff09","text":"<ul> <li>\u529f\u80fd\uff1a\u66ff\u4ee3 Eureka + Config Server\uff0c\u5b9e\u73b0\u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0\u3001\u52a8\u6001\u914d\u7f6e\u7ba1\u7406\u3002</li> <li>\u4f18\u52bf\uff1a\u652f\u6301 AP/CP \u4e24\u79cd\u6a21\u5f0f\uff08\u9ed8\u8ba4 AP \u9ad8\u53ef\u7528\u4f18\u5148\uff09\uff0c\u914d\u7f6e\u53ef\u52a8\u6001\u5237\u65b0\uff0c\u65e0\u9700\u91cd\u542f\u670d\u52a1\u3002</li> </ul> <p>nacos\u7684\u914d\u7f6e\u5b89\u88c5\u6bd4\u8f83\u7b80\u5355\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4e00\u4e00\u8d58\u8ff0\u4e86</p> <p>\u793a\u4f8b\u914d\u7f6e\uff1a</p> <pre><code>server:\n  port: 9010\nspring:\n  application:\n    name: dd-service\n    nacos:\n      username: ${nacos_username:nacos}\n      password: ${nacos_passwd:nacos}\n      discovery:\n        server-addr: ${nacos_addr:127.0.0.1:8848}\n</code></pre>"},{"location":"study/alibabaCloud/1/#2sentinel\u6d41\u91cf\u9632\u536b\u5175","title":"2\u3001Sentinel\uff08\u6d41\u91cf\u9632\u536b\u5175\uff09","text":"<ul> <li>\u529f\u80fd\uff1a\u9650\u6d41\u3001\u7194\u65ad\u3001\u964d\u7ea7\uff0c\u9632\u6b62\u7cfb\u7edf\u8fc7\u8f7d\u3002</li> <li>\u4f18\u52bf\uff1a\u53ef\u89c6\u5316\u63a7\u5236\u53f0\u5b9e\u65f6\u76d1\u63a7\uff0c\u652f\u6301\u70ed\u70b9\u53c2\u6570\u9650\u6d41\uff08\u5982\u9488\u5bf9\u67d0\u4e2a\u5546\u54c1ID\u9650\u6d41\uff09\u3002</li> </ul>"},{"location":"study/browserPrinciple/4/","title":"var\u7684\u7f3a\u9677\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u8981\u5f15\u5165let\u548ccponst","text":"<p>\u4f5c\u7528\u57df\uff1a\u4f5c\u7528\u57df\u662f\u6307\u5728\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u53d8\u91cf\u7684\u533a\u57df\uff0c\u8be5\u4f4d\u7f6e\u51b3\u5b9a\u4e86\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f</p> <p>\u901a\u8fc7var\u58f0\u660e\u7684\u53d8\u91cf\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u51fd\u6570\u6216\u8005\u5168\u5c40\u4f5c\u7528\u57df\u7684\u9876\u90e8\uff0c\u4f46\u662f\u4ec5\u4ec5\u63d0\u5347\u58f0\u660e</p> <p>\u53d8\u91cf\u63d0\u5347\u5e26\u6765\u7684\u95ee\u9898</p> <p>\u53d8\u91cf\u5bb9\u6613\u5728\u4e0d\u88ab\u5bdf\u89c9\u7684\u60c5\u51b5\u4e0b\u88ab\u8986\u76d6\uff0c\u672c\u5e94\u9500\u6bc1\u7684\u53d8\u91cf\u5e76\u6ca1\u6709\u88ab\u9500\u6bc1</p> <p>es6\u662f\u5982\u4f55\u89e3\u51b3\u53d8\u91cf\u63d0\u5347\u5e26\u6765\u7684\u7f3a\u9677</p> <p>\u5f15\u5165\u4e86\u5757\u7ea7\u4f5c\u7528\u57df\u3001let\u548cvar</p>"},{"location":"study/browserPrinciple/4/#javascript\u5982\u4f55\u652f\u6301\u5757\u7ea7\u4f5c\u7528\u57df","title":"JavaScript\u5982\u4f55\u652f\u6301\u5757\u7ea7\u4f5c\u7528\u57df","text":"<p>\u601d\u8003\u5982\u4f55\u65e2\u652f\u6301\u53d8\u91cf\u63d0\u5347\uff0c\u53c8\u652f\u6301\u5757\u7ea7\u4f5c\u7528\u57df--\u4e0e\u6267\u884c\u4e0a\u4e0b\u6587\u6709\u5173</p> <pre><code>function foo(){\n    var a=1\n    let b=2\n    {\n        let b=3\n        var c=4\n        let d=5\n        console.log(a)\n        console.log(b)\n    }\n    console.log(b)\n    console.log(c)\n    console.log(d)\n}\n</code></pre> <p>\u901a\u8fc7var\u5173\u952e\u5b57\u58f0\u660e\u7684\u53d8\u91cf\u5b58\u653e\u5728\u53d8\u91cf\u73af\u5883\u4e2d\uff0c\u901a\u8fc7let\u5173\u952e\u5b57\u58f0\u660e\u7684\u53d8\u91cf\u5b58\u653e\u5728\u8bcd\u6cd5\u73af\u5883\u4e2d\uff0c\u4e14\u4f9d\u7167\u4ee3\u7801\u5757\u6765\u8fdb\u884c\u533a\u5206\u7684</p> <p>\u5f53\u6267\u884c\u5230\u4e00\u4e2a\u4f5c\u7528\u57df\u65f6\uff0c\u4f5c\u7528\u57df\u7684\u4fe1\u606f\u4f1a\u88ab\u538b\u5165\u6808\u4e2d\uff0c\u6267\u884c\u7ed3\u675f\u540e\uff0c\u5176\u4fe1\u606f\u4f1a\u4ece\u6808\u4e2d\u79fb\u9664</p> <p>\u5982\uff1a</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684 console.log(a)\u4f1a\u5148\u4ece\u8bcd\u6cd5\u73af\u5883\u7684\u6808\u9876\u5411\u4e0b\u5bfb\u627e\uff0c\u8bcd\u6cd5\u73af\u5883\u4e2d\u6ca1\u6709\u65f6\uff0c\u4f1a\u53bb\u53d8\u91cf\u73af\u5883\u4e2d\u5bfb\u627e</p> <p></p> <p>\u5177\u4f53\u7684\u67e5\u627e\u987a\u5e8f\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"study/browserPrinciple/4/#\u4f5c\u7528\u57df\u94fe\u548c\u95ed\u5305","title":"\u4f5c\u7528\u57df\u94fe\u548c\u95ed\u5305","text":"<pre><code>function bar(){\n    console.log(myname) // 1\n}\nfunction foo(){\n    var myname = 2\n    bar()\n}\nvar myname = 1\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u4e0a\u8ff0\u4ee3\u7801\u7684\u8f93\u51fa\u7ed3\u679c\u662f1\uff1f</p> <p>\u56e0\u4e3afoo\u51fd\u6570\u548cbar\u51fd\u6570\u7684\u4e0a\u7ea7\u4f5c\u7528\u57df\u90fd\u662f\u5168\u5c40\u4e0a\u4e0b\u6587\uff0c\u4e3a\u4ec0\u4e48\u90fd\u662f\u5168\u5c40\u4e0a\u4e0b\u6587\u662f\u56e0\u4e3a\uff1a</p> <p>JavaScript\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5176\u4f5c\u7528\u57df\u94fe\u662f\u7531\u8bcd\u6cd5\u73af\u5883\u51b3\u5b9a\u7684</p>"},{"location":"study/browserPrinciple/4/#\u8bcd\u6cd5\u4f5c\u7528\u57df","title":"\u8bcd\u6cd5\u4f5c\u7528\u57df","text":"<p>\u8bcd\u6cd5\u4f5c\u7528\u57df\u5c31\u662f\u6307\u4f5c\u7528\u57df\u662f\u7531\u4ee3\u7801\u4e2d\u51fd\u6570\u58f0\u660e\u7684\u4f4d\u7f6e\u6765\u51b3\u5b9a\u7684\uff0c\u6240\u4ee5\u8bcd\u6cd5\u4f5c\u7528\u57df\u662f\u9759\u6001\u7684\u4f5c\u7528\u57df\uff0c\u901a\u8fc7\u5b83\u5c31\u80fd\u9884\u6d4b\u4ee3\u7801\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u5982\u4f55\u67e5\u627e\u6807\u8bc6\u7b26</p> <p>\u4e0a\u7ea7\u7684\u4f5c\u7528\u57df\u662f\u7531\u8bcd\u6cd5\u73af\u5883\u51b3\u5b9a\u7684\uff0c\u800c\u4e0d\u662f\u7531\u58f0\u660e\u51b3\u5b9a\u7684\uff0c\u5177\u4f53\u6548\u679c\u5982\u4e0b</p> <pre><code>function bar(){\n    console.log(test) // 1\n}\nfunction foo(){\n    let test = 2\n    {\n        let test = 3\n        bar()\n    }\n}\nlet test = 1\nfoo()\n</code></pre>"},{"location":"study/browserPrinciple/4/#\u95ed\u5305","title":"\u95ed\u5305","text":"<p>\u5728JavaScript\u4e2d\uff0c\u5185\u90e8\u51fd\u6570\u603b\u662f\u53ef\u4ee5\u8bbf\u95ee\u5916\u90e8\u51fd\u6570\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5373\u4f7f\u5916\u90e8\u51fd\u6570\u5df2\u7ecf\u6267\u884c\u7ed3\u675f\uff0c\u7531\u4e8e\u5185\u90e8\u51fd\u6570\u5f15\u7528\u4e86\u5916\u90e8\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u6240\u4ee5\u5916\u90e8\u51fd\u6570\u4e2d\u7684\u53d8\u91cf\u8fd8\u4e0d\u53ef\u4ee5\u88ab\u9500\u6bc1\uff0c\u4f9d\u65e7\u8981\u5b58\u653e\u5728\u5185\u5b58\u4e2d</p>"},{"location":"study/browserPrinciple/5/","title":"\u4ecejs\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u89c6\u89d2\u7406\u89e3this","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u6982\u5ff5\uff0c\u4f5c\u7528\u57df\u548cthis\u662f\u4e24\u5957\u5b8c\u5168\u4e0d\u540c\u7684\u6982\u5ff5</p> <pre><code>var bar = {\n    myName: \"max\",\n    func: function(){\n        console.log(myName)// this.myName\u548cmyName\u662f\u4e0d\u4e00\u6837\u7684\n    }\n}\nfunction foo(){\n    let myName = \"james\"\n    return bar.func;\n}\nlet myName = 'cook'\nlet func = foo()\n// \u901a\u8fc7\u4ec0\u4e48\u6765\u8c03\u7528\u51fd\u6570\uff0c\u51fd\u6570\u7684this\u5c31\u6307\u5411\u8c03\u7528\u5b83\u7684\u5bf9\u8c61\nfunc() // cook\nbar.func() // cook\uff0c\u867d\u7136this\u6307\u5411\u662fbar\uff0c\u4f46\u662f\u51fd\u6570\u7684\u4e0a\u5c42\u4f5c\u7528\u57df\u662f\u5168\u5c40\u4f5c\u7528\u57df \n</code></pre> <p>\u4fee\u6539this\u6307\u5411\u7684\u4e09\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>call\u3001bind\u3001apply\u4e09\u79cd\u65b9\u6cd5</li> <li>\u901a\u8fc7\u6784\u9020\u51fd\u6570\u4fee\u6539this\u6307\u5411</li> <li>\u901a\u8fc7\u5bf9\u8c61\u8c03\u7528\u65b9\u6cd5\u8bbe\u7f6e</li> </ul> <p>this\u4e2d\u53ef\u80fd\u88ab\u79f0\u4e3a\u7f3a\u9677\u7684\u70b9\uff1f</p> <p>\u5d4c\u5957\u51fd\u6570\u4e2d\u7684this\u4e0d\u80fd\u4ece\u5916\u90e8\u51fd\u6570\u4e2d\u7ee7\u627f\uff1a</p> <pre><code>var myObj = {\n    name: \"max\"\n    showThis: function(){\n        console.log(this) // myObj\n        function bar(){\n            console.log(this) // window\n        }\n        bar()\n    }\n}\nmyObj.showThis()\n</code></pre>"},{"location":"study/docker/1/","title":"docker\u547d\u4ee4","text":""},{"location":"study/docker/1/#\u5b89\u88c5docker","title":"\u5b89\u88c5docker","text":"<p>\u547d\u4ee4</p> <p>\u5b89\u88c5\u4f9d\u8d56\u5de5\u5177<code>sudo yum install -y yum-utils device-mapper-persistent-data lvm2</code></p> <p>\u914d\u7f6eyum\u6e90</p> <pre><code># \u4f7f\u7528\u5b98\u65b9\u6e90\uff08\u56fd\u9645\u7f51\u7edc\uff09\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# \u6216\u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u52a0\u901f\uff08\u56fd\u5185\u63a8\u8350\uff09\nsudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n</code></pre> <p>\u5b89\u88c5docker\u5f15\u64ce</p> <pre><code># \u5b89\u88c5\u6700\u65b0\u7a33\u5b9a\u7248\nsudo yum install -y docker-ce docker-ce-cli containerd.io\n\n# \u6216\u5b89\u88c5\u6307\u5b9a\u7248\u672c\uff08\u4f8b\u5982 20.10.17\uff09\nsudo yum install -y docker-ce-20.10.17 docker-ce-cli-20.10.17 containerd.io\n</code></pre> <p>\u542f\u52a8docker\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f</p> <pre><code>sudo systemctl start docker\nsudo systemctl enable docker\n</code></pre>"},{"location":"study/docker/1/#docker\u5b89\u88c5nacos","title":"docker\u5b89\u88c5nacos","text":"<p>\u62c9\u53d6\u955c\u50cf<code>docker pull nacos/nacos-server</code></p> <p>\u62a5\u9519\u7684\u8bdd\u4fee\u6539\u955c\u50cf\u5730\u5740</p> <pre><code> vim /etc/docker/daemon.json \n{\n\n   \"registry-mirrors\": [\n   \"https://2a6bf1988cb6428c877f723ec7530dbc.mirror.swr.myhuaweicloud.com\",\n    \"https://docker.m.daocloud.io\",\n    \"https://hub-mirror.c.163.com\",\n    \"https://mirror.baidubce.com\",\n    \"https://your_preferred_mirror\",\n    \"https://dockerhub.icu\",\n    \"https://docker.registry.cyou\",\n    \"https://docker-cf.registry.cyou\",\n    \"https://dockercf.jsdelivr.fyi\",\n    \"https://docker.jsdelivr.fyi\",\n    \"https://dockertest.jsdelivr.fyi\",\n    \"https://mirror.aliyuncs.com\",\n    \"https://dockerproxy.com\",\n    \"https://mirror.baidubce.com\",\n    \"https://docker.m.daocloud.io\",\n    \"https://docker.nju.edu.cn\",\n    \"https://docker.mirrors.sjtug.sjtu.edu.cn\",\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"https://mirror.iscas.ac.cn\",\n    \"https://docker.rainbond.cc\"\n   ]\n}\n</code></pre> <p>\u542f\u52a8\u5bb9\u5668</p> <pre><code>docker run -p 8848:8848 --name nacos -d nacos/nacos-server:\u7248\u672c\u53f7\n</code></pre> <p>\u521b\u5efa\u6302\u8f7d\u76ee\u5f55</p> <pre><code>mkdir -p /mDisk/dockerContainers/nacos-v2.4.3/logs/                      #\u65b0\u5efalogs\u76ee\u5f55\nmkdir -p /mDisk/dockerContainers/nacos-v2.4.3/conf/                     #\u65b0\u5efaconf\u76ee\u5f55\nmkdir -p /mDisk/dockerContainers/nacos-v2.4.3/data/                     #\u65b0\u5efadata\u76ee\u5f55\nchmod 777 /mDisk/dockerContainers/nacos-v2.4.3/{conf,logs,data}    #\u6388\u6743\u6587\u4ef6\u8bfb/\u5199/\u6267\u884c\u5939\u6743\u9650\n</code></pre> <p>\u590d\u5236\u5bb9\u5668\u6587\u4ef6</p> <pre><code>docker cp nacos:/home/nacos/conf/ /mDisk/dockerContainers/nacos-v2.4.3\ndocker cp nacos:/home/nacos/data/ /mDisk/dockerContainers/nacos-v2.4.3\ndocker cp nacos:/home/nacos/logs/ /mDisk/dockerContainers/nacos-v2.4.3\n</code></pre> <p>\u5173\u95ed\u5bb9\u5668 <code>docker rm -f nacos</code></p>"},{"location":"study/docker/1/#mysql\u4e2d\u521b\u5efanacos\u6240\u9700\u7684\u8868","title":"mysql\u4e2d\u521b\u5efanacos\u6240\u9700\u7684\u8868","text":"<p>mysql\u4e2d\u65b0\u5efa\u4e00\u4e2a\u5e93\uff0c\u540d\u5b57\u5b9a\u4e49\u4e3anacos-config \u5728linux \u670d\u52a1\u5668\u4e2d\u7684mysql \u6570\u636e\u5e93\u6267\u884c\u4e0b\u9762\u8bed\u53e5</p> <pre><code>/*\n * Copyright 1999-2018 Alibaba Group Holding Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = config_info                  */\n/******************************************/\nCREATE TABLE `config_info` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) DEFAULT NULL COMMENT 'group_id',\n  `content` longtext NOT NULL COMMENT 'content',\n  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  `src_user` text COMMENT 'source user',\n  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',\n  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT '\u79df\u6237\u5b57\u6bb5',\n  `c_desc` varchar(256) DEFAULT NULL COMMENT 'configuration description',\n  `c_use` varchar(64) DEFAULT NULL COMMENT 'configuration usage',\n  `effect` varchar(64) DEFAULT NULL COMMENT '\u914d\u7f6e\u751f\u6548\u7684\u63cf\u8ff0',\n  `type` varchar(64) DEFAULT NULL COMMENT '\u914d\u7f6e\u7684\u7c7b\u578b',\n  `c_schema` text COMMENT '\u914d\u7f6e\u7684\u6a21\u5f0f',\n  `encrypted_data_key` text NOT NULL COMMENT '\u5bc6\u94a5',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_configinfo_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info';\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = config_info_aggr             */\n/******************************************/\nCREATE TABLE `config_info_aggr` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) NOT NULL COMMENT 'group_id',\n  `datum_id` varchar(255) NOT NULL COMMENT 'datum_id',\n  `content` longtext NOT NULL COMMENT '\u5185\u5bb9',\n  `gmt_modified` datetime NOT NULL COMMENT '\u4fee\u6539\u65f6\u95f4',\n  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT '\u79df\u6237\u5b57\u6bb5',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_configinfoaggr_datagrouptenantdatum` (`data_id`,`group_id`,`tenant_id`,`datum_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='\u589e\u52a0\u79df\u6237\u5b57\u6bb5';\n\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = config_info_beta             */\n/******************************************/\nCREATE TABLE `config_info_beta` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) NOT NULL COMMENT 'group_id',\n  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',\n  `content` longtext NOT NULL COMMENT 'content',\n  `beta_ips` varchar(1024) DEFAULT NULL COMMENT 'betaIps',\n  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  `src_user` text COMMENT 'source user',\n  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT '\u79df\u6237\u5b57\u6bb5',\n  `encrypted_data_key` text NOT NULL COMMENT '\u5bc6\u94a5',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_configinfobeta_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_beta';\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = config_info_tag              */\n/******************************************/\nCREATE TABLE `config_info_tag` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) NOT NULL COMMENT 'group_id',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT 'tenant_id',\n  `tag_id` varchar(128) NOT NULL COMMENT 'tag_id',\n  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',\n  `content` longtext NOT NULL COMMENT 'content',\n  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  `src_user` text COMMENT 'source user',\n  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_configinfotag_datagrouptenanttag` (`data_id`,`group_id`,`tenant_id`,`tag_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_tag';\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = config_tags_relation         */\n/******************************************/\nCREATE TABLE `config_tags_relation` (\n  `id` bigint(20) NOT NULL COMMENT 'id',\n  `tag_name` varchar(128) NOT NULL COMMENT 'tag_name',\n  `tag_type` varchar(64) DEFAULT NULL COMMENT 'tag_type',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) NOT NULL COMMENT 'group_id',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT 'tenant_id',\n  `nid` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'nid, \u81ea\u589e\u957f\u6807\u8bc6',\n  PRIMARY KEY (`nid`),\n  UNIQUE KEY `uk_configtagrelation_configidtag` (`id`,`tag_name`,`tag_type`),\n  KEY `idx_tenant_id` (`tenant_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_tag_relation';\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = group_capacity               */\n/******************************************/\nCREATE TABLE `group_capacity` (\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '\u4e3b\u952eID',\n  `group_id` varchar(128) NOT NULL DEFAULT '' COMMENT 'Group ID\uff0c\u7a7a\u5b57\u7b26\u8868\u793a\u6574\u4e2a\u96c6\u7fa4',\n  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u914d\u989d\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u4f7f\u7528\u91cf',\n  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u5355\u4e2a\u914d\u7f6e\u5927\u5c0f\u4e0a\u9650\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u805a\u5408\u5b50\u914d\u7f6e\u6700\u5927\u4e2a\u6570\uff0c\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u5355\u4e2a\u805a\u5408\u6570\u636e\u7684\u5b50\u914d\u7f6e\u5927\u5c0f\u4e0a\u9650\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u6700\u5927\u53d8\u66f4\u5386\u53f2\u6570\u91cf',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_group_id` (`group_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='\u96c6\u7fa4\u3001\u5404Group\u5bb9\u91cf\u4fe1\u606f\u8868';\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = his_config_info              */\n/******************************************/\nCREATE TABLE `his_config_info` (\n  `id` bigint(20) unsigned NOT NULL COMMENT 'id',\n  `nid` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'nid, \u81ea\u589e\u6807\u8bc6',\n  `data_id` varchar(255) NOT NULL COMMENT 'data_id',\n  `group_id` varchar(128) NOT NULL COMMENT 'group_id',\n  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',\n  `content` longtext NOT NULL COMMENT 'content',\n  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  `src_user` text COMMENT 'source user',\n  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',\n  `op_type` char(10) DEFAULT NULL COMMENT 'operation type',\n  `tenant_id` varchar(128) DEFAULT '' COMMENT '\u79df\u6237\u5b57\u6bb5',\n  `encrypted_data_key` text NOT NULL COMMENT '\u5bc6\u94a5',\n  PRIMARY KEY (`nid`),\n  KEY `idx_gmt_create` (`gmt_create`),\n  KEY `idx_gmt_modified` (`gmt_modified`),\n  KEY `idx_did` (`data_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='\u591a\u79df\u6237\u6539\u9020';\n\n\n/******************************************/\n/*   \u8868\u540d\u79f0 = tenant_capacity              */\n/******************************************/\nCREATE TABLE `tenant_capacity` (\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '\u4e3b\u952eID',\n  `tenant_id` varchar(128) NOT NULL DEFAULT '' COMMENT 'Tenant ID',\n  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u914d\u989d\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u4f7f\u7528\u91cf',\n  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u5355\u4e2a\u914d\u7f6e\u5927\u5c0f\u4e0a\u9650\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u805a\u5408\u5b50\u914d\u7f6e\u6700\u5927\u4e2a\u6570',\n  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u5355\u4e2a\u805a\u5408\u6570\u636e\u7684\u5b50\u914d\u7f6e\u5927\u5c0f\u4e0a\u9650\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\uff0c0\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u503c',\n  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '\u6700\u5927\u53d8\u66f4\u5386\u53f2\u6570\u91cf',\n  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '\u4fee\u6539\u65f6\u95f4',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_tenant_id` (`tenant_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='\u79df\u6237\u5bb9\u91cf\u4fe1\u606f\u8868';\n\n\nCREATE TABLE `tenant_info` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',\n  `kp` varchar(128) NOT NULL COMMENT 'kp',\n  `tenant_id` varchar(128) default '' COMMENT 'tenant_id',\n  `tenant_name` varchar(128) default '' COMMENT 'tenant_name',\n  `tenant_desc` varchar(256) DEFAULT NULL COMMENT 'tenant_desc',\n  `create_source` varchar(32) DEFAULT NULL COMMENT 'create_source',\n  `gmt_create` bigint(20) NOT NULL COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `gmt_modified` bigint(20) NOT NULL COMMENT '\u4fee\u6539\u65f6\u95f4',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_tenant_info_kptenantid` (`kp`,`tenant_id`),\n  KEY `idx_tenant_id` (`tenant_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='tenant_info';\n\nCREATE TABLE `users` (\n    `username` varchar(50) NOT NULL PRIMARY KEY COMMENT 'username',\n    `password` varchar(500) NOT NULL COMMENT 'password',\n    `enabled` boolean NOT NULL COMMENT 'enabled'\n);\n\nCREATE TABLE `roles` (\n    `username` varchar(50) NOT NULL COMMENT 'username',\n    `role` varchar(50) NOT NULL COMMENT 'role',\n    UNIQUE INDEX `idx_user_role` (`username` ASC, `role` ASC) USING BTREE\n);\n\nCREATE TABLE `permissions` (\n    `role` varchar(50) NOT NULL COMMENT 'role',\n    `resource` varchar(128) NOT NULL COMMENT 'resource',\n    `action` varchar(8) NOT NULL COMMENT 'action',\n    UNIQUE INDEX `uk_role_permission` (`role`,`resource`,`action`) USING BTREE\n);\n\nINSERT INTO users (username, password, enabled) VALUES ('nacos', '$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu', TRUE);\n\nINSERT INTO roles (username, role) VALUES ('nacos', 'ROLE_ADMIN');\n</code></pre>"},{"location":"study/nginx/1/","title":"\u53cd\u5411\u4ee3\u7406\u548c\u6b63\u5411\u4ee3\u7406","text":"<p>\u6b63\u5411\u4ee3\u7406\u670d\u52a1\u5668</p> <ul> <li>\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u5411\u4ee3\u7406\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u6307\u5b9a\u76ee\u6807\u670d\u52a1\u5668\uff0c\u7136\u540e\u4ee3\u7406\u5411\u76ee\u6807\u670d\u52a1\u5668\u8bf7\u6c42\u5e76\u83b7\u5f97\u5185\u5bb9\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</li> <li>\u6838\u5fc3\uff1a\u7528\u6237\u77e5\u9053\u76ee\u6807\u670d\u52a1\u5668</li> <li>\u573a\u666f\uff1a\u8df3\u677f\u673a\u3001\u8bbf\u95ee\u539f\u6765\u65e0\u6cd5\u8bbf\u95ee\u7684\u7f51\u7ad9\uff0c\u6bd4\u5982\u56fd\u5916\u7684\u4e00\u4e9b\u7ad9\u70b9</li> </ul> <p>\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668</p> <ul> <li>\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u5411\u4ee3\u7406\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\uff0c\u7136\u540e\u4ee3\u7406\u5411\u76ee\u6807\u670d\u52a1\u5668\u8bf7\u6c42\u5e76\u83b7\u5f97\u5185\u5bb9\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53cd\u5411\u4ee3\u7406\u9690\u85cf\u4e86\u771f\u5b9e\u7684\u670d\u52a1\u5668</li> <li>\u6838\u5fc3\uff1a\u5ba2\u6237\u7aef\u4e0d\u77e5\u9053\u8981\u8bbf\u95ee\u7684\u76ee\u6807\u670d\u52a1\u5668\u662f\u54ea\u53f0\u670d\u52a1\u5668\uff0c\u4ee3\u7406\u4f1a\u6839\u636e\u7b56\u7565\u9009\u62e9\u4e00\u4e2a\u771f\u5b9e\u7684\u670d\u52a1\u5668\u8fdb\u884c\u8bbf\u95ee</li> <li>\u573a\u666f\uff1a\u8bbf\u95ee\u6dd8\u5b9d\uff0c\u4e0d\u77e5\u9053\u57df\u540d\u540e\u7684IP\u662f\u591a\u5c11</li> </ul>"},{"location":"study/nginx/2/","title":"nginx\u4e2d\u7684accessLog","text":"<p>\u9488\u5bf9nginx\u4e2d\u7684accessLog\u65e5\u5fd7\u6587\u4ef6\uff0c\u91cc\u9762\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e9b\u5f88\u591a\u6709\u4ef7\u503c\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u7684IP\uff0c\u8bf7\u6c42\u7684\u63a5\u53e3\uff0c\u63a5\u53e3\u54cd\u5e94\u8017\u65f6\u7b49</p> <p>\u9488\u5bf9\u65e5\u5fd7\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u63d0\u53d6\u53ef\u4ee5\u4f7f\u7528awk\u547d\u4ee4</p> <p>\u6709\u4e86\u4e00\u4e2a\u601d\u8def\uff1a\u6839\u636eaccesslog\u4e2d\u7684\u8bf7\u6c42\u60c5\u51b5\u642d\u5efa\u4e00\u4e2a\u7b80\u6613\u7248\u7684\u6027\u80fd\u76d1\u63a7\u5e73\u53f0\uff08\u671f\u95f4\u4f1a\u8f83\u591a\u7684\u7528\u5230awk\u547d\u4ee4\uff09\uff0c\u540e\u7eed\u53ef\u7ee7\u7eed\u63a5\u5165\u540e\u7aef\u670d\u52a1\u6027\u80fd\u68c0\u6d4b\uff0c\u6bd4\u5982\u63a5\u53e3\u54cd\u5e94\u65f6\u95f4\uff0csql\u6267\u884c\u65f6\u95f4\uff0c\u670d\u52a1\u5668\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u7b49</p> <p>nginx\u4e2d\u901a\u8fc7upstream\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\u7b56\u7565</p> <p>\u5176\u4e2dlbs\u6307\u4ee3\u7684\u662f\u5bf9\u5e94\u7684\u670d\u52a1</p> <pre><code>upstream backend_servers {\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8081;\n}\nlocation / {\n            proxy_pass http://backend_servers; // \u914d\u7f6e\u8bf7\u6c42\u8d70backend_servers\u8f6c\u53d1\u7b56\u7565\n\n            # \u8bbe\u7f6e\u8f6c\u53d1\u5934\u4fe1\u606f--\u5b58\u653e\u7528\u6237\u7684\u771f\u5b9eip\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n}\n</code></pre> <p>\u5e38\u89c1\u7684\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\uff1a</p> <p>\u8282\u70b9\u8f6e\u8be2\uff08\u9ed8\u8ba4\uff09</p> <ul> <li>\u6bcf\u4e2a\u8bf7\u6c42\u6309\u987a\u5e8f\u5206\u914d\u5230\u4e0d\u540c\u7684\u540e\u7aef\u670d\u52a1\u5668</li> <li>\u4f1a\u9020\u6210\u53ef\u9760\u6027\u4f4e\u548c\u8d1f\u8f7d\u5206\u914d\u4e0d\u5747\u8861\uff0c\u9002\u5408\u9759\u6001\u670d\u52a1\u5668</li> </ul> <p>weight\u6743\u91cd\u914d\u7f6e</p> <ul> <li>weight\u548c\u8bbf\u95ee\u6bd4\u4f8b\u6210\u6b63\u6bd4\uff0c\u6570\u5b57\u8d8a\u5927\uff0c\u5206\u914d\u5f97\u5230\u7684\u6d41\u91cf\u8d8a\u9ad8</li> <li>\u670d\u52a1\u5668\u6027\u80fd\u5dee\u5f02\u5927\u7684\u65f6\u5019\u4f7f\u7528</li> </ul> <pre><code>upstream backend_servers {\n    server 127.0.0.1:8080 weight=5;\n    server 127.0.0.1:8081 weight=10;\n}\n</code></pre> <p>inhash\uff08\u56fa\u5b9a\u5206\u53d1\uff09</p> <ul> <li>\u6839\u636e\u8bf7\u6c42\u7684\u6309\u8bbf\u95ee\u7684ip\u7684hash\u7ed3\u679c\u5206\u914d\uff0c\u8fd9\u6837\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u56fa\u5b9a\u7684\u8bbf\u95ee\u4e00\u4e2a\u540e\u7aef\u670d\u52a1\u5668</li> <li>\u573a\u666f\uff1a\u4e1a\u52a1\u5206\u533a\uff0c\u4e1a\u52a1\u7f13\u5b58\uff0csession\u9700\u8981\u5355\u70b9\u7684\u60c5\u51b5</li> </ul> <pre><code>upstream backend_servers {\n    inhash\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8081;\n}\n</code></pre> <p>nginx\u8fdb\u884c\u540e\u7aef\u670d\u52a1\u63a2\u6d3b</p> <pre><code>upstream backend_servers {\n    server 127.0.0.1:8080 max_fails=2 fails_timeout=60s; //\u6700\u5927\u5c1d\u8bd5\u6b21\u65702\uff0c\u6700\u957f\u5c1d\u8bd5\u6301\u7eed\u65f6\u95f460s\n    server 127.0.0.1:8081 max_fails=2 fails_timeout=60s;\n}\n</code></pre> <p>nginx\u8fdb\u884c\u5168\u5c40\u5f02\u5e38\u4fe1\u606f\u5904\u7406</p> <pre><code>location / {\n    proxy_pass http://backend_servers; // \u914d\u7f6e\u8bf7\u6c42\u8d70backend_servers\u8f6c\u53d1\u7b56\u7565\n\n    # \u8bbe\u7f6e\u8f6c\u53d1\u5934\u4fe1\u606f--\u5b58\u653e\u7528\u6237\u7684\u771f\u5b9eip\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    // \u5f00\u542f\u9519\u8bef\u62e6\u622a\u914d\u7f6e\n   proxy_intercept_errors on;\n}\n// \u5c06\u9519\u8bef\u7684\u72b6\u6001\u7801\u5168\u90e8\u8f6c\u4e3a200\u5e76\u4e14\u8f6c\u5230default_api\u8def\u5f84\u4e0b\nerror_page 404 500 502 503 504 =200 /default_api;\nlocation = /default_api {\n    default_type application/json;\n    return 200 '{\"code\":\"-1\",\"msg\":\"wrong\"}'\n} \n</code></pre> <p>nginx\u4e2d\u8fdb\u884cIP\u5c01\u7981</p> <p>\u653e\u5728http\u6a21\u5757\u4e0b\u5c31\u662f\u5168\u5c40\u8fdb\u884c\u5c01\u7981\uff0c\u653e\u5728server\u6a21\u5757\u4e0b\u5c31\u662f\u9488\u5bf9\u7aef\u53e3\u8fdb\u884c\u5c01\u7981</p> <p>\u53ef\u901a\u8fc7\u521b\u5efa.conf\u914d\u7f6e\u6587\u4ef6\u5c06\u9700\u8981\u5c01\u7981\u7684IP\u5199\u5728\u91cc\u9762\uff0c\u5728nginx.conf\u6587\u4ef6\u4e2d\u5f15\u5165\u5373\u53ef\uff0cblackList.conf\u9700\u4e0enginx.conf\u5728\u540c\u4e00\u6587\u4ef6\u5939\u4e0b</p> <pre><code>touch blackList.conf;\n\n// blackList.conf\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\ndeny 127.0.0.2;\ndeny 127.0.0.3;\n\n\n// nginx.conf\nhttp{\n    include blackList.conf;\n}\n\nserver {\n    include blackList.conf;\n}\n</code></pre> <p>\u81ea\u52a8\u5316\u5c01\u7981IP\u601d\u8def</p> <ul> <li>\u7f16\u5199shell\u811a\u672c</li> <li>AWK\u7edf\u8ba1access.log\uff0c\u8bb0\u5f55\u6bcf\u79d2\u8bbf\u95ee\u8d85\u8fc760\u6b21\u7684IP\uff0c\u7136\u540e\u914d\u5408nginx\u6216\u8005iptables\u8fdb\u884c\u5c01\u7981</li> <li>crontab\u5b9a\u65f6\u8dd1\u811a\u672c</li> </ul> <p>nginx\u4e2d\u7684location\u5339\u914d\u89c4\u5219\uff08\u5e38\u7528\uff09</p> <ul> <li>location = /url\uff1a\u7cbe\u786e\u5339\u914d\uff0c\u53ea\u6709\u5b8c\u5168\u5339\u914d\u4e0a\u624d\u80fd\u751f\u6548 \u4f18\u5148\u7ea7\u6700\u9ad8</li> <li>location /url\uff1a\u4e0d\u5e26\u4efb\u4f55\u4fee\u9970\u7b26\u8868\u793a\u524d\u7f00\u5339\u914d</li> <li>location ^~/url/\uff1a\u5339\u914d\u4efb\u4f55\u4ee5/url/\u5f00\u5934\u7684\u4efb\u4f55\u67e5\u8be2\u5e76\u4e14\u505c\u6b62\u641c\u7d22</li> <li>location /\uff1a\u901a\u7528\u5339\u914d\uff0c\u4efb\u4f55\u672a\u5339\u914d\u5230\u5176\u4ed6location\u7684\u8bf7\u6c42\u90fd\u4f1a\u5339\u914d\u5230</li> <li>\u6b63\u5219\u5339\u914d</li> </ul> <p>nginx\u4e2d\u7684rewrite\u6307\u4ee4-\u91cd\u5b9a\u5411</p> <pre><code>    location / {\n        rewrite ^/(.*) https:/xdclass.net/$1 permanent; // \u91cd\u5b9a\u5411\u5230\u5176\u4ed6\u7f51\u7ad9\n            root   html;\n            index  index.html index.htm;\n        }\n</code></pre>"},{"location":"study/nginx/3/","title":"nginx\u7aef\u7684\u6027\u80fd\u4f18\u5316","text":"<p>\u5e38\u89c1\u7684\u5f00\u53d1\u4eba\u5458\u63a7\u5236\u7684\u7f13\u5b58\u5206\u7c7b\uff1a</p> <ul> <li>\u6570\u636e\u5e93\u7f13\u5b58</li> <li>\u5e94\u7528\u7a0b\u5e8f\u7f13\u5b58</li> <li>nginx\u7f51\u5173\u7f13\u5b58</li> <li>\u524d\u7aef\u7f13\u5b58</li> </ul> <pre><code>// \u5b9a\u4e49\u7f13\u5b58\u533a\u57df \n// /root/cache: \u8fd9\u662f\u7f13\u5b58\u6570\u636e\u5b58\u50a8\u7684\u4f4d\u7f6e\n// levels=1:2 \u5b9a\u4e49\u4e86\u7f13\u5b58\u6587\u4ef6\u7684\u76ee\u5f55\u7ed3\u6784\u5c42\u6b21\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a\u4e24\u5c42\u76ee\u5f55\uff0c\u7b2c\u4e00\u5c42\u76ee\u5f55\u540d\u4e3a\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\uff0c\u7b2c\u4e8c\u5c42\u4e3a\u5012\u6570\u7b2c\u4e09\u4e2a\u548c\u5012\u6570\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u3002\n// keys_zone=xd_cache:10m \u4e3a\u5171\u4eab\u5185\u5b58\u533a\u57df\u547d\u540d\uff08\u8fd9\u91cc\u662f xd_cache\uff09\uff0c\u5e76\u6307\u5b9a\u5176\u5927\u5c0f\uff0810MB\uff09\u3002\u8fd9\u4e2a\u5185\u5b58\u533a\u7528\u4e8e\u5b58\u50a8\u7f13\u5b58\u952e\u548c\u5176\u4ed6\u5143\u6570\u636e\u3002\n// max_size=1g \u8bbe\u7f6e\u7f13\u5b58\u7684\u6700\u5927\u78c1\u76d8\u7a7a\u95f4\u4e3a 1GB\u3002\u5f53\u8fbe\u5230\u8fd9\u4e2a\u9650\u5236\u65f6\uff0cNginx \u7684\u7f13\u5b58\u6e05\u7406\u673a\u5236\u5c06\u542f\u52a8\uff0c\u79fb\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u6570\u636e\u3002\n// inactive=60m \u5982\u679c\u67d0\u4e2a\u7f13\u5b58\u6761\u76ee\u5728 60 \u5206\u949f\u5185\u6ca1\u6709\u88ab\u8bbf\u95ee\uff0c\u5b83\u5c06\u4ece\u7f13\u5b58\u4e2d\u79fb\u9664\n// use_temp_path=off \u76f4\u63a5\u5728\u6700\u7ec8\u7684\u7f13\u5b58\u4f4d\u7f6e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u9ed8\u8ba4\u7684\u4e34\u65f6\u5b58\u50a8\u8def\u5f84\uff0c\u8fd9\u53ef\u4ee5\u907f\u514d\u989d\u5916\u7684 I/O \u5f00\u9500\u3002\nproxy_cache_path /root/cache levels=1:2 keys_zone=xd_cache:10m max_size=1g inactive=60m use_temp_path=off;\n\nserver {\n  location / {\n       proxy_pass http://backend_servers; // \u914d\u7f6e\u8bf7\u6c42\u8d70backend_servers\u8f6c\u53d1\u7b56\u7565\n\n       # \u8bbe\u7f6e\u8f6c\u53d1\u5934\u4fe1\u606f--\u5b58\u653e\u7528\u6237\u7684\u771f\u5b9eip\n       proxy_set_header Host $host;\n       proxy_set_header X-Real-IP $remote_addr;\n       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n       proxy_set_header X-Forwarded-Proto $scheme;\n       proxy_intercept_errors on;\n\n       proxy_cache xd_cache; // \u4f7f\u7528\u4e4b\u524d\u5b9a\u4e49\u7684\u7f13\u5b58\u533a\u57df xd_cache\n       proxy_cache_valid 200 304 10m; // \u5bf9 HTTP 200 \u548c 304 \u72b6\u6001\u7801\u7684\u54cd\u5e94\u7f13\u5b58 10 \u5206\u949f\n       proxy_cache_valid 404 1m; // \u5bf9 HTTP 404 \u72b6\u6001\u7801\u7684\u54cd\u5e94\u7f13\u5b58 1 \u5206\u949f\n       proxy_cache_key $host$uri$is_args$args; // \u5b9a\u4e49\u7f13\u5b58\u7684\u952e\u503c\uff0c\u57fa\u4e8e\u4e3b\u673a\u540d\u3001URI\u3001\u662f\u5426\u5e26\u6709\u53c2\u6570\u4ee5\u53ca\u53c2\u6570\u672c\u8eab\n       add_header_Nginx-Cache \"$upstream_cache_status\"; // \u6dfb\u52a0\u54cd\u5e94\u5934\uff0c\u663e\u793a\u7f13\u5b58\u72b6\u6001\uff08MISS, BYPASS, EXPIRED\u7b49\uff09\n    }  \n}\n</code></pre> <p>\u9759\u6001\u8d44\u6e90\u538b\u7f29</p> <p>\u5728\u8bf7\u6c42js\uff0ccss\uff0chtml\u7b49\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u538b\u7f29\u8bf7\u6c42\u6587\u4ef6\u7684\u5927\u5c0f--\u51cf\u5c0f\u5e26\u5bbd\u4f7f\u7528</p>"},{"location":"study/nginx/4/","title":"OpenResty","text":"<p>OpenResty \u7684\u76ee\u6807\u662f\u8ba9\u4f60\u7684Web\u670d\u52a1\u76f4\u63a5\u8dd1\u5728 Nginx \u670d\u52a1\u5185\u90e8\uff0c\u5145\u5206\u5229\u7528 Nginx \u7684\u975e\u963b\u585e I/O \u6a21\u578b\uff0c\u4e0d\u4ec5\u4ec5\u5bf9 HTTP \u5ba2\u6237\u7aef\u8bf7\u6c42,\u751a\u81f3\u4e8e\u5bf9\u8fdc\u7a0b\u540e\u7aef\u8bf8\u5982 MySQL\u3001PostgreSQL\u3001Memcached \u4ee5\u53ca Redis \u7b49\u90fd\u8fdb\u884c\u4e00\u81f4\u7684\u9ad8\u6027\u80fd\u54cd\u5e94\u3002</p> <p>OpenResty\u5b98\u7f51\u94fe\u63a5-https://openresty.org/cn/download.html</p> <p>OpenResty\u642d\u914dlua\u811a\u672c\u4f7f\u7528</p>"},{"location":"study/nginx/4/#nginx\u4e2d\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784","title":"nginx\u4e2d\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784","text":"<p>\u4f20\u7edf\u7684Web\u670d\u52a1\u5668\u901a\u5e38\u4f9d\u8d56\u4e8e\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u5206\u914d\u72ec\u7acb\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5f53\u5e76\u53d1\u8bf7\u6c42\u91cf\u589e\u5927\u65f6\uff0c\u7cfb\u7edf\u7684\u8d44\u6e90\u6d88\u8017\u548c\u4e0a\u4e0b\u6587\u5207\u6362\u4f1a\u8fc5\u901f\u589e\u52a0\uff0c\u5bfc\u81f4\u6027\u80fd\u74f6\u9888\u3002\u800cNginx\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\uff0c\u901a\u8fc7\u4e00\u4e2a\u5355\u4e00\u7684\u8fdb\u7a0b\u6765\u5904\u7406\u6240\u6709\u7684\u8bf7\u6c42\uff0c\u907f\u514d\u4e86\u7ebf\u7a0b\u7684\u8fc7\u5ea6\u5207\u6362\u548c\u5185\u5b58\u7684\u6d6a\u8d39\uff0c\u5b9e\u73b0\u4e86\u9ad8\u6548\u7684I/O\u5904\u7406\u3002</p> <p>\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\uff08Event-driven Architecture\uff0cEDA\uff09\u662f\u4e00\u79cd\u901a\u8fc7\u4e8b\u4ef6\u6765\u9a71\u52a8\u7cfb\u7edf\u884c\u4e3a\u7684\u67b6\u6784\u6a21\u5f0f\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u9ad8\u5e76\u53d1\u3001\u9ad8\u6027\u80fd\u7684\u5e94\u7528\u573a\u666f\u3002\u4e0e\u4f20\u7edf\u7684\u7ebf\u7a0b\u6a21\u578b\u4e0d\u540c\uff0c\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u901a\u8fc7\u76d1\u542c\u3001\u6355\u83b7\u548c\u54cd\u5e94\u4e8b\u4ef6\u6765\u5b9e\u73b0\u7cfb\u7edf\u64cd\u4f5c\u3002\u5728Nginx\u4e2d\uff0c\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u4f7f\u5176\u80fd\u591f\u9ad8\u6548\u5730\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8fde\u63a5\uff0c\u907f\u514d\u4e86\u4f20\u7edf\u591a\u7ebf\u7a0b\u6a21\u578b\u4e2d\u5927\u91cf\u7ebf\u7a0b\u7684\u521b\u5efa\u4e0e\u9500\u6bc1\u6240\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u3002</p>"},{"location":"study/nginx/4/#\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u4e0e\u4f20\u7edf\u7684\u591a\u7ebf\u7a0b\u6a21\u578b\u7684\u533a\u522b","title":"\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u4e0e\u4f20\u7edf\u7684\u591a\u7ebf\u7a0b\u6a21\u578b\u7684\u533a\u522b","text":"<p>\u5728\u4f20\u7edf\u7684\u591a\u7ebf\u7a0b\u6216\u591a\u7ebf\u7a0b\u6a21\u578b\u4e2d\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u901a\u5e38\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6765\u5904\u7406\u3002\u8fd9\u79cd\u6a21\u578b\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u662f\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8bf7\u6c42\u65f6\u4f1a\u6709\u95ee\u9898\uff1a</p> <ul> <li>\u8d44\u6e90\u6d88\u8017\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u9700\u8981\u4e00\u4e2a\u72ec\u7acb\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\uff0c\u5bfc\u81f4\u5927\u91cf\u7684\u5185\u5b58\u548cCPU\u5f00\u9500</li> <li>\u4e0a\u4e0b\u6587\u5207\u6362\uff1a\u5927\u91cf\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4f1a\u9891\u7e41\u7684\u8fdb\u884c\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u5f71\u54cd\u7cfb\u7edf\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u541e\u5410\u91cf</li> </ul> <p>\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u901a\u8fc7\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u5c06\u6240\u6709\u7684\u8bf7\u6c42\u96c6\u4e2d\u5904\u7406\u5728\u5c11\u91cf\u7684\u7ebf\u7a0b\u4e2d\uff08\u751a\u81f3\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff09\u3002\u5f53\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u4e8b\u4ef6\u9a71\u52a8\u7cfb\u7edf\u4f1a\u6839\u636e\u4e8b\u4ef6\u7c7b\u578b\u89e6\u53d1\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u6216\u5904\u7406\u903b\u8f91\u3002\u7531\u4e8e\u4e8b\u4ef6\u5904\u7406\u662f\u975e\u963b\u585e\u7684\uff0c\u5b83\u4e0d\u4f1a\u56e0\u7b49\u5f85I/O\u64cd\u4f5c\u800c\u963b\u585e\u6574\u4e2a\u7cfb\u7edf\u3002</p>"},{"location":"study/nginx/4/#nginx\u4e2d\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784_1","title":"Nginx\u4e2d\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784","text":"<p>Nginx\u4e2d\u7684\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u662fnginx\u9ad8\u6027\u80fd\u7684\u5173\u952e\uff0cNginx\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u6765\u7ba1\u7406\u6240\u6709\u7684I/O\u64cd\u4f5c\u3002\u5176\u57fa\u672c\u6d41\u7a0b\u662f\uff1a</p> <ul> <li>\u5f53\u4e00\u4e2a\u8bf7\u6c42\u5230\u8fbe\u65f6\uff0cNginx\u4f1a\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\uff08\u5982 <code>epoll</code>\u3001<code>select</code>\u3001<code>kqueue</code> \u7b49\uff09\u7b49\u5f85\u4e8b\u4ef6\u7684\u53d1\u751f</li> <li>\u4e00\u65e6\u68c0\u6d4b\u5230\u6709\u8bf7\u6c42\u4e8b\u4ef6\u6216I/O\u4e8b\u4ef6\uff0cNginx\u5c31\u4f1a\u5c06\u5176\u4ea4\u7ed9\u76f8\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u8fdb\u884c\u5904\u7406</li> <li>\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u901a\u8fc7\u975e\u963b\u585eI/O\u6a21\u578b\u6765\u8fdb\u884c\uff0c\u8fd9\u610f\u5473\u7740Nginx\u53ef\u4ee5\u5728\u4e0d\u963b\u585e\u7684\u60c5\u51b5\u4e0b\u9ad8\u6548\u5730\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8fde\u63a5</li> </ul> <p>Nginx\u7684master\u8fdb\u7a0b\u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406\u5de5\u4f5c\u8fdb\u7a0b\uff08worker\uff09\uff0c\u800c\u6bcf\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\u5219\u901a\u8fc7\u4e8b\u4ef6\u9a71\u52a8\u673a\u5236\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002\u4e0e\u4f20\u7edf\u7684\u591a\u7ebf\u7a0bWeb\u670d\u52a1\u5668\u4e0d\u540c\uff0cNginx\u7684\u5de5\u4f5c\u8fdb\u7a0b\u901a\u5e38\u4f1a\u590d\u7528\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\uff0c\u4e0d\u4f1a\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u5206\u914d\u4e00\u4e2a\u7ebf\u7a0b\u3002</p>"},{"location":"study/nginx/4/#openresty\u4e2d\u7684\u6269\u5c55\u5e93","title":"OpenResty\u4e2d\u7684\u6269\u5c55\u5e93","text":"<p>OpenResty\u6709\u4e00\u4e9b\u6269\u5c55\u5e93\u662f\u5df2\u7ecf\u5185\u7f6e\u597d\u7684</p> <p></p> <p>\u5728\u4f7f\u7528\u65f6\uff0c\u901a\u8fc7\u4fee\u6539nginx\u914d\u7f6e\u6587\u4ef6\u4fee\u6539</p> <pre><code>#\u8bbe\u7f6e\u7eaflua\u6269\u5c55\u5e93\u7684\u641c\u5bfb\u8def\u5f84\nlua_package_path \"$perfix/lualib/?.lua;;\";\n\n#\u8bbe\u7f6ec\u7f16\u5199\u7684lua\u6269\u5c55\u6a21\u5757\u7684\u641c\u5bfb\u8def\u5f84\uff08\u4e5f\u53ef\u4ee5\u7528';;'\uff09\nlua_package_cpath \"$perfix/lualib/?.so;;\"\n</code></pre> <p>\u914d\u7f6e\u9ed1\u540d\u5355\uff1a</p> <pre><code>location / {\n            access_by_lua_file lua/black_ip_list.lua;\n        }\n</code></pre> <p>\u5728conf\u540c\u7ea7\u76ee\u5f55\u4e0b\u521b\u5efalua\u6587\u4ef6\u5939\uff0c\u5728\u5176\u5185\u90e8\u521b\u5efablack_ip_list.lua\u6587\u4ef6\uff0c\u914d\u7f6e\u9ed1\u540d\u5355\u89c4\u5219</p> <pre><code>local black_ips = {[\"127.0.0.1\"]=true}\n\nlocal ip = ngx.var.remote_addr\nif true == black_ips[ip] then\n    ngx.exit(ngx.HTTP_FORBIDDEN)\n    return;\nend\n</code></pre> <p>\u81ea\u52a8\u5316\u9ed1\u540d\u5355\u5c01\u7981\u601d\u8def</p> <p></p>"},{"location":"study/nginx/4/#nginxopenresty\u5b9e\u73b0\u8d44\u6e90\u4e0b\u8f7d\u9650\u901f","title":"nginx+OpenResty\u5b9e\u73b0\u8d44\u6e90\u4e0b\u8f7d\u9650\u901f","text":"<p>nginx\u4e2d\u6709\u4e00\u4e2a$limit_rate\uff0c\u8fd9\u4e2a\u53cd\u6620\u7684\u662f\u5f53\u524d\u8bf7\u6c42\u6bcf\u79d2\u80fd\u76f8\u5e94\u7684\u5b57\u8282\u6570\uff0c\u8be5\u5b57\u8282\u6570\u9ed8\u8ba4\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684limit_rate\u6307\u4ee4\u7684\u8bbe\u503c</p> <pre><code>location /download {\n            access_by_lua_block {\n                ngx.var.limit_rate = '30k'\n            }        \n            alias /beansboot; // beansboot\u6587\u4ef6\u5939\n        } \n// \u4e0b\u8f7d\u547d\u4ee4\nwget \"127.0.1:8080/download/beansboot.jar\"\n</code></pre> <p>\u7f51\u76d8\u4e2d\u8d44\u6e90\u4e0b\u8f7d\u9650\u901f\u7684\u539f\u7406</p> <p>\u4e0b\u8f7d\u9650\u901f\u5b9e\u73b0\u539f\u7406\uff1a</p> <ul> <li>\u5e38\u7528\u7684\u662f\u6f0f\u6876\u539f\u7406\u548c\u4ee4\u724c\u6876\u539f\u7406</li> <li>\u6f0f\u6876\u7b97\u6cd5</li> <li>\u4ee4\u724c\u6876\u7b97\u6cd5</li> </ul>"},{"location":"study/nginx/5/","title":"nginx\u9ad8\u53ef\u7528\u89e3\u51b3\u65b9\u6848","text":"<p>\u901a\u8fc7lvs+keepalived\u5b9e\u73b0nginx\u9ad8\u53ef\u7528\u6027\uff08\u4e00\u4e9b\u5176\u4ed6\u7684\u65b9\u6848\uff1aslb\u7b49\u4e5f\u53ef\u5b9e\u73b0\uff09</p> <p>nginx\u524d\u642d\u4e24\u53f0\u524d\u7f6e\uff0clvs\u7528\u4e8e\u4fdd\u6301nginx\u7684\u9ad8\u53ef\u7528\u6027\u3002\u5728\u901a\u8fc7keepalived\u4fdd\u8bc1lvs\u670d\u52a1\u5668\u7684\u9ad8\u53ef\u7528\u6027\uff08\u4e00master\uff0c\u4e00backup\uff09</p> <p></p>"},{"location":"study/nodejs/1/","title":"nodejs\u7684\u7b80\u4ecb","text":"<p>nodejs\u53ef\u4ee5\u7406\u89e3\u4e3a\u662fjs\u7684\u4e00\u4e2a\u8fd0\u884c\u73af\u5883\uff0c\u7c7b\u4f3c\u4e8ejava\u7684jvm\u3002</p> <p>nodejs\u4e2d\u7684\u8def\u7531\u8bbe\u8ba1\uff1a</p> <p>\u601d\u8def-\u5728nodejs\u670d\u52a1\u7aef\u901a\u8fc7\u83b7\u53d6\u5230\u8bf7\u6c42\u7684url\uff0c\u6839\u636eurl\u5339\u914d\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u901a\u8fc7fs\u6a21\u5757\u5c06\u5bf9\u5e94\u7684\u6587\u4ef6\u5185\u5bb9\u8bfb\u53d6\u5230\uff0c\u901a\u8fc7\u63a5\u53e3\u8fd4\u56de\u7ed9\u8bf7\u6c42\u7aef</p> <pre><code>var http = require(\"http\")\nvar fs = require(\"fs\")\nvar server = http.createServer(function (req,res) { // \u521b\u5efa\u670d\u52a1\u5668\n    if (req.url===\"***\") { // \u6839\u636e\u8bf7\u6c42\u7684url\u5339\u914d\u5bf9\u5e94\u7684\u6587\u4ef6\n        fs.readFile(\"*****\",function (err,data) {\n            res.end(data)\n        }) \n    } else {\n        res.end(\"\u65e0\u9875\u9762\u663e\u793a\")\n    }\n})\nserver.listen(3000) // \u57283000\u7aef\u53e3\u542f\u52a8\u670d\u52a1\n</code></pre> <p>nodejs\u4e2d\u7684\u8def\u7531\u8bbe\u8ba1\u53c8\u53eb\u505a\u9876\u5c42\u8def\u7531\u8bbe\u8ba1\uff0c\u901a\u8fc7\u8def\u7531\u8fdb\u884c\u9875\u9762\u7684\u8bfb\u53d6</p> <p>\u8001\u4e00\u4ee3\u7684\u8def\u7531\u5b9e\u9645\u4e0a\u90fd\u662f\u901a\u8fc7\u6620\u5c04\u670d\u52a1\u5668\u7684\u7269\u7406\u6587\u4ef6\u5939\u5b9e\u73b0\u7684\uff0cnodejs\u4e2d\u8def\u7531\u4e0e\u670d\u52a1\u5668\u4e2d\u7684\u7269\u7406\u6587\u4ef6\u5939\u6ca1\u6709\u4efb\u4f55\u8054\u7cfb</p> <p></p>"},{"location":"study/nodejs/2/","title":"express\u4e2d\u95f4\u4ef6\u7684\u987a\u5e8f\u548c\u653e\u884c","text":"<p>\u60c5\u666f\uff1a\u5f53\u8f93\u5165\u7684\u4e00\u4e2aurl\u53ef\u4ee5\u5339\u914d\u591a\u4e2a\u89c4\u5219\u65f6\uff0c\u53ea\u4f1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\u89c4\u5219\u4e2d\u7684\u5185\u5bb9\uff0c\u540e\u7eed\u7684\u4e0d\u4f1a\u6267\u884c</p> <p>\u9700\u8981\u4f7f\u7528next\u65b9\u6cd5\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\uff0c\u4e14\u51fd\u6570\u4e2d\u4e0d\u80fd\u4f7f\u7528send\u65b9\u6cd5\uff0c\u8fd9\u6837\u4f1a\u7ec8\u6b62\u6267\u884c</p> <pre><code>var express = require(\"express\")\n\nvar app = express()\n\napp.get(\"/xiaogang/1001\",function (req,res){\n    res.send(\"\u6211\u662f\u5c0f\u521a\uff0c\u6211\u7684\u5b66\u53f7\u662f1001\")\n})\n\napp.get(\"/:name/:id\",function (req,res){\n    var name = req.params.name\n    var id = req.params.id\n\n    res.send(`\u6211\u662f${name}\uff0c\u6211\u7684\u5b66\u53f7\u662f${id}`)\n})\n\napp.listen(3000)\n</code></pre> <p>NodeJs\u4e2d\u7684\u9759\u6001\u5316\u6587\u4ef6\u5939</p> <pre><code>var express = require(\"express\")\n\nvar app = express()\napp.use(express.static(\"public\")) // \u5c06public\u6587\u4ef6\u5939\u9759\u6001\u5316\uff0c\u4ece\u800c\u5141\u8bb8\u5ba2\u6237\u7aef\u76f4\u63a5\u8bbf\u95ee\u8be5\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\napp.get(\"/\",function (req, res){\n})\n\napp.listen(3000)\n</code></pre> <p>\u8bf7\u6c42\u53c2\u6570\u7684\u5904\u7406</p> <pre><code> $(\"#btn\").click(function () {\n        $.get(\"http://127.0.0.1:3000/get_data\",{\n            name:'\u5c0f\u660e',\n            age:18,\n            sex:\"\u7537\"\n        }, function (data){\n            console.log(data)\n        })\n    })\n\n\n// url.parse\u65b9\u6cd5\u7528\u4e8e\u5904\u7406URL\u8bf7\u6c42\u53c2\u6570\uff0creq.url\u8868\u793a\u7684\u662f\u5f53\u524d\u8bf7\u6c42\u5730\u5740\u7684\u53c2\u6570\uff0ctrue\u8868\u793a\u7684\u662f\u5bf9url\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u5982\u679c\u4e3atrue\u89e3\u6790\u7ed3\u679c\u7684query\u5c31\u662f\u4e00\u4e2ajson\u6570\u636e\uff0c\u5426\u5219\u5c31\u662furl\u7684\u5b57\u7b26\u4e32\n\nvar express = require(\"express\")\nvar url = require(\"url\")\nvar app = express()\n\napp.use(express.static(\"asset\")) // \u5c06\u5176\u9759\u6001\u5316\u540e\uff0c\u82e5\u5176\u6587\u4ef6\u5939\u4e0b\u6709index.html\u6587\u4ef6\uff0c\u5219\u4f1a\u5c06\u5176\u81ea\u52a8\u5f53\u505a\u9996\u9875\u8fdb\u884c\u8bbf\u95ee\napp.get(\"/get_data\",function (req, res){\n    var queryData = url.parse(req.url,true).query // \u5c06\u5165\u53c2\u8fdb\u884c\u89e3\u6790\uff08\u89e3\u6790\u4e3ajson\uff0c\u83b7\u53d6\u5230\u5165\u53c2\uff09\n    console.log(queryData)\n})\n\napp.listen(3000)\n</code></pre>"},{"location":"study/nodejs/3/","title":"nodejs\u8fde\u63a5MySQL\u4ee5\u53caejs\u6a21\u677f\u5f15\u64ce\u7684\u4f7f\u7528","text":"<p>nodejs\u8fdb\u884c\u6570\u636e\u5e93\u8fde\u63a5\uff1a\u5728\u8fd9\u8fb9\u4f7f\u7528\u7684\u662fMySQL\u8fdb\u884c\u7684\u914d\u7f6e</p> <p><code>npm i mysql</code></p> <p>\u9996\u5148\u9700\u8981\u5b89\u88c5MySQL</p> <p>\u5355\u72ec\u521b\u5efa\u4e00\u4e2amysql.js\u6587\u4ef6\u7528\u4e8e\u521b\u5efamysql\u8fde\u63a5</p> <pre><code>const mysql = require(\"mysql\");\nvar connection = mysql.createConnection({\n    host: 'aaaaaa', // \u4f60\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u5730\u5740\n    port: 3306, // \u7aef\u53e3\u53f7\n    user: 'root', // \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668\u9700\u8981\u7684\u7528\u6237\u540d\n    password: 'aaaaaa.', // \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668\u9700\u8981\u7684\u5bc6\u7801\n    database: 'aaa' //\u4f60\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u7684\u540d\u5b57\n})\nconnection.connect((err)=&gt;{\n    if (err) return console.log('\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25')\n    console.log('mysql\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f')\n})\nmodule.exports = connection\n</code></pre> <p>\u5728app.js\u6587\u4ef6\u4e2d\u4f7f\u7528\uff0csql\u4f7f\u7528\u5b57\u7b26\u4e32\u8fdb\u884c\u7f16\u5199\uff0c\u4f7f\u7528connection.query()\u65b9\u6cd5\u6267\u884csql\u5373\u53ef</p> <pre><code>const  express = require(\"express\")\nconst connection = require('./mysql/connect')\n\nvar app = express()\n\napp.get(\"/\",function (req,res){\n    const sql = `select pageName from pages`\n    connection.query(sql, (err, data) =&gt; {\n        if (err) {\n            console.log(err);\n            res.json({ msg: '\u67e5\u8be2\u5931\u8d25', code: 0 })\n        } else {\n            console.log(data)\n            res.json(data)\n        }\n    })\n})\n\n\napp.listen(3000)\n</code></pre> <p>ejs\u6a21\u677f\u5f15\u64ce</p> <p>EJS\u662f\u4e00\u79cd\u7b80\u5355\u7684\u6a21\u677f\u5f15\u64ce\uff0c\u5b83\u5141\u8bb8\u4f60\u5c06JavaScript\u4ee3\u7801\u5d4c\u5165\u5230HTML\u6587\u4ef6\u4e2d\uff0c\u4ece\u800c\u751f\u6210\u52a8\u6001\u5185\u5bb9</p> <p>\u9996\u5148\u8fd8\u662f\u9700\u8981\u5b89\u88c5ejs</p> <p><code>npm i ejs</code></p> <p>\u9700\u8981\u9884\u5148\u521b\u5efaejs\u6a21\u677f\u6587\u4ef6</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;EJS Template&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;!--\u5728ejs\u6587\u4ef6\u4e2d\u4f7f\u7528 &lt;%= name %&gt; \u8fdb\u884c\u63a5\u6536--&gt;\n&lt;% for (var i = 0;i&lt;cloumn.length;i++) {%&gt;\n&lt;span&gt;&lt;%=cloumn[i] %&gt;&lt;/span&gt;\n&lt;% }%&gt;\n&lt;h1&gt;Hello, &lt;%= name %&gt;!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5728app.js\u6587\u4ef6\u4e2d\u8c03\u7528ejs\u6a21\u677f\u6587\u4ef6\uff0c\u8fd9\u6837\u5728\u901a\u8fc7\u63a5\u53e3\u5339\u914d\u540e\u8fd4\u56de\u7684\u662f\u4e00\u4e2ahtml\u6587\u4ef6</p> <pre><code>const  express = require(\"express\")\nconst connection = require('./mysql/connect')\n\nvar app = express()\n// \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u6a21\u677f\u5f15\u64ce--ejs\napp.set(\"view engine\",\"ejs\")\n// \u8bbe\u7f6e\u5bf9\u5e94\u7684\u6a21\u677f\u5f15\u64ce\u7684\u6587\u4ef6\u5939\napp.set('views', './views')\n\napp.get(\"/\",function (req,res){\n    // \u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u9875\u9762\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u662f\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u6587\u4ef6\u4f20\u8fc7\u53bb\u7684\u5165\u53c2\n    res.render('index',{name:'\u5c0f\u660e',cloumn:[\"\u8bed\u6587\",\"\u6570\u5b66\"]})\n})\napp.listen(3000)\n</code></pre>"},{"location":"study/nodejs/4/","title":"cookie\u548csession","text":"<p>\u5ba2\u6237\u7aef\u5728\u5411\u670d\u52a1\u5668\u7b2c\u4e00\u6b21\u53d1\u8d77\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u4f1a\u4e0b\u53d1\u4e00\u4e2a\u4fe1\u7269\uff08cookie\uff09\uff0c\u4e0b\u4e00\u6b21\u5ba2\u6237\u7aef\u518d\u8bf7\u6c42\u670d\u52a1\u5668\u65f6\uff0c\u4f1a\u643a\u5e26cookie\uff0c\u670d\u52a1\u5668\u901a\u8fc7cookie\u5b8c\u6210\u8eab\u4efd\u8bc6\u522b</p> <p>\u53ef\u4ee5\u8bbe\u7f6ecookie\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u4f7f\u7528\u4f53\u9a8c\u4e0a\u6709\u70b9\u7c7b\u4f3c\u4e8eredis</p> <p>\u9996\u5148\u9700\u8981\u5b89\u88c5cookie-parser</p> <p><code>npm i cookie-parser</code></p> <p>\u5728app.js\u6587\u4ef6\u4e2d\u8fdb\u884c\u4f7f\u7528</p> <pre><code>const express = require(\"express\")\nvar cookieParser = require(\"cookie-parser\")\nvar app = express()\napp.use(cookieParser()) // \u4f7f\u7528cookieParser\u624d\u53ef\u4ee5\u89e3\u6790cookie\n\napp.get(\"/\",function (req,res) {\n    // \u83b7\u53d6cookie\u4e2d\u7684\u4fe1\u606f\n    console.log(req.cookies.visited)\n    // visited\u8868\u793acookie\u4fe1\u606f\u7684key\u503c\n    res.cookie(\"visited\",{\"maxAge\":1000*60*60*24}) // \u5728\u8fd4\u56de\u5934\u4e2d\u8bbe\u7f6ecookie\u4fe1\u606f\n    res.send(\"\u6d4b\u8bd5cookie\")\n})\napp.listen(3000)\n</code></pre> <p>session\u548ccookie\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7cookie\u662f\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u800csession\u662f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u5e38\u7528\u7684\u5c31\u662f\u4f7f\u7528redis</p>"},{"location":"study/prometheus%E5%92%8Cgrafana/1/","title":"Prometheus","text":""},{"location":"study/prometheus%E5%92%8Cgrafana/1/#\u4e00\u57fa\u672c\u5b89\u88c5","title":"\u4e00\uff0c\u57fa\u672c\u5b89\u88c5","text":"<p>Prometheus\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u76d1\u63a7\u7cfb\u7edf\u4e0e\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\uff0c\u60f3\u8981\u5b66\u4e60\u4e00\u4e0b\u7684\u76ee\u7684\u662f\uff1a\u4e86\u89e3\u4e00\u4e0b\u5982\u4f55\u505a\u4e00\u4e2a\u53ef\u89c6\u5316\u7684\u5e94\u7528\u76d1\u63a7\u7cfb\u7edf\u3002</p> <ul> <li>Prometheus\uff1a\u8d1f\u8d23\u6570\u636e\u91c7\u96c6\u3001\u5b58\u50a8\u548c\u544a\u8b66\u89c4\u5219\u8ba1\u7b97\uff0c\u901a\u8fc7HTTP\u66b4\u9732/metrics\u63a5\u53e3\u63d0\u4f9b\u6570\u636e\u3002</li> </ul> <p>\u9996\u5148\u9700\u8981\u4e0b\u8f7dPrometheus\u5e76\u8fdb\u884c\u5b89\u88c5\uff0c\u6211\u8fd9\u8fb9\u662f\u89e3\u538b\u5230\u4e86/usr/local\u6587\u4ef6\u5939\u4e0b</p> <pre><code>rz  prometheus-2.24.1.linux-amd64.tar.gz  \u4e0a\u4f20\u5230\u670d\u52a1\u5668\ntar -xvf prometheus-2.24.1.linux-amd64.tar.gz  -C /usr/local/   \u5c06prometheus\u89e3\u538b\u5230/usr/local\u6587\u4ef6\u5939\u4e0b\n</code></pre> <p>\u8fdb\u5165\u5230\u89e3\u538b\u540e\u76ee\u5f55\uff0c\u53ef\u4ee5\u770b\u5230\u6587\u4ef6\u5939\u4e2d\u7684\u5185\u5bb9</p> <pre><code>drwxr-xr-x 28 root root      4096 May 14 16:48 data\n-rw-r--r--  1 1001  118     11357 Mar 26 21:08 LICENSE\n-rw-r--r--  1 1001  118      3773 Mar 26 21:08 NOTICE\n-rwxr-xr-x  1 1001  118 153799457 Mar 26 20:50 prometheus\n-rw-r--r--  1 1001  118      1597 Apr  8 16:20 prometheus.yml\n-rwxr-xr-x  1 1001  118 145482140 Mar 26 20:50 promtool\n</code></pre> <p>\u5176\u4e2d\u7684prometheus\u5c31\u662f\u6211\u4eec\u7684\u6267\u884c\u811a\u672c\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u542f\u52a8prometheus\uff0c\u6307\u5b9a\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6prometheus.yml</p> <pre><code>./prometheus --config.file=./prometheus.yml --web.enable-lifecycle &amp;\n</code></pre> <p>\u4e5f\u53ef\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b\u8fdb\u884c\u542f\u52a8</p> <pre><code>nohup ./prometheus --config.file=./prometheus.yml --web.enable-lifecycle &amp;\n</code></pre> <p>\u5230\u6b64prometheus\u5c31\u542f\u52a8\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u901a\u8fc7ip:9090\u8fdb\u884c\u8bbf\u95ee\u3002\u4f46\u662f\u8fdb\u53bb\u4ec0\u4e48\u4e5f\u6ca1\u6709\uff0c\u56e0\u4e3a\u6211\u4eec\u8fd8\u6ca1\u6709\u901a\u8fc7prometheus\u76d1\u63a7\u670d\u52a1\u3002</p>"},{"location":"study/prometheus%E5%92%8Cgrafana/1/#\u4e8c\u76d1\u63a7\u5de5\u5177","title":"\u4e8c\uff0c\u76d1\u63a7\u5de5\u5177","text":"<p>Prometheus\u4e2d\u5bf9\u5e94\u7684\u76d1\u63a7\u5de5\u5177\u6709\u5f88\u591a\uff0c\u6211\u8fd9\u8fb9\u53ea\u6dfb\u52a0\u4e86\u4e24\u4e2a\u6838\u5fc3\u7684\u76d1\u63a7\u5de5\u5177node_exporter\u548cmysqld_exporter</p> <p>\u5b98\u7f51\uff08\u7528\u4e8e\u4e0b\u8f7d\u76d1\u63a7\u5de5\u5177\uff09\uff1ahttps://prometheus.io/download/</p>"},{"location":"study/prometheus%E5%92%8Cgrafana/1/#node_exporter","title":"node_exporter","text":"<p>node_exporter\u662fPrometheus \u5b98\u65b9\u63d0\u4f9b\u7684 Linux \u4e3b\u673a\u6307\u6807\u91c7\u96c6\u5668\uff0c\u901a\u8fc7\u66b4\u9732 HTTP \u7aef\u70b9\uff08\u9ed8\u8ba4 <code>9100</code>\uff09\u4f9b Prometheus \u6293\u53d6\u6570\u636e\u3002</p> <p>\u4e0b\u8f7d\u5bf9\u5e94\u7684\u538b\u7f29\u5305\u540e\u8fdb\u884c\u89e3\u538b\uff0c\u6211\u8fd9\u8fb9\u4e5f\u662f\u89e3\u538b\u5230/usr/local/\u6587\u4ef6\u5939\u4e0b</p> <pre><code>tar -xvf node_exporter-1.9.0.linux-amd64.tar.gz -C /usr/local/\n// \u8fd0\u884cnode_exporter\nnohup ./node_exporter --web.listen-address=\":9100\" &gt; nohup.log 2&gt;&amp;1 &amp;\n</code></pre> <p>\u89e3\u538b\u4ee5\u540e\u9700\u8981\u5728prometheus\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c06\u5bf9\u5e94\u7684\u7ed3\u70b9\u6dfb\u52a0\u4e0a\u53bb</p> <pre><code>vim prometheus.yml\n// \u6dfb\u52a0\u5bf9\u5e94\u7684\u670d\u52a1\nscrape_configs:\n  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.\n  - job_name: \"prometheus\"\n\n    # metrics_path defaults to '/metrics'\n    # scheme defaults to 'http'.\n\n    static_configs:\n      - targets: [\"localhost:9090\"]\n       # The label name is added as a label `label_name=&lt;label_value&gt;` to any timeseries scraped from this config.\n        labels:\n          app: \"prometheus\"\n  // \u4efb\u52a1\u540d\u79f0\n  - job_name: \"node-exporter\"\n    static_configs:\n      - targets: [\"localhost:9100\"] // \u8fd0\u884c\u5730\u5740\n</code></pre>"},{"location":"study/prometheus%E5%92%8Cgrafana/1/#mysqld_exporter","title":"mysqld_exporter","text":"<p>mysqld_exporter\u7684\u64cd\u4f5c\u4e0enode_exporter\u4e00\u6837\uff0c\u4e5f\u662f\u9700\u8981\u5728prometheus\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c06\u5bf9\u5e94\u7684\u7ed3\u70b9\u6dfb\u52a0\u4e0a\u53bb</p> <pre><code>scrape_configs:\n  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.\n  - job_name: \"prometheus\"\n\n    # metrics_path defaults to '/metrics'\n    # scheme defaults to 'http'.\n\n    static_configs:\n      - targets: [\"localhost:9090\"]\n       # The label name is added as a label `label_name=&lt;label_value&gt;` to any timeseries scraped from this config.\n        labels:\n          app: \"prometheus\"\n  // \u4efb\u52a1\u540d\u79f0\n  - job_name: \"node-exporter\"\n    static_configs:\n      - targets: [\"localhost:9100\"] // \u8fd0\u884c\u5730\u5740\n  - job_name: \"mysql-agent\"\n    static_configs:\n      - targets: [\"localhost:9104\"]\n  - job_name: \"beansboot\"\n    scrape_interval: 15s\n    scrape_timeout: 10s\n    metrics_path: \"/beans/actuator/prometheus\"\n    static_configs:\n      - targets: [\"localhost:1023\"]  \n</code></pre>"},{"location":"study/prometheus%E5%92%8Cgrafana/1/#springboot\u670d\u52a1","title":"springboot\u670d\u52a1","text":"<p>\u9664\u4e86Prometheus\u63d0\u4f9b\u7684\u76d1\u63a7\u5de5\u5177\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u7528Prometheus\u76d1\u63a7springboot\u9879\u76ee\u3002\u9996\u5148\u9700\u8981\u5728\u5bf9\u5e94\u7684springboot\u9879\u76ee\u4e2d\u5b89\u88c5\u5bf9\u5e94\u7684\u5386\u6765\u4f9d\u8d56\u7528\u4e8e\u66b4\u9732\u7aef\u70b9\u6307\u6807\u6570\u636e</p> <pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre> <p>\u542f\u52a8\u670d\u52a1\u540e\u9700\u8981\u5728prometheus\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c06\u5bf9\u5e94\u7684\u7ed3\u70b9\u6dfb\u52a0\u4e0a\u53bb</p> <pre><code>  - job_name: \"beansboot\"\n    scrape_interval: 15s\n    scrape_timeout: 10s\n    metrics_path: \"/beans/actuator/prometheus\" // \u6307\u6807\u8def\u5f84\n    static_configs:\n      - targets: [\"localhost:1023\"]   // \u670d\u52a1\u8fd0\u884cip\u548c\u7aef\u53e3\u53f7\n</code></pre> <p>\u7ecf\u8fc7\u4e0a\u8ff0\u64cd\u4f5c\u540e\u5728\u901a\u8fc7\u8bbf\u95eeip:9090\u4fbf\u53ef\u770b\u5230\u76d1\u63a7\u7684\u670d\u52a1\u4e86</p> <p></p>"},{"location":"study/prometheus%E5%92%8Cgrafana/2/","title":"grafana","text":"<p>Grafana \u662f\u4e00\u6b3e\u5f00\u6e90\u7684 \u6570\u636e\u53ef\u89c6\u5316\u4e0e\u76d1\u63a7\u5e73\u53f0\uff0c\u901a\u8fc7\u52a8\u6001\u4eea\u8868\u76d8\u5c06\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff08\u5982\u6307\u6807\u3001\u65e5\u5fd7\u3001\u4e8b\u4ef6\uff09\u8f6c\u5316\u4e3a\u76f4\u89c2\u7684\u56fe\u8868\uff0c\u5e2e\u52a9\u7528\u6237\u5b9e\u65f6\u76d1\u63a7\u7cfb\u7edf\u72b6\u6001\u3001\u5206\u6790\u6027\u80fd\u74f6\u9888\u5e76\u5feb\u901f\u5b9a\u4f4d\u6545\u969c\u3002</p> <p>\u9996\u5148\u9700\u8981\u4e0b\u8f7d\u538b\u7f29\u5305<code>wget https://dl.grafana.com/enterprise/release/grafana-enterprise-11.4.0.linux-amd64.tar.gz</code></p> <p>\u7136\u540e\u5c06\u5176\u89e3\u538b <code>tar -zxvf grafana-enterprise-11.4.0.linux-amd64.tar.gz</code></p> <p>\u8fdb\u5165\u89e3\u538b\u540e\u7684\u6587\u4ef6\u5939\u4e0b\uff0c\u8fdb\u5165bin\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u547d\u4ee4./grafana-server web\u542f\u52a8grafana</p> <p>\u7136\u540e\u901a\u8fc7ip:3000\u8bbf\u95eegrafana</p> <p>grafana\u53ef\u4ee5\u81ea\u5df1\u914d\u7f6e\u6570\u636e\u6e90\uff0c\u6bd4\u5982\u9700\u8981\u7ed3\u5408Prometheus\uff0c\u6211\u4eec\u5c31\u9700\u8981\u914d\u7f6ePrometheus\u7684\u6570\u636e\u6e90</p> <p></p> <p></p>"},{"location":"study/redis/1/","title":"redis","text":"<p>\u5728\u4f7f\u7528redis\u8fc7\u7a0b\u4e2d\u90fd\u4f1a\u6709\u8bbe\u7f6e\u5176\u5b9a\u65f6\u5220\u9664\u7684\u9700\u6c42\uff0c\u90a3\u4e2a\u5b9e\u9645\u4e0aredis\u662f\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\uff1f</p> <p>redis\u5b9e\u9645\u4f7f\u7528\u7684\u662f\u5b9a\u671f\u5220\u9664\u548c\u60f0\u6027\u5220\u9664\u4e24\u79cd\u7b56\u7565</p> <p>\u5b9a\u671f\u5220\u9664\uff1a</p> <p>redis\u4f1a\u6bcf\u79d2\u8fdb\u884c\u5341\u6b21\u8fc7\u671f\u626b\u63cf\uff0c\u8fc7\u671f\u626b\u63cf\u4e0d\u4f1a\u904d\u5386\u5bb9\u5668\u4e2d\u6240\u6709\u7684key\uff0c\u800c\u662f\u91c7\u7528\u4e00\u79cd\u7279\u6b8a\u7b56\u7565</p> <ul> <li>\u4ece\u5bb9\u5668\u4e2d\u968f\u673a20\u4e2akey</li> <li>\u5220\u9664\u8fd920\u4e2akey\u4e2d\u7684\u5df2\u7ecf\u8fc7\u671f\u7684key</li> <li>\u5982\u679c\u8fc7\u671f\u7684key\u7684\u6bd4\u7387\u8d85\u8fc7\u00bc\uff0c\u90a3\u5c31\u91cd\u590d\u6b65\u9aa41</li> </ul> <p>\u60f0\u6027\u5220\u9664\uff1a</p> <p>\u5f53\u5ba2\u6237\u7aef\u8bd5\u56fe\u8bbf\u95eekey\u65f6\uff0c\u53d1\u73b0\u8be5key\u5df2\u8d85\u65f6\u4f1a\u628a\u6b64key\u4ece\u5185\u5b58\u4e2d\u5220\u9664</p>"},{"location":"study/webPack/1/","title":"webpack\u6253\u5305\u539f\u7406\u6d41\u7a0b\u5206\u6790","text":"<p>webpack\uff1a\u5e94\u7528\u7a0b\u5e8f\u7684\u9759\u6001\u6a21\u5757\u6253\u5305\u5668-\u5c06\u6e90\u7801\u6253\u5305\u4e3a\u6d4f\u89c8\u5668\u53ef\u4ee5\u8bc6\u522b\u7684\u5f62\u5f0f</p> <p>bundle\uff08\u6346\u7ed1\u5305\uff09\uff1a</p> <p>\u662f\u6307\u5c06\u6240\u6709\u76f8\u5173\u7684\u6a21\u5757\u548c\u8d44\u6e90\u6253\u5305\u5728\u4e00\u8d77\u5f62\u6210\u7684\u5355\u4e2a\u6587\u4ef6\u3002\u4ed6\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u7ec8\u8f93\u51fa\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u548c\u6267\u884c\u3002\u6346\u7ed1\u5305\u901a\u5e38\u7531webpack\u6839\u636e\u5165\u53e3\u70b9\u548c\u4ed6\u4eec\u7684\u4f9d\u8d56\u5173\u7cfb\u81ea\u52a8\u521b\u5efa\u3002\u5f53\u4f60\u8fd0\u884cwebpack\u6784\u5efa\u65f6\uff0c\u5b83\u4f1a\u6839\u636e\u914d\u7f6e\u5c06\u6240\u6709\u6a21\u5757\u548c\u8d44\u6e90\u6253\u5305\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u6346\u7ed1\u5305</p> <p>chunk\uff08\u4ee3\u7801\u5757\uff09\uff1a</p> <p>\u662fwebpack\u5728\u6253\u5305\u8fc7\u7a0b\u4e2d\u751f\u6210\u7684\u4e2d\u95f4\u6587\u4ef6\uff0c\u4ed6\u4ee3\u8868\u7740\u4e00\u4e2a\u6a21\u5757\u7684\u96c6\u5408\u3002webpack\u6839\u636e\u4ee3\u7801\u7684\u62d3\u6251\u7ed3\u6784\u548c\u914d\u7f6e\u5c06\u6a21\u5757\u7ec4\u7ec7\u6210\u4e0d\u540c\u7684\u4ee3\u7801\u5757\u3002\u6bcf\u4e2a\u4ee3\u7801\u5757\u53ef\u4ee5\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u4ee3\u7801\u5757\u7ec4\u5408\u6210\u4e00\u4e2a\u6346\u7ed1\u5305\u3002webpack\u4f7f\u7528\u4ee3\u7801\u5206\u5272\u6280\u672f\u5c06\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u4ee3\u7801\u5757\uff0c\u4ee5\u4fbf\u5728\u9700\u8981\u65f6\u8fdb\u884c\u6309\u9700\u52a0\u8f7d\u3002</p> <p>loader\uff1a</p> <p>loader\u53ef\u4ee5\u8ba9webpack\u53bb\u5904\u7406\u90a3\u4e9b\u975eJavaScript\u6587\u4ef6\uff08webpack\u672c\u8eab\u53ea\u7406\u89e3JavaScript\uff09\u3002</p> <p>loader\u53ef\u4ee5\u5c06\u6240\u6709\u7c7b\u578b\u7684\u6587\u4ef6\u8f6c\u6362\u4e3awebpack\u80fd\u591f\u5904\u7406\u7684\u6709\u6548\u6a21\u5757\uff0c\u7136\u540e\u53ef\u4ee5\u5229\u7528webpack\u7684\u6253\u5305\u80fd\u529b\u5bf9\u4ed6\u4eec\u8fdb\u884c\u5904\u7406</p> <p>plugin\uff08\u63d2\u4ef6\uff09\uff1a</p> <p>\u63d2\u4ef6\u53ef\u4ee5\u88ab\u7528\u4e8e\u6267\u884c\u8303\u56f4\u66f4\u5e7f\u7684\u4efb\u52a1</p> <p>\u63d2\u4ef6\u7684\u8303\u56f4\u5305\u62ec\uff1a\u4ece\u6253\u5305\u4f18\u5316\u548c\u538b\u7f29\uff0c\u4e00\u76f4\u5230\u91cd\u65b0\u5b9a\u4e49\u73af\u5883\u4e2d\u7684\u53d8\u91cf\u3002\u63d2\u4ef6\u63a5\u53e3\u529f\u80fd\u673a\u5668\u5f3a\u5927\uff0c\u53ef\u4ee5\u7528\u6765\u5904\u7406\u5404\u79cd\u5404\u6837\u7684\u4efb\u52a1</p>"},{"location":"study/webPack/3/","title":"webpack\u5b9e\u8df5","text":"<p>\u8d44\u6e90\u6784\u5efa\u6a21\u578b</p> <p>\u8fd9\u79cd\u8bbe\u8ba1\u6709\u5f88\u591a\u4f18\u70b9\uff1a</p> <ul> <li>\u6240\u6709\u7684\u8d44\u6e90\u90fd\u662fmodule\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u540c\u4e00\u5957\u4ee3\u7801\u5b9e\u73b0\u8bf8\u591a\u7279\u6027\u3002\u5305\u62ec\uff1a\u4ee3\u7801\u538b\u7f29\uff0chot module\uff0chmr\uff0c\u7f13\u5b58\u7b49</li> <li>\u6253\u5305\u65f6\uff0c\u8d44\u6e90\u548c\u8d44\u6e90\u4e4b\u95f4\u975e\u5e38\u5bb9\u6613\u5b9e\u73b0\u4fe1\u606f\u4e92\u6362\u3001\u4f8b\u5982\u53ef\u4ee5\u60c5\u610f\u5728HTML\u4e2d\u63d2\u5165base64\u683c\u5f0f\u7684\u56fe\u7247</li> <li>\u501f\u52a9loader\uff0cwebpack\u51e0\u4e4e\u53ef\u4ee5\u7528\u4efb\u610f\u65b9\u5f0f\u5904\u7406\u4efb\u610f\u7c7b\u578b\u7684\u8d44\u6e90\uff0c\u4f8b\u5982\u53ef\u4ee5\u7528less\u3001sass\u7684\u7b49\u9884\u7f16\u8bd1\u4ee3\u7801</li> </ul> <p>\u6781\u5f3a\u7684\u5f00\u653e\u6027 ts babel less sass postcss jest karma</p> <p>webpack\u7684\u7f16\u8bd1\u6d41\u7a0b</p> <p></p> <ul> <li>\u8f93\u5165\uff1a\u4ece\u6587\u4ef6\u7cfb\u7edf\u8bfb\u5165\u4ee3\u7801\u6587\u4ef6</li> <li>\u6a21\u5757\u5904\u7406\uff1a\u8c03\u7528loader\u8f6c\u4e49module\u5185\u5bb9\uff0c\u5e76\u5c06\u7ed3\u679c\u8f6c\u6362\u4e3aAST\uff0c\u4ece\u4e2d\u5206\u6790\u51fa\u6a21\u5757\u4f9d\u8d56\u5173\u7cfb</li> <li>\u540e\u5904\u7406\uff1a\u6240\u6709\u6a21\u5757\u5730\u67dc\u5904\u7406\u5b8c\u6bd5\u540e\u5f00\u59cb\u6267\u884c\u540e\u5904\u7406\uff0c\u5305\u62ec\u6a21\u5757\u5408\u5e76\uff0c\u6ce8\u5165\u8fd0\u884c\u65f6\uff0c\u4ea7\u7269\u4f18\u5316\u7b49\uff0c\u6700\u7ec8\u8f93\u51fachunk\u96c6\u5408</li> <li>\u8f93\u51fa\uff1a\u5c06chunk\u5199\u51fa\u5230\u5916\u90e8\u6587\u4ef6\u7cfb\u7edf</li> </ul> <p>\u5404\u6d41\u7a0b\u7684\u4e00\u4e9b\u4e3b\u8981\u7684\u914d\u7f6e\u6a21\u5757\u4ee5\u53ca\u5176\u5b9e\u73b0\u7684\u529f\u80fd</p> <p></p> <p>\u4ece\u5de5\u5177\u7c7b\u914d\u7f6e\u7684\u89d2\u5ea6\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u65b9\u9762\u8fdb\u884c\u8bf4\u660e\uff1a\u5f00\u53d1\u6548\u7387\u3001\u6027\u80fd\u4f18\u5316\u4ee5\u53ca\u65e5\u5fd7</p> <p></p> <p>\u4e00\u4e2a\u57fa\u7840\u7684webpack.config.js\u6587\u4ef6\u5185\u5bb9</p> <pre><code>const path = require('path')\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        path: path.resolve(__dirname,'dist'),\n        filename: \"bundle.js\",\n        clean: true\n    },\n    mode:\"development\",\n    devServer:{ // \u4ee3\u7801\u8fd0\u884c\u65f6\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u672c\u5730\u5f00\u53d1\u670d\u52a1\u5668\u7684\u4e00\u4e9b\u9009\u9879\n        static:{ // \u6307\u5b9a\u9759\u6001\u6587\u4ef6\u6839\u76ee\u5f55\uff0c\u8fd9\u91cc\u662f dist \u6587\u4ef6\u5939\u3002\n            directory:path.join(__dirname,\"dist\")\n        },\n        compress:true,\n        port:9000, // \u6307\u5b9a\u8fd0\u884c\u7aef\u53e3\n        hot:true, // \u5f00\u542f\u70ed\u6a21\u5757\u66ff\u6362\uff08HMR\uff09\uff0c\u5141\u8bb8\u5728\u4e0d\u5237\u65b0\u9875\u9762\u7684\u60c5\u51b5\u4e0b\u66f4\u65b0\u4ee3\u7801\n        open:true, // \u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\u7a97\u53e3\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: \"./src/index.html\" //\u6307\u5b9a\u6a21\u677f\u6587\u4ef6\n        })\n    ],\n    module: {\n        rules: [\n            {\n                test: /\\.js$/, // \u5339\u914d\u6240\u6709js\u7ed3\u5c3e\u7684\u6587\u4ef6\n                exclude: /node_modules/, // \u6392\u9664node_modules\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\n                use: {\n                    loader: \"babel-loader\" // \u4f7f\u7528babel-loader\u6765\u8f6c\u8bd1\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4f7f\u5f97\u6700\u65b0\u7684JavaScript\u7279\u6027\u4e5f\u53ef\u4ee5\u5728\u8001\u7248\u672c\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"study/webPack/3/#loader\u548cplugin\u7684\u533a\u522b","title":"loader\u548cplugin\u7684\u533a\u522b","text":"<p>\u5728webpack\u4e2d\uff0cloader\u548cplugin\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u7528\u4e8e\u5904\u7406\u4e0d\u540c\u7684\u4efb\u52a1\u3002\u4ed6\u4eec\u5728\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u5f0f\u4e0a\u90fd\u6709\u660e\u663e\u7684\u533a\u522b\u3002loader\u4e3b\u8981\u7528\u4e8e\u6587\u4ef6\u8f6c\u5316\uff0c\u800cplugin\u5219\u7528\u4e8e\u6267\u884c\u66f4\u5e7f\u6cdb\u7684\u6784\u5efa\u4efb\u52a1</p> <ul> <li>loader\uff1a\u7528\u4e8e\u8f6c\u6362\u6a21\u5757\u7684\u6e90\u4ee3\u7801</li> <li>plugin\uff1a\u7528\u4e8e\u6267\u884c\u8303\u56f4\u66f4\u5e7f\u7684\u4efb\u52a1\uff0c\u5b83\u4eec\u4e0d\u4ec5\u4ec5\u662f\u6587\u4ef6\u8f6c\u6362\uff0c\u8fd8\u53ef\u4ee5\u53c2\u4e0e\u5230\u6574\u4e2a\u6784\u5efa\u6d41\u7a0b\u4e2d\uff0c\u6267\u884c\u5404\u79cd\u590d\u6742\u7684\u64cd\u4f5c\uff0c\u5982\u4ee3\u7801\u538b\u7f29\u3001\u6253\u5305\u4f18\u5316\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u751f\u6210html\u6587\u4ef6\u7b49</li> </ul> <p>\u533a\u522b</p> <p>\u5904\u7406\u8303\u56f4</p> <p>\u4f7f\u7528\u65b9\u5f0f</p> <p>\u529f\u80fd</p>"},{"location":"study/webPack/3/#webpack\u5904\u7406css\u8d44\u6e90\u7684\u57fa\u672c\u6d41\u7a0b","title":"webpack\u5904\u7406css\u8d44\u6e90\u7684\u57fa\u672c\u6d41\u7a0b","text":"<p>\u89e3\u6790\u6587\u4ef6</p> <p>\u5f53webpack\u5728\u6a21\u5757\u4f9d\u8d56\u56fe\u4e2d\u9047\u5230css\u6587\u4ef6\u65f6\uff0c\u5b83\u4f1a\u4f7f\u7528\u914d\u7f6e\u597d\u7684loader\u6765\u5904\u7406\u8fd9\u4e9b\u6587\u4ef6\u3002\u901a\u5e38\uff0ccss-loader\u4f1a\u8d1f\u8d23\u89e3\u6790css\u6587\u4ef6\uff0c\u5c06\u5176\u8f6c\u6362\u4e3aJavaScript\u4e2d\u53ef\u4ee5\u4f7f\u7528\u7684\u6a21\u5757</p> <p>\u5c06css\u63d2\u5165\u5230\u9875\u9762\u4e2d</p> <p>\u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\uff0c\u901a\u5e38\u4f7f\u7528style-loader\u5c06css\u5185\u8054\u5230JavaScript\u4e2d\uff0c\u5e76\u901a\u8fc7style\u6807\u7b7e\u52a8\u6001\u63d2\u5165\u5230HTML\u7684head\u90e8\u5206</p> <p>\u5728\u751f\u4ea7\u6a21\u5f0f\u4e0b\uff0c\u901a\u5e38\u4f7f\u7528min-css-extract-plugin\u5c06csst\u63d0\u53d6\u5230\u72ec\u7acb\u7684.css\u6587\u4ef6\u4e2d\uff0c\u5e76\u5728html\u4e2d\u901a\u8fc7link\u6807\u7b7e\u5f15\u7528\u8fd9\u4e9b\u6587\u4ef6</p> <p>\u4f18\u5316\u5904\u7406</p> <p>\u5982\u679c\u5de5\u7a0b\u9700\u8981\u8fd8\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u548c\u5176\u4ed6loader\u8fdb\u4e00\u6b65\u5904\u7406css\u6587\u4ef6\uff0c\u5982\u6dfb\u52a0\u6d4f\u89c8\u5668\u524d\u7f00\u3001\u538b\u7f29css\u7b49</p> <p>css\u9884\u5904\u7406\u5668\uff1asass  less</p>"},{"location":"study/webPack/3/#webpack\u4e2d\u63a5\u5165postcss","title":"webpack\u4e2d\u63a5\u5165postcss","text":"<p>postcss\u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406CSS\u7684\u5de5\u5177</p> <p>\u9996\u5148\uff0c\u9700\u8981\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\u9879</p> <pre><code> npm i postcss-loader postcss autoprefixer\n</code></pre> <p>autoprefixer\uff1a\u81ea\u52a8\u6dfb\u52a0\u6d4f\u89c8\u5668\u524d\u7f00</p>"},{"location":"study/webPack/4/","title":"webpack\u5b9e\u8df5\uff082\uff09","text":""},{"location":"study/webPack/4/#webpack\u642d\u5efa\u670d\u52a1\u7aef\u6e32\u67d3ssr\u5de5\u7a0b","title":"webpack\u642d\u5efa\u670d\u52a1\u7aef\u6e32\u67d3\uff08SSR\uff09\u5de5\u7a0b","text":"<p>\u524d\u7f6e\u64cd\u4f5c</p> <p>\u9879\u76ee\u4e2d\u5df2\u7ecf\u96c6\u6210vue</p> <p>\u4e3b\u8981\u9700\u8981\u5b89\u88c5vue\u548cvue-loader</p> <pre><code>npm i vue vue-loader -D\n\n\n plugins: [\n        new VueLoaderPlugin()\n ],\n module: {\n        rules: [\n            {\n                test: /\\.vue$/,\n                loader: \"vue-loader\"\n            }\n        ]\n }\n</code></pre> <p>CSR\uff08\u5ba2\u6237\u7aef\u6e32\u67d3\uff09\uff1a</p> <p>\u670d\u52a1\u5668\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a7a\u7684HTML\u6587\u6863\u4ee5\u53ca\u5fc5\u8981\u7684JavaScript\u6587\u4ef6\u3002\u6240\u6709\u7684\u9875\u9762\u5185\u5bb9\u90fd\u662f\u901a\u8fc7JavaScript\u5728\u7528\u6237\u7684\u6d4f\u89c8\u5668\u4e2d\u52a8\u6001\u751f\u6210\u7684</p> <p>SSR\u7684\u57fa\u672c\u6982\u5ff5\uff1a</p> <p>\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4e2d\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a\u9875\u9762\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u751f\u6210\u5b8c\u6574\u7684HTML\u9875\u9762\u5e76\u5c06\u5176\u53d1\u9001\u5230\u7528\u6237\u7684\u6d4f\u89c8\u5668\u3002\u8fd9\u610f\u5473\u7740\u5728\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u65f6\uff0c\u7528\u6237\u5df2\u7ecf\u53ef\u4ee5\u770b\u5230\u9875\u9762\u7684\u5185\u5bb9\u4e86</p> <p>CSR\u7684\u7f3a\u70b9\uff0c\u521d\u59cb\u7684\u7531\u670d\u52a1\u7aef\u63d0\u4f9b\u7684\u7a7aHTML\u4e2d\u65e0\u4efb\u4f55\u5185\u5bb9\uff0c\u9700\u8981\u901a\u8fc7\u5f15\u5165js\u6587\u4ef6\u5e76\u5bf9\u5176\u89e3\u6790\u6765\u6e32\u67d3\u9875\u9762\u5bfc\u81f4\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u8f83\u6162</p> <p>\u6d4f\u89c8\u5668\u7684\u6e32\u67d3\u6d41\u7a0b\uff1a</p> <ul> <li>DOM\u6811\u6784\u5efa\uff1a\u6e32\u67d3\u5f15\u64ce\u4f7f\u7528HTML\u89e3\u6790\u5668\uff08\u8c03\u7528xml\u89e3\u6790\u5668\uff09\u89e3\u6790HTML\u6587\u6863\uff0c\u5c06\u5404\u4e2aHTML\u5143\u7d20\u9010\u4e2a\u8f6c\u5316\u4e3aDOM\u7ed3\u70b9</li> <li>CSSOM\u6811\u6784\u5efa\uff1aCSS\u89e3\u6790\u5668\u89e3\u6790CSS\uff0c\u5e76\u5c06\u5176\u8f6c\u5316\u4e3aCSS\u5bf9\u8c61\uff0c\u5c06\u8fd9\u4e9bCSS\u5bf9\u8c61\u7ec4\u88c5\u8d77\u6765\uff0c\u6784\u5efaCSSOM\u6811</li> <li>\u6e32\u67d3\u6811\u6784\u5efa\uff1aDOM\u6811\u548cCSSOM\u6811\u90fd\u6784\u5efa\u5b8c\u6210\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u8fd9\u4e24\u68f5\u6811\u6784\u5efa\u51fa\u4e00\u68f5\u6e32\u67d3\u6811</li> <li>\u9875\u9762\u5e03\u5c40\uff1a\u6e32\u67d3\u6811\u6784\u5efa\u5b8c\u6bd5\u4ee5\u540e\uff0c\u5143\u7d20\u7684\u4f4d\u7f6e\u5173\u7cfb\u4ee5\u53ca\u9700\u8981\u5e94\u7528\u7684\u6837\u5f0f\u5c31\u786e\u5b9a\u4e86\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u4f1a\u8ba1\u7b97\u51fa\u6240\u6709\u5143\u7d20\u7684\u5927\u5c0f\u548c\u7edd\u5bf9\u4f4d\u7f6e</li> <li>\u9875\u9762\u7ed8\u5236\uff1a\u9875\u9762\u5e03\u5c40\u5b8c\u6210\u4e4b\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c06\u6839\u636e\u5904\u7406\u51fa\u6765\u7684\u7ed3\u679c\uff0c\u628a\u6bcf\u4e00\u4e2a\u9875\u9762\u56fe\u5c42\u8f6c\u6362\u4e3a\u50cf\u7d20\uff0c\u5e76\u5c06\u6240\u6709\u7684\u5a92\u4f53\u6587\u4ef6\u8fdb\u884c\u89e3\u7801</li> </ul> <p>SSR\u5982\u4f55\u89e3\u51b3CSR\u4e2d\u7684\u7f3a\u9677\uff1a</p> <p>SSR+CSR \u670d\u52a1\u7aef\u6e32\u67d3\uff08\u53ea\u6e32\u67d3\u9996\u5c4f\uff09+ \u5ba2\u6237\u7aef\u5904\u7406    \u540c\u6784\u5f00\u53d1</p> <p>SSR\uff1a\u7b80\u5355\u7684\u793a\u4f8b\u4e3a\u5728\u62ff\u5230\u9996\u5c4f\u7684html\u901a\u8fc7\u63d2\u69fd\u7684\u65b9\u5f0f\u5c06HTML\u4e2d\u5185\u5bb9\u66ff\u6362\u4e3a\u76f4\u63a5\u5c55\u793a\u7684\u754c\u9762\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u5230\u6d4f\u89c8\u5668\u7684\u5c31\u662f\u4e00\u4e2a\u5e26\u6709\u5177\u4f53\u5185\u5bb9\u7684\u9996\u5c4f</p>"},{"location":"study/webPack/4/#webpack\u4e2d\u5904\u7406\u56fe\u7247\u8d44\u6e90","title":"webpack\u4e2d\u5904\u7406\u56fe\u7247\u8d44\u6e90","text":"<p>webpack4\u4e2d\u5904\u7406\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528file-loader\u6216\u8005url-loader</p> <p>\u4e8c\u8005\u7684\u533a\u522b\uff1a</p> <ul> <li>\u76f8\u540c\u70b9\uff1a\u4e24\u8005\u90fd\u662fWebpack\u4e2d\u5904\u7406\u6587\u4ef6\u7684loader\uff0c\u90fd\u652f\u6301\u5c06\u6587\u4ef6\u8f93\u51fa\u5230\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u5e76\u8fd4\u56de\u6587\u4ef6\u7684URL\u6216\u5d4c\u5165\u7684Base64\u5b57\u7b26\u4e32</li> <li>\u4e0d\u540c\u70b9\uff1aurl-loader\u589e\u52a0\u4e86\u9608\u503c\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u6587\u4ef6\u5927\u5c0f\u9009\u62e9\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\uff08Base64\u7f16\u7801\u6216file-loader\u5904\u7406\uff09\uff0c\u800cfile-loader\u5219\u59cb\u7ec8\u5c06\u6587\u4ef6\u590d\u5236\u5230\u8f93\u51fa\u76ee\u5f55\u5e76\u8fd4\u56deURL</li> </ul> <p>webpack5\u4e2d\u7684Asset Modules</p> <p>Asset Modules\u7684\u56db\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>asset\uff1a\u57fa\u4e8e\u8d44\u6e90\u7684\u5927\u5c0f\u81ea\u52a8\u9009\u62e9asset/resource\u6216asset/inline\u7c7b\u578b\uff0c\u7b80\u5316\u914d\u7f6e</li> <li>asset/resource\uff1a\u5c06\u8d44\u6e90\u6587\u4ef6\u5bfc\u51fa\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\uff0c\u5e76\u63d0\u4f9burl\u3002\u7c7b\u4f3c\u4e8eflie-loader</li> <li>asset/inline\uff1a\u5c06\u8d44\u6e90\u6587\u4ef6\u5d4c\u5165\u4e3aBase64\u7f16\u7801\u7684URL\u3002\u7c7b\u4f3c\u4e8eurl-loader</li> <li>asset/source\uff1a\u5c06\u8d44\u6e90\u6587\u4ef6\u4f5c\u4e3a\u539f\u59cb\u5185\u5bb9\uff08\u5982\u6587\u672c\uff09\u5bfc\u51fa\uff0c\u800c\u4e0d\u662f\u8fdb\u884c\u7f16\u7801\u6216\u8f6c\u6362</li> </ul> <pre><code>{\n    test: /\\.(png|svg|jpe?g|gif)$/i,\n    type: \"asset\",\n    parser: { // \u5bf9\u4e8e\u5c0f\u6587\u4ef6\u7684\u5904\u7406\u89c4\u5219\n       dataUrlCondition:{\n         maxSize: 40 * 1024 // \u5c0f\u4e8e40kb\u7684\u4f1a\u88ab\u8f6c\u6362\u4e3abase64\n       }\n    },\n    generator: { // \u5bf9\u4e8e\u5927\u6587\u4ef6\u7684\u5904\u7406\u89c4\u5219\n       filename: 'images/[name].[hash:7][ext][query]'\n    }\n}\n</code></pre> <p>test\u6307\u5b9a\u6b64\u89c4\u5219\u6240\u5e94\u7528\u7684\u6587\u4ef6\u7c7b\u578b</p> <p>type\u6b64\u9009\u9879\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u8d44\u6e90\u6587\u4ef6</p> <p>filename\u4e2d\u5b57\u6bb5\u89e3\u6790\uff1a</p> <p>name\u539f\u59cb\u6587\u4ef6\u540d\uff0chash:7\u6587\u4ef6\u5185\u5bb9\u54c8\u5e0c\u503c\uff0cext\u6587\u4ef6\u7684\u539f\u59cb\u6269\u5c55\u503c</p>"},{"location":"study/webPack/4/#webpack\u56fe\u50cf\u4f18\u5316\u538b\u7f29\u4e0e\u54cd\u5e94\u5f0f\u56fe\u7247","title":"webpack\u56fe\u50cf\u4f18\u5316\uff1a\u538b\u7f29\u4e0e\u54cd\u5e94\u5f0f\u56fe\u7247","text":"<p>\u4f7f\u7528image-webpack-loader\u63d2\u4ef6\u8fdb\u884c\u56fe\u7247\u4f18\u5316</p> <p>\u76f8\u5173\u7684\u914d\u7f6e</p> <pre><code>{\n    loader: \"image-webpack-loader\",\n        options: {\n            mozjpeg:{\n                progressive: true,\n                    quality: 65,\n            },\n                optipng: {\n                    enabled: false\n                },\n                    pngquant:{\n                        quality: [0.65,0.90],\n                            speed: 4\n                    },\n                        gifsicle:{\n                            interlaced: false\n                        },\n                            webp:{\n                                quality: 75\n                            }\n        }\n}\n</code></pre>"},{"location":"study/webPack/4/#\u54cd\u5e94\u5f0f\u56fe\u7247","title":"\u54cd\u5e94\u5f0f\u56fe\u7247","text":"<p>\u540c\u4e00\u56fe\u7247\u5728\u4e0d\u540c\u8bbe\u5907\u4e0b\u7684\u5c55\u793a-\u4f7f\u7528responsive-loader\uff0csharp</p> <p>responsive-loader\uff1a</p> <p>\u751f\u6210\u4e0d\u540c\u5c3a\u5bf8\u7684\u56fe\u50cf\uff1a\u6839\u636e\u8bbe\u7f6e\u7684\u5c3a\u5bf8\uff0c\u81ea\u52a8\u751f\u6210\u4e00\u7ec4\u56fe\u50cf\uff0c\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u8bbe\u5907\u548c\u5c4f\u5e55\u5206\u8fa8\u7387</p> <p>\u521b\u5efasrcset\u5c5e\u6027\uff1a\u751f\u6210\u9002\u7528\u4e8e\u6807\u7b7e\u7684srcset\u5c5e\u6027\uff0c\u4ee5\u4fbf\u6d4f\u89c8\u5668\u6839\u636e\u8bbe\u5907\u7684\u5c4f\u5e55\u5206\u8fa8\u7387\u548c\u56fe\u50cf\u7684\u5b9e\u9645\u5c3a\u5bf8\u9009\u62e9\u6700\u5408\u9002\u7684\u56fe\u50cf</p> <p>\u751f\u6210\u5360\u4f4d\u7b26\u56fe\u50cf\uff1a\u53ef\u4ee5\u4e3a\u8f83\u5927\u56fe\u50cf\u751f\u6210\u4e00\u4e2a\u5c0f\u7684\u7f29\u7565\u56fe\u4f5c\u4e3a\u5360\u4f4d\u7b26\uff0c\u4ee5\u4fbf\u5728\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u5c55\u793a</p> <p>sharp\uff1a\u662f\u4e00\u4e2a\u9ad8\u6548\u7684\u56fe\u50cf\u5904\u7406\u5e93\uff0c\u5b83\u7528\u4e8e\u56fe\u50cf\u7684\u538b\u7f29\u3001\u8c03\u6574\u5927\u5c0f\u3001\u8f6c\u6362\u683c\u5f0f\u7b49\u64cd\u4f5c\u3002sharp\u662fresponsive-loader\u7684\u4e00\u4e2a\u9002\u914d\u5668\uff0c\u7528\u4e8e\u5b9e\u9645\u7684\u56fe\u50cf\u5904\u7406\u4efb\u52a1\uff0c\u5982\u8c03\u6574\u5c3a\u5bf8\u548c\u538b\u7f29\u56fe\u50cf\u548c\u56fe\u50cf\u683c\u5f0f\u8f6c\u6362</p> <pre><code>{\n    loader: \"responsive-loader\",\n        options: {\n            sizes: [640, 750, 1080, 1920], // \u56fe\u50cf\u7684\u4e0d\u540c\u5c3a\u5bf8\n            placeholder: true, //\u751f\u6210\u7f29\u7565\u56fe\u4f5c\u4e3a\u5360\u4f4d\u7b26\n            quality: 85, //\u56fe\u7247\u8d28\u91cf\n            name: 'images/[name]-[width].[ext]',\n            adapter: require('responsive-loader/sharp')// \u4f7f\u7528sharp\u4f5c\u4e3a\u9002\u914d\u5668\n        }\n},\n</code></pre> <p>\u4ec5\u5bf9\u5e26\u6709sizes\u67e5\u8be2\u53c2\u6570\u7684\u56fe\u50cf\u5e94\u7528\u54cd\u5e94\u5f0f\u5904\u7406</p> <pre><code>import img1 from './images/photo1.png?sizes[]=750' // \u89e6\u53d1\u54cd\u5e94\u5f0f\u5904\u7406,sizes[]=750\u6807\u8bc6\u8bbe\u7f6e\u6210\u4ec0\u4e48\u6837\u7684\u6587\u4ef6\nimport img2 from './images/photo2.png' // \u4f7f\u7528\u666e\u901a\u6587\u4ef6\u5904\u7406\n</code></pre>"},{"location":"study/webPack/4/#webpack5\u6301\u4e45\u5316\u7f13\u5b58","title":"webpack5\u6301\u4e45\u5316\u7f13\u5b58","text":"<p>\u4e00\u53e5\u8bdd\u6982\u62ec\u5c31\u662f\u6784\u5efa\u7ed3\u679c\u6301\u4e45\u5316\u7f13\u5b58\u5230\u672c\u5730\u7684\u78c1\u76d8\uff0c\u4e8c\u6b21\u6784\u5efa\u76f4\u63a5\u5229\u7528\u78c1\u76d8\u7f13\u5b58\u7684\u7ed3\u679c\u4ece\u800c\u8df3\u8fc7\u6784\u5efa\u8fc7\u7a0b\u4e2d\u7684resolve\uff0cbuild\u7b49\u8017\u65f6\u7684\u6d41\u7a0b\uff0c\u4ece\u800c\u5927\u5e45\u63d0\u5347\u7f16\u8bd1\u6784\u5efa\u7684\u6548\u7387</p>"},{"location":"study/webPack/4/#\u6301\u4e45\u5316\u7f13\u5b58\u7684\u57fa\u672c\u914d\u7f6e","title":"\u6301\u4e45\u5316\u7f13\u5b58\u7684\u57fa\u672c\u914d\u7f6e","text":"<pre><code>cache: {\n        // \u5f00\u542f\u6301\u4e45\u5316\u7f13\u5b58\uff0c\u8fd9\u6837webpack\u4f1a\u5c06\u7f13\u5b58\u5b58\u50a8\u5230\u78c1\u76d8\u4e0a\n        type: \"fileSystem\",\n        cacheDirectory: path.resolve(__dirname,'.webpack_cache'), // \u7f13\u5b58\u6587\u4ef6\u5b58\u50a8\u7684\u4f4d\u7f6e\n        compression: 'gzip',// \u4f7f\u7528gzip\u538b\u7f29\u7f13\u5b58\uff0c\u542f\u7528\u7f13\u5b58\u538b\u7f29\n        buildDependencies: {\n            config: [__filename] // __filename\u662f\u5f53\u524d\u6587\u4ef6\u7684\u8def\u5f84\uff0cnodejs\u73af\u5883\u4e2d\uff0c__filename\u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u8868\u793a\u5f53\u524d\u6a21\u5757\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\n        }\n    },\n</code></pre>"},{"location":"study/webPack/4/#snapshot\u5feb\u7167","title":"snapshot\u5feb\u7167","text":"<p>snapshot\u5feb\u7167\u662fwebpack\u7528\u6765\u8bb0\u5f55\u6784\u5efa\u8fc7\u7a0b\u4e2d\u72b6\u6001\u7684\u4e00\u4e2a\u5feb\u7167\uff0c\u7528\u4e8e\u51b3\u5b9a\u662f\u5426\u53ef\u4ee5\u91cd\u7528\u4e4b\u524d\u7684\u6784\u5efa\u7ed3\u679c</p> <p>webpack\u7684\u7f13\u5b58\u673a\u5236\u4f9d\u8d56\u4e8e\u5feb\u7167\u5224\u65ad\u7f13\u5b58\u662f\u5426\u6709\u6548\uff0c\u5982\u679c\u5feb\u7167\u8868\u793a\u6784\u5efa\u7ed3\u679c\u6ca1\u6709\u53d8\u5316\uff0cwebpack\u5c31\u4f1a\u91cd\u7528\u7f13\u5b58\uff1b\u5426\u5219\u4f1a\u91cd\u65b0\u751f\u6210\u6784\u5efa\u7ed3\u679c\u5e76\u66f4\u65b0\u7f13\u5b58</p> <p>snapshot\u7684\u914d\u7f6e\u7b56\u7565</p> <p>1\uff1atimestamps \u57fa\u4e8e\u6587\u4ef6\u7684\u65f6\u95f4\u6233\uff0c\u751f\u6210\u5feb\u7167</p> <p>2\uff1acontent hash \u57fa\u4e8e\u6587\u4ef6\u7684hash\u503c\u751f\u6210\u5feb\u7167</p> <p>3\uff1atimestamps  + content hash \u57fa\u4e8e\u4ee5\u4e0a\u4e8c\u8005\u751f\u6210\u5feb\u7167</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>cache: {\n        // \u5f00\u542f\u6301\u4e45\u5316\u7f13\u5b58\n        type: \"fileSystem\",\n        cacheDirectory: path.resolve(__dirname,'.webpack_cache'),\n        compression: 'gzip', // \u4f7f\u7528gzip\u538b\u7f29\u7f13\u5b58\n        buildDependencies: {\n            config: [__filename]\n        },\n        snapshot:{\n            // \u9009\u62e9\u5feb\u7167\u7b56\u7565\n            module: 'content hash',\n            resolve: 'content hash'\n        }\n    },\n</code></pre>"},{"location":"study/webPack/5/","title":"\u6027\u80fd\u4f18\u5316\u5b9e\u8df5","text":"<p>\u5982\u679c\u4e0d\u60f3\u505a\u4efb\u4f55\u5176\u4ed6\u914d\u7f6e\u7684\u8bdd\uff0c\u5c31\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684webpack</p> <p>webpack5\u7248\u672c\u7684\u6027\u80fd\u4f18\u5316\uff1a</p> <p>lazyCompilation \u6309\u9700\u7f16\u8bd1\uff1a</p> <p>\u6bd4\u5982\u901a\u8fc7import\u5f15\u5165\u6a21\u5757\u7684\u65f6\u5019\uff0c\u672a\u88ab\u4f7f\u7528\u7684\u6a21\u5757\u4e0d\u4f1a\u88ab\u7f16\u8bd1\uff0c\u53ea\u6709\u4f7f\u7528\u7684\u6a21\u5757\u624d\u4f1a\u88ab\u7f16\u8bd1--vite\u4e5f\u662f\u8fd9\u6837\u7684</p> <p>\u7ea6\u675floader\u7684\u6267\u884c\u8303\u56f4\uff1a</p> <p>\u4f7f\u7528module.rules.include\u3001module.rules.exclude\u6765\u9650\u5236\u6216\u8005\u6392\u9664loader\u7684\u6267\u884c\u6587\u4ef6\u8303\u56f4</p> <pre><code>{\n    test: /\\.js$/, // \u5339\u914d\u6240\u6709js\u7ed3\u5c3e\u7684\u6587\u4ef6\n    exclude: /node_modules/, // \u6392\u9664node_modules\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\n    use: {\n       loader: \"babel-loader\" // \u4f7f\u7528babel-loader\u6765\u8f6c\u8bd1\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4f7f\u5f97\u6700\u65b0\u7684JavaScript\u7279\u6027\u4e5f\u53ef\u4ee5\u5728\u8001\u7248\u672c\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\n    }\n},\n\n{\n    test: /\\.js$/, // \u5339\u914d\u6240\u6709js\u7ed3\u5c3e\u7684\u6587\u4ef6\n    exclude: {\n        and: [/node_modules/],// \u6392\u9664node_modules\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\n        not: [/node_modules\\/lodash/], // \u4f46\u662f\u4e0d\u6392\u9664node_modules\u76ee\u5f55\u4e0blodash\u4e2d\u7684\u6587\u4ef6\n    }\n    use: {\n       loader: \"babel-loader\" // \u4f7f\u7528babel-loader\u6765\u8f6c\u8bd1\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4f7f\u5f97\u6700\u65b0\u7684JavaScript\u7279\u6027\u4e5f\u53ef\u4ee5\u5728\u8001\u7248\u672c\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\n    }\n},\n</code></pre> <p>\u4f7f\u7528noParse\u8df3\u8fc7\u6587\u4ef6\u7f16\u8bd1\uff1a</p> <pre><code>module: {\n     noParse: /lodash|react/,\n}\n</code></pre> <p>\u7531\u4e8e\u8df3\u8fc7\u4e86\u524d\u7f6e\u7684AST\u5206\u6790\u52a8\u4f5c\uff0c\u6784\u5efa\u8fc7\u7a0b\u65e0\u6cd5\u53d1\u73b0\u6587\u4ef6\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u8bed\u6cd5\u9519\u8bef\uff0c\u9700\u8981\u5230\u8fd0\u884c\uff08\u6216Terser\u505a\u538b\u7f29\uff09\u65f6\u624d\u80fd\u53d1\u73b0\u95ee\u9898\uff0c\u6240\u4ee5\u5fc5\u987b\u786e\u4fddnoParser\u7684\u6587\u4ef6\u5185\u5bb9\u7684\u6b63\u786e\u6027\uff1b</p> <p>\u8df3\u8fc7\u4e86\u4f9d\u8d56\u5206\u6790\uff0c\u6240\u4ee5\u6587\u4ef6\u4e2d\uff0c\u5efa\u8bae\u4e0d\u8981\u5305\u542bimport/export/require/define\u7b49\u6a21\u5757\u5bfc\u5165\u5bfc\u51fa\u8bed\u53e5--\u6362\u53e5\u8bdd\u8bf4\uff0cnoParser\u6587\u4ef6\u4e0d\u80fd\u5b58\u5728\u5bf9\u5176\u4ed6\u6587\u4ef6\u7684\u4f9d\u8d56\uff0c\u9664\u975e\u8fd0\u884c\u73af\u5883\u652f\u6301\u6a21\u5757\u5316\u65b9\u6848\uff1b</p> <p>\u8df3\u8fc7\u4e86\u5185\u5bb9\u5206\u6790\uff0cwebpack\u65e0\u6cd5\u6807\u8bb0\u8be5\u6587\u4ef6\u7684\u5230\u5904\u503c\uff0c\u4e5f\u5c31\u65e0\u6cd5\u5b9e\u73b0tree-shaking</p> <p>\u5f00\u53d1\u6a21\u5f0f\u4e0b\u7981\u7528\u4ea7\u7269\u4f18\u5316\uff1a</p> <pre><code> optimization: { // \u5f00\u53d1\u73af\u5883\u4e0b\u7684\u4e00\u4e9b\u914d\u7f6e\n        removeAvailableModules: false, // \u5f00\u53d1\u73af\u5883\u4e0d\u79fb\u9664\u6709\u7528\u7684\u6a21\u5757\n        removeEmptyChunks: false, // \u662f\u5426\u79fb\u9664\u7a7a\u7684\u4ee3\u7801\u5757\n        splitChunks: false, // \u662f\u5426\u5c06\u4ee3\u7801\u5206\u5272\u6210\u591a\u4e2a\u4ee3\u7801\u5757\n        minimize: false, // \u8f93\u51fa\u7684\u4ee3\u7801\u662f\u5426\u8981\u538b\u7f29\n        concatenateModules: false, // \u662f\u5426\u5c06\u591a\u4e2a\u6a21\u5757\u5408\u5e76\u5728\u4e00\u8d77\n        usedExports: false, // \u662f\u5426\u6807\u8bb0\u672a\u4f7f\u7528\u7684\u5bfc\u51fa\uff0c\u4ee5\u4fbf\u5728\u540e\u7eed\u79fb\u9664\n    },\n</code></pre> <p>\u6700\u5c0f\u5316watch\u76d1\u63a7\u8303\u56f4\uff1a</p> <p>\u5f53\u6709\u4e00\u4e9b\u786e\u5b9a\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u7684\u4ee3\u7801\u65f6\uff0c\u53ef\u4ee5\u5c06\u5176\u6392\u9664\u5728watch\u76d1\u63a7\u8303\u56f4\u4e4b\u5916</p> <pre><code> watchOptions: {\n        ignored: /node_modules/\n    },\n</code></pre> <p>\u8df3\u8fc7TS\u7c7b\u578b\u68c0\u67e5\uff1a</p> <p>\u5728\u914d\u7f6e\u4e2d\u8df3\u8fc7TS\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u800c\u5c06TS\u7684\u7f16\u8bd1\u68c0\u67e5\u529f\u80fd\u6258\u7ba1\u7ed9\u7f16\u8bd1\u5668\uff0c\u5e26\u5199\u4ee3\u7801\u7684\u65f6\u5019\u5c31\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u800c\u4e0d\u662f\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u6267\u884c</p> <p>\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528fork-ts-checker-webpack-plugin\u63d2\u4ef6\u5c06\u7c7b\u578b\u68c0\u67e5\u80fd\u529b\u5265\u79bb\u5230\u5b50\u7ebf\u7a0b\u6267\u884c</p> <p>\u4f18\u5316ESLint\u6027\u80fd\uff1a</p> <p>\u4f7f\u7528eslint-webpack-plugin\u66ff\u6362eslint-loader</p> <p><code>npm i eslint-webpack-plugin</code> \u540e\u5728plugins\u4e2d\u6ce8\u518c\u5373\u53ef</p> <p>\u501f\u52a9\u7f16\u8f91\u5668\u7684Eslint\u63d2\u4ef6\u5b9e\u73b0\u4ee3\u7801\u68c0\u67e5</p> <p>\u4f7f\u7528husky\uff0c\u4ec5\u5728\u4ee3\u7801\u63d0\u4ea4\u524d\u8fdb\u884c\u4ee3\u7801\u68c0\u67e5</p> <p>\u614e\u7528source-map\uff1a</p> <p>source-map\u662f\u5c06\u538b\u7f29\u540e\u7684\u4ee3\u7801\u8fd8\u539f\u6210\u7ed3\u6784\u66f4\u597d\uff0c\u66f4\u6613\u7406\u89e3\u7684\u4ee3\u7801\u3002\u4f46\u662f\u663e\u800c\u6613\u89c1\u7684\u8fd9\u4e2a\u5de5\u4f5c\u4f1a\u5bf9\u6027\u80fd\u65b9\u9762\u9020\u6210\u5f88\u5927\u7684\u5f71\u54cd</p> <p>\u8bbe\u7f6eresolve\u7f29\u5c0f\u641c\u7d22\u8303\u56f4\uff1a</p> <pre><code>  resolve: {\n        enforceExtension: false, // \u662f\u5426\u5f3a\u5236\u6027\u8981\u5199\u6587\u4ef6\u540e\u7f00\u540d\n        extensions: [\".ts\",\".js\"]\n    }\n</code></pre> <p>webpack code splitting</p> <p>\u4ee3\u7801\u62c6\u5206\uff1a\u5982webpack\u4e2d\u5c06chunk\u6587\u4ef6\u8fdb\u884c\u62c6\u5206\uff0c\u5c06\u5e94\u7528\u7684\u4ee3\u7801\u62c6\u5206\u4e3a\u591a\u4e2a\u5c0f\u5757\uff0c\u6bcf\u6b21\u52a0\u8f7d\u65f6\u53ea\u52a0\u8f7d\u9700\u8981\u5c55\u793a\u7684\u6a21\u5757\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u5c06\u6240\u6709\u4ee3\u7801\u52a0\u8f7d\u5b8c\u6210\u540e\u518d\u5c55\u793a</p> <ul> <li>\u51cf\u5c11\u521d\u59cb\u52a0\u8f7d\u7684\u65f6\u95f4</li> <li>\u6309\u9700\u52a0\u8f7d</li> <li>\u51cf\u5c11\u5185\u5b58\u7684\u5360\u7528</li> <li>\u9002\u5e94\u4e0d\u540c\u7684\u8bbe\u5907\u548c\u7f51\u7edc\u73af\u5883</li> </ul> <p>webpack\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u5c06\u5c3d\u53ef\u80fd\u591a\u7684\u6a21\u5757\u4ee3\u7801\u6253\u5305\u5728\u4e00\u8d77\uff0c\u51cf\u5c11\u6700\u7ec8\u9875\u9762\u7684http\u8bf7\u6c42\u6570\uff0c\u4f46\u8fd9\u79cd\u65b9\u5f0f\u7684\u7f3a\u70b9\u662f\uff1a\u9875\u9762\u521d\u59cb\u4ee3\u7801\u5305\u8fc7\u5927\uff0c\u5f71\u54cd\u9996\u5c4f\u52a0\u8f7d\u6027\u80fd</p> <p>SplitChunksPlugin\u63d2\u4ef6 \u6839\u636e\u4ea7\u7269\u5305\u7684\u4f53\u79ef\uff0c\u5f15\u7528\u6b21\u6570\u7b49\u505a\u5206\u5305\u4f18\u5316</p> <ul> <li> <p>webpack\u6839\u636eentry\u521b\u5efachunk\u5bf9\u8c61\uff0c\u904d\u5386\u6784\u5efa\u9636\u6bb5\u627e\u5230\u6240\u6709module\u5bf9\u8c61\uff0c\u540c\u4e00entry\u4e0b\u7684\u6a21\u5757\u5206\u914d\u5230entry\u4e2d\u7684chunk</p> </li> <li> <p>\u9047\u5230\u5f02\u6b65\u6a21\u5757\u5219\u521b\u5efa\u65b0\u7684chunk\u5bf9\u8c61\uff0c\u5e76\u5c06\u5f02\u6b65\u6a21\u5757\u653e\u5230\u8be5chunk\u4e2d</p> </li> <li> <p>\u5206\u914d\u5b8c\u6bd5\u540e\uff0c\u4f7f\u7528SplitChunksPlugin\u63d2\u4ef6\u5bf9chunk\u8fdb\u884c\u88c1\u526a\uff0c\u62c6\u5206\uff0c\u5408\u5e76\uff0c\u4ee3\u7801\u8c03\u4f18</p> </li> </ul> <p>\u6839\u636emodule\u4f7f\u7528\u9891\u7387\u5206\u5305</p> <p>\u6bcf\u4e2a\u5206\u5305\u540e\u7684\u4ee3\u7801\u5305\u90fd\u9700\u8981\u901a\u8fc7http\u8bf7\u6c42\u53bb\u83b7\u53d6\uff0c\u6240\u4ee5\u5982\u679c\u5206\u5272\u8fc7\u591a\u7684\u8bdd\u4e5f\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898</p> <pre><code> optimization: { // \u5f00\u53d1\u73af\u5883\u4e0b\u7684\u4e00\u4e9b\u914d\u7f6e\n        splitChunks:{ // \u662f\u5426\u5c06\u4ee3\u7801\u5206\u5272\u6210\u591a\u4e2a\u4ee3\u7801\u5757\n            // \u5bf9\u6240\u6709\u7684\u4ee3\u7801\u90fd\u8fdb\u884c\u4ee3\u7801\u5206\u5272\u64cd\u4f5c\n            chunks: \"all\",\n            // \u8bbe\u7f6e\u5f15\u7528\u6b21\u6570\u8d85\u8fc72\u7684\u6a21\u5757\u624d\u8fdb\u884c\u5206\u5305\n            minChunks: 2,\n            // \u8bbe\u7f6e\u5206\u5305\u7684\u6570\u91cf\n             maxInitialRequests: 2, // \u7528\u4e8e\u8bbe\u7f6einitial chunk\u6700\u5927\u5e76\u884c\u8bf7\u6c42\u6570\uff0c\u5982\u679c\u8bf7\u6c42\u7684\u4e3b\u5305+\u5b50\u5305\u7684\u6570\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u9608\u503c\uff0c\u90a3\u4e48\u5c31\u4f1a\u81ea\u52a8\u653e\u5f03\u4f53\u79ef\u8f83\u5c0f\u7684\u5b50\u5305  initial\u662f\u5bf9entry\u914d\u7f6e\u7684\u5165\u53e3\u6a21\u5757\u751f\u6548\n            maxAsyncRequests: 2, // \u7528\u4e8e\u8bbe\u7f6eAsync chunk\u6700\u5927\u5e76\u884c\u8bf7\u6c42\u6570 Async\u662f\u5bf9\u5f02\u6b65\u5f15\u5165\u7684\u6a21\u5757\u751f\u6548\uff0c\u5c31\u662f\u7528\u8fc7import\u5f15\u5165\u7684\u8d44\u6e90\n            minSize: true, // \u8d85\u8fc7\u8fd9\u4e2a\u5c3a\u5bf8\u7684\u5305\u624d\u4f1a\u88ab\u5206\u5305\n            maxSize: true, // \u8d85\u8fc7\u8fd9\u4e2a\u5c3a\u5bf8\u7684\u5305\u4f1a\u5c1d\u8bd5\u8fdb\u4e00\u6b65\u62c6\u5206\u51fa\u66f4\u5c0f\u7684\u5305\n        },\n }\n</code></pre> <p>\u7f13\u5b58\u7ec4cacheGroups</p> <p>cacheGroups\u9002\u7528\u4e8e\u8bbe\u7f6e\u7f13\u5b58\u7ec4\u89c4\u5219\uff0c\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u8d44\u6e90\u8bbe\u7f6e\u66f4\u6709\u9488\u5bf9\u6027\u7684\u5206\u5305\u7b56\u7565</p> <pre><code>optimization: { // \u5f00\u53d1\u73af\u5883\u4e0b\u7684\u4e00\u4e9b\u914d\u7f6e\n        splitChunks:{ // \u662f\u5426\u5c06\u4ee3\u7801\u5206\u5272\u6210\u591a\u4e2a\u4ee3\u7801\u5757\n            cacheGroups: { // \u53ef\u8be6\u7ec6\u5b66\u4e60\u4e0b\u5176\u4e0b\u7684\u914d\u7f6e\n                vendors:{\n                    test: /[\\\\/]node_mudoles[\\\\/]/, // \u6240\u6709\u7b26\u5408test\u5224\u65ad\u7684module\u6216chunk\u90fd\u4f1a\u88ab\u5206\u5230\u8be5\u7ec4\n                    minChunks: 1,\n                    minSize: 0\n                }\n            }\n        },\n}\n</code></pre> <p>\u901a\u7528\u7684\u6700\u4f73\u5206\u5305\u7b56\u7565\uff1a</p> <p></p>"},{"location":"study/webPack/6/","title":"webpack Terser","text":""},{"location":"study/webPack/6/#\u4ee3\u7801\u538b\u7f29\u539f\u7406","title":"\u4ee3\u7801\u538b\u7f29\u539f\u7406","text":"<p>\u5176\u5b9e\u5f88\u7b80\u5355\u7c97\u66b4\uff0c\u6bd4\u5982\u8bf4\uff1a</p> <pre><code>const message = 'hello world'\nlet a = 'hello world'\n</code></pre> <p>\u8fd9\u6837\u5bf9\u6bd4\u4e0b\u6765\u5c31\u51cf\u5c11\u4e868\u4e2a\u5b57\u7b26</p>"},{"location":"study/webPack/6/#\u4f7f\u7528terserwebpackplugin\u538b\u7f29js","title":"\u4f7f\u7528TerserWebpackPlugin\u538b\u7f29JS","text":"<p>webpack5.0\u540e\u9ed8\u8ba4\u4f7f\u7528Terser\u4f5c\u4e3ajs\u7684\u4ee3\u7801\u538b\u7f29\u5668</p> <p>Terser\u652f\u6301\u8bb8\u591a\u538b\u7f29\u914d\u7f6e\uff1a</p> <ul> <li>dead_code\uff1a\u662f\u5426\u5220\u9664\u4e0d\u53ef\u89e6\u8fbe\u7684\u4ee3\u7801--\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u6b7b\u4ee3\u7801</li> <li>booleans_as_integers\uff1a\u662f\u5426\u5c06Boolean\u503c\u5b57\u9762\u91cf\u8f6c\u6362\u4e3a0,1</li> <li>join_vars\uff1a\u662f\u5426\u5408\u5e76\u8fde\u7eed\u7684\u53d8\u91cf\u58f0\u660e\uff0c\u5982var a = 1\uff1bvar b = 2\uff1b\u5408\u5e76\u4e3avar a = 1. b = 2\uff1b</li> </ul> <p>TerserWebpackPlugin</p> <p>\u5e76\u884c\u538b\u7f29\uff1a\u591a\u4e2a\u6587\u4ef6\u5e76\u53d1\u8fdb\u884c\u538b\u7f29</p> <p>\u7f13\u5b58\u673a\u5236\uff1a\u5c06\u538b\u7f29\u7684\u7ed3\u679c\u7f13\u5b58\u8d77\u6765\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u5bf9\u540c\u4e00\u6587\u4ef6\u8fdb\u884c\u538b\u7f29</p> <p>\u81ea\u5b9a\u4e49\u914d\u7f6e</p>"},{"location":"study/webPack/6/#terserwebpackplugin\u7684\u4f7f\u7528\u65b9\u5f0f","title":"TerserWebpackPlugin\u7684\u4f7f\u7528\u65b9\u5f0f","text":"<pre><code> optimization: { // \u5f00\u53d1\u73af\u5883\u4e0b\u7684\u4e00\u4e9b\u914d\u7f6e\n        minimize: false, // \u8f93\u51fa\u7684\u4ee3\u7801\u662f\u5426\u8981\u538b\u7f29\n        minimizer: [\n            new TerserPlugin({\n                test:'all', // \u53ef\u9488\u5bf9\u4e0d\u540c\u6587\u4ef6\u5236\u5b9a\u4e0d\u540c\u7684\u538b\u7f29\u7b56\u7565\n                minify:TerserPlugin.swcMinify, // \u53ef\u6307\u5b9a\u4f7f\u7528\u7684\u538b\u7f29\u5668\n                parallel: true, // \u542f\u7528\u591a\u7ebf\u7a0b\u8fdb\u884c\u538b\u7f29\n                terserOptions: {\n                    compress:{\n                        // \u81ea\u5b9a\u4e49\u538b\u7f29\u9009\u9879\n                        drop_console: true,// \u5220\u9664\u6240\u6709console\u8bed\u53e5\n                    },\n                    format:{\n                        comments: false,// \u5220\u9664\u6ce8\u91ca\n                    }\n                },\n                extractComments: false // \u4e0d\u5c06\u6ce8\u91ca\u63d0\u53d6\u5230\u5355\u72ec\u7684\u6587\u4ef6\u4e2d\n            })\n        ],\n}\n</code></pre> <p>TerserPlugin\u5185\u7f6e\u538b\u7f29\u5668\uff1aTerserPlugin.terserMinify\uff1a\u4f9d\u8d56\u4e8eterser\u5e93</p> <p>TerserPlugin.swcMinify\u4f9d\u8d56\u4e8e@swc/core\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5@swc/core</p> <p>TerserPlugin.esbuildMinify\u4f9d\u8d56\u4e8eesbuild\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5esbuild</p>"},{"location":"study/webPack/6/#\u4f7f\u7528cssminimizerwebpackplugin\u538b\u7f29css","title":"\u4f7f\u7528CssMinimizerWebpackPlugin\u538b\u7f29CSS","text":"<pre><code>const CssMinimizerPlugin = require('css-minimizer-webpack-plugin')\nconst MiniCssExtractPlugin  = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n    entry: './src/main.js',\n    output: {\n        path: path.resolve(__dirname,'dist'), // \u5fc5\u987b\u662f\u7edd\u5bf9\u8def\u5f84\n        filename: \"bundle.js\",\n        clean: true // \u786e\u4fdd\u8f93\u51fa\u76ee\u5f55\u5728\u6784\u5efa\u65f6\u88ab\u6e05\u7406\n    },\n    mode:\"development\",\n    optimization: { // \u5f00\u53d1\u73af\u5883\u4e0b\u7684\u4e00\u4e9b\u914d\u7f6e\n        minimize: false, // \u8f93\u51fa\u7684\u4ee3\u7801\u662f\u5426\u8981\u538b\u7f29\n        minimizer: [\n            // \u4f7f\u7528CssMinimizerPlugin\u63d2\u4ef6\u5bf9css\u4ee3\u7801\u8fdb\u884c\u538b\u7f29\n            new CssMinimizerPlugin(),\n        ],\n    },\n    plugins: [\n        // \u9700\u8981\u4f7f\u7528MiniCssExtractPlugin\u5c06css\u4ee3\u7801\u62bd\u53d6\u4e3a\u5355\u72ec\u6587\u4ef6\n        // \u624d\u80fd\u547d\u4e2dcss-minimizer-webpack-plugin\u9ed8\u8ba4\u7684test\u89c4\u5219\n        new MiniCssExtractPlugin(),\n    ],\n    module: {\n        noParse: /lodash|react/,\n        rules: [\n            {\n                test: /\\.css$/, // \u5339\u914d\u6240\u6709css\u6587\u4ef6\n                use: [\n                    'css-loader',\n                    MiniCssExtractPlugin.loader \n                ]\n            }\n        ]\n    },\n}\n</code></pre> <p>css\u538b\u7f29\u4e2d\u7684minify\u652f\u6301\u54ea\u4e9b\u538b\u7f29\u5668\u5462\uff1a</p> <p>CssMinimizerPlugin.cssnanoMinify\uff1a\u9ed8\u8ba4\u503c\uff0c\u4f7f\u7528cssnano\u538b\u7f29\u4ee3\u7801\uff0c\u4e0d\u9700\u8981\u989d\u5916\u5b89\u88c5\u4f9d\u8d56</p> <p>CssMinimizerPlugin.cssoMinify\uff1a\u4f7f\u7528csso\u538b\u7f29\u4ee3\u7801\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5\u4f9d\u8d56csso</p> <p>CssMinimizerPlugin.esbuildMinify\u4f9d\u8d56\u4e8eesbuild\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5esbuild</p> <p>CssMinimizerPlugin.cleanCssMinify\uff1a\u4f7f\u7528clean-css\u538b\u7f29\u4ee3\u7801\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5\u4f9d\u8d56clean-css</p>"},{"location":"technology/nginx/","title":"nginx\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898","text":"<p>\u5728\u5c06\u81ea\u5df1\u505a\u7684demo\u90e8\u7f72\u5728\u670d\u52a1\u5668\u4e0a\u65f6\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u5728\u6b64\u8bb0\u5f55\u4e00\u4e0b</p>"},{"location":"technology/nginx/#405-not-allowed","title":"405 Not Allowed","text":"<p>\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\u662f405 Not Allowed\uff0c\u5728\u8c03\u7528get\u8bf7\u6c42\u662f\u53ef\u4ee5\u6b63\u5e38\u8c03\u7528\u7684\uff0c\u8fd4\u56de\u7ed3\u679c200\u3002\u4f46\u5f53\u8c03\u7528post\u63a5\u53e3\u65f6\u4fbf\u4f1a\u8fd4\u56de405 Not Allowed</p> <p>\u5f53\u65f6\u767e\u5ea6\u5230\u7684\u539f\u56e0\u662f\u5728nginx\u4e2d\uff0c\u662f\u4e0d\u5141\u8bb8post\u8bbf\u95ee\u9759\u6001\u8d44\u6e90\uff0c\u901a\u8fc7\u767e\u5ea6\u51fa\u6765\u7684\u65b9\u5f0f\u8fdb\u884c\u4fee\u6539\uff1a</p> <p>1\uff0c\u5728nginx\u7684\u9759\u6001\u7684\u9759\u6001server\u4e0b\u7684location\u52a0\u5165 \\error_page 405 =200 $uri;\\\uff08\u8bf4\u767d\u4e86\u5c31\u662f\u5f3a\u5236\u5c06405\u9519\u8bef\u7528200\u4ee3\u66ff\u4e86\uff09--\u7ed3\u679c\uff1a\u6ca1\u6709\u89e3\u51b3</p> <pre><code>location / {\n        root /usr/locai/nginx/html/kt;\n        try_files $uri $uri/ /index.html;\n        index index.html index.htm;\n        error_page 405 =200  $request_uri;\n    }\n</code></pre> <p>2\uff0c\u6dfb\u52a0\u5982\u4e0b\uff0c\u8de8\u670d\u52a1\u8c03\u7528\u62a5\u9519\u89e3\u51b3--\u7ed3\u679c\uff1a\u6ca1\u6709\u89e3\u51b3</p> <pre><code>location @405 {\n             proxy_set_header Host $host;\n             proxy_set_header X-Real-IP $remote_addr;\n             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n             #ip\u4e3a\u540e\u7aef\u670d\u52a1\u5730\u5740\n             proxy_pass http://ip+\u7aef\u53e3$request_uri ;\n        }\n</code></pre> <p>\u4f46\u662f\u770b\u5230\u6709\u901a\u8fc7\u4e0a\u8ff0\u65b9\u6cd5\u89e3\u51b3\u95ee\u9898\u7684\u53cb\u53cb\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u662f\u56e0\u4e3a\u60c5\u51b5\u4e0d\u540c</p>"},{"location":"technology/nginx/#\u5173\u4e8e\u6211\u662f\u5982\u4f55\u89e3\u51b3\u7684","title":"\u5173\u4e8e\u6211\u662f\u5982\u4f55\u89e3\u51b3\u7684","text":"<p>\u6211\u5728nginx\u914d\u7f6e\u4e2d\u4e3b\u8981\u662f\u9700\u8981\u4e24\u90e8\u5206\uff0c\u4e00\u90e8\u5206serve\u7528\u4e8e\u8bf7\u6c42\u524d\u7aef\u9759\u6001\u8d44\u6e90\uff0c\u53e6\u4e00\u90e8\u5206serve\u7528\u4e8e\u8f6c\u53d1\u8bf7\u6c42\u5230\u540e\u7aef\u670d\u52a1\u5668\u4e0a\uff0c\u540c\u65f6\u5bf9\u4e24\u90e8\u5206\u8fdb\u884c\u4fee\u6539\uff0c</p> <p>\u4e3b\u8981\u601d\u8def\u5c31\u662f\u8bbe\u7f6e\u8f6c\u53d1\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u5934\uff0c\u7136\u540e\u4e3a\u8de8\u57df\u8bf7\u6c42\u6dfb\u52a0\u5fc5\u8981\u7684\u54cd\u5e94\u5934</p> <p>\u5904\u7406\u9759\u6001\u8d44\u6e90</p> <pre><code>  location / {\n            alias /tool_web/build/;\n            index  index.html index.htm;\n            try_files $uri $uri/ /index.html;\n            autoindex off;\n\n            proxy_set_header host $host; // \u5c06\u539f\u59cb\u8bf7\u6c42\u7684 Host \u5934\u4f20\u9012\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u3002\n            proxy_set_header X-forwarded-for $proxy_add_x_forwarded_for; // \u6dfb\u52a0\u5ba2\u6237\u7aef\u7684\u771f\u5b9e IP \u5730\u5740\u5230 X-Forwarded-For \u5934\u4e2d\u3002\n            proxy_set_header X-real-ip $remote_addr; // \u5c06\u5ba2\u6237\u7aef\u7684\u771f\u5b9e IP \u5730\u5740\u8bbe\u7f6e\u4e3a X-Real-IP \u5934\u3002\n            # CORS \u914d\u7f6e\n            add_header 'Access-Control-Allow-Origin' '*'; // \u5141\u8bb8\u6765\u81ea\u4efb\u4f55\u57df\u540d\u7684\u8bf7\u6c42\u3002\n            add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS'; // \u5141\u8bb8\u7684 HTTP \u65b9\u6cd5\u548c\u8bf7\u6c42\u5934\u3002\n            add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n\n            # \u5904\u7406\u9884\u68c0\u8bf7\u6c42 (OPTIONS)\n            if ($request_method = 'OPTIONS') {\n                add_header 'Access-Control-Allow-Origin' '*';\n                add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n                add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n                add_header 'Access-Control-Max-Age' 1728000;\n                add_header 'Content-Type' 'text/plain charset=UTF-8';\n                add_header 'Content-Length' 0;\n                return 204;\n            }\n</code></pre> <p>\u5904\u7406\u540e\u7aef\u8bf7\u6c42</p> <pre><code># \u5176\u4ed6\u8def\u5f84\u7684\u8bf7\u6c42\u5904\u7406\n        location /beans/ {\n            proxy_pass http://127.0.0.1:1023;\n            proxy_http_version 1.1;\n            proxy_set_header Host $http_host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n\n            # \u4e3a /beans/ \u8def\u5f84\u6dfb\u52a0 CORS \u5934\n            add_header 'Access-Control-Allow-Origin' '*';\n            add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n            add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n\n            # \u5904\u7406\u9884\u68c0\u8bf7\u6c42 (OPTIONS)\n            if ($request_method = 'OPTIONS') {\n                add_header 'Access-Control-Allow-Origin' '*';\n                add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';\n                add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n                add_header 'Access-Control-Max-Age' 1728000;\n                add_header 'Content-Type' 'text/plain charset=UTF-8';\n                add_header 'Content-Length' 0;\n                return 204;\n            }\n        }\n</code></pre>"},{"location":"technology/nginx/#403-forbidden","title":"403 Forbidden","text":"<p>\u4ea7\u751f403\u95ee\u9898\u7684\u539f\u56e0\uff0c\u4e00\u822c\u4e5f\u5c31\u662f\u56e0\u4e3a\u6743\u9650\u95ee\u9898\uff0c\u53ef\u80fd\u662f\u8de8\u57df\uff0c\u53ef\u80fd\u662f\u540e\u7aef\u670d\u52a1\u4e0d\u652f\u6301\u5bf9\u5e94\u7684\u65b9\u6cd5\u6216\u8005\u524d\u7aef\u52a0\u7684\u6709\u7528\u6237\u6821\u9a8c\uff0c\u4e5f\u53ef\u80fd\u662fssl\u7684\u539f\u56e0</p> <p>\u4f46\u662f\u672c\u5730\u8c03\u8bd5\u7684\u65f6\u5019post\u63a5\u53e3\u662f\u53ef\u4ee5\u6b63\u5e38\u8c03\u901a\u7684\uff0c\u800c\u4e14\u4e00\u4e2a\u7b80\u5355\u7684demo\u9879\u76ee\uff0c\u4e5f\u6ca1\u6709\u52a0\u7528\u6237\u6821\u9a8c\uff0c\u6240\u6709\u5176\u4e2d\u4e24\u79cd\u60c5\u51b5\u53ef\u4ee5\u76f4\u63a5\u6392\u9664\u4e86</p> <p>\u4f46\u662f\u8de8\u57df\u7684\u95ee\u9898\u4e5f\u5728\u89e3\u51b3405\u7684\u65f6\u5019\u4e00\u8d77\u89e3\u51b3\u6389\u4e86\uff0c\u540e\u9762\u767e\u5ea6\u51fa\u53ef\u80fd\u662f      add_header 'Access-Control-Allow-Origin' '*'; \u7684\u5199\u6cd5\u6709\u95ee\u9898\uff0c\u7136\u540e\u6309\u7167\u63a8\u8350\u7684\u5199\u6cd5\u8bd5\u4e86\u4e0b\u8fd8\u662f\u4e0d\u884c\u3002\u540e\u9762\u624d\u60f3\u8d77\u6709\u53ef\u80fd\u662fssl\u7684\u95ee\u9898</p> <p>\u56e0\u4e3a\u4e4b\u524d\u767d\u5ad6\u7684\u6709\u51e0\u4e2a\u6708\u7684ssl\u8bc1\u4e66\uff0c\u6240\u4ee5\u5f53\u521d\u5728nginx\u4e0b\u52a0\u4e86ssl\uff0c\u731b\u7136\u53d1\u73b0ssl\u8bc1\u4e66\u65e9\u5c31\u8fc7\u671f\u4e86\uff0c\u628a\u5bf9\u5e94\u7684\u4ee3\u7801\u5220\u6389\u5c31\u597d\u4e86</p> <pre><code>server {\n        listen       443 ssl;\n        server_name  peaceandlove.asia www.peaceandlove.asia;\n\n        ssl_certificate      cert/peaceandlove.asia.pem;\n        ssl_certificate_key  cert/peaceandlove.asia.key;\n\n        ssl_session_cache    shared:SSL:1m;\n        ssl_session_timeout  5m;\n\n        ssl_ciphers  HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers  on;\n}\n</code></pre>"},{"location":"technology/boot/","title":"\u8bb0\u5f55\u6211\u5728\u540e\u7aef\u5f00\u53d1\u4e2d\u9047\u5230\u7684\u573a\u666f\u548c\u5b66\u4e60\u70b9","text":""},{"location":"technology/boot/1/","title":"\u8bb0\u4e00\u6b21\u5927\u6570\u636e\u91cf\u67e5\u8be2\u65f6\u7684\u4f18\u5316","text":"<p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u9047\u5230\u8fd9\u4e48\u4e00\u4e2a\u573a\u666f\uff1a\u9700\u8981\u7edf\u8ba1\u67d0\u4e2a\u7ec4\u7ec7\u53ca\u5176\u4e0b\u7ea7\u7ec4\u7ec7\u7684\u6240\u6709\u9879\u76ee\u603b\u6570\u4ee5\u53ca\u5f53\u524d\u7ec4\u7ec7\u53d1\u8d77\u7684\u652f\u4ed8\u7533\u8bf7\u7684\u91d1\u989d\u603b\u6570\u3002</p> <p>\u5177\u4f53\u6548\u679c\u5982\u4e0b\uff08\u4ee5\u6d59\u6c5f\u7701\u4e3a\u4f8b\uff09\uff1a</p> <p></p> <p>\u8fd9\u6837\u7684\u8bdd\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\u662f\uff1a\u5f53\u67e5\u8be2\u662f\u7701\u4e00\u7ea7\u7684\u65f6\u5019\uff0c\u67e5\u8be2\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u5f71\u54cd\u7528\u6237\u4f53\u9a8c</p>"},{"location":"technology/boot/1/#\u4e4b\u524d\u7684\u903b\u8f91","title":"\u4e4b\u524d\u7684\u903b\u8f91","text":"<p>\u4f1a\u6839\u636e\u524d\u7aef\u4f20\u7684\u7ec4\u7ec7\u7f16\u7801OrgCode\uff0c\u5c06\u5f53\u524d\u7ec4\u7ec7\u4ee5\u53ca\u4e0b\u9762\u7684\u6240\u6709\u7684\u7ec4\u7ec7\u7684\u9879\u76ee\u67e5\u8be2\u51fa\u6765\u3002\u5728\u7701\u7ea7\u7684\u8bdd\uff0c\u5c31\u662f\u4f1a\u5c06\u7701\u5185\u6240\u6709\u5730\u533a\u7684\u6240\u6709\u7684\u9879\u76ee\u5168\u90e8\u67e5\u8be2\u51fa\u6765\u3002\u67e5\u8be2\u65f6\u95f4\u4f1a\u6bd4\u8f83\u6162\uff0c\u6240\u4ee5\u5bf9\u8fd9\u91cc\u505a\u4e00\u4e0b\u4f18\u5316</p> <pre><code>List&lt;String&gt; projectTypeIds = ProjectTypeEnum.getByProjectType(projectType);\n        Wrapper&lt;PerformLibraryDO&gt; queryWrapper = Wrappers.lambdaQuery(PerformLibraryDO.class)\n                .select(PerformLibraryDO::getId, PerformLibraryDO::getCurOrgCode,\n                        PerformLibraryDO::getProjectTotalBudget,\n                        PerformLibraryDO::getYear, PerformLibraryDO::getDelFlag,\n                        PerformLibraryDO::getStatus, PerformLibraryDO::getCreateTime,\n                        PerformLibraryDO::getApprovalTime)\n                .eq(PerformLibraryDO::getYear, year)\n                .eq(PerformLibraryDO::getDelFlag, DelFlagEnum.NORMAL.getValue())\n                .eq(PerformLibraryDO::getStatus, StatusEnum.APPROVAL_SUCCESS.getValue())\n                .le(PerformLibraryDO::getApprovalTime, LocalDate.now().atStartOfDay())\n                .likeRight(PerformLibraryDO::getCurOrgCode, orgCode)\n                .in(projectType != null &amp;&amp; projectType != 0, PerformLibraryDO::getProjectType, projectTypeIds);\n        List&lt;PerformLibraryDO&gt; fullProjectList = performLibraryService.list(queryWrapper);\n</code></pre>"},{"location":"technology/boot/1/#\u4f18\u5316\u540e\u7684\u903b\u8f91","title":"\u4f18\u5316\u540e\u7684\u903b\u8f91","text":"<p>\u7531\u4e8e\u9700\u8981\u5c55\u793a\u672c\u7ea7\u548c\u4e0b\u7ea7\u7ec4\u7ec7\u7684\u6570\u636e\uff0c\u6240\u4ee5\u5206\u5f00\u5355\u72ec\u5904\u7406\uff1a</p> <ul> <li>\u5bf9\u672c\u7ea7\uff0c\u76f4\u63a5\u4f7f\u7528eq\uff0c\u53ea\u67e5\u8be2\u672c\u7ea7\u7684\u6570\u636e</li> <li>\u5bf9\u4e0b\u7ea7\uff0c\u4f7f\u7528likeRight\u5206\u522b\u67e5\u8be2\u4e0b\u7ea7\u7ec4\u7ec7\u7684\u6240\u6709\u6570\u636e-\u4ece\u7701\u7ea7\u5230\u5e02\u7ea7\u67e5\u8be2\u65f6\u95f4\u51cf\u5c11\u4e86\u5f88\u591a</li> <li>\u5c06\u67e5\u51fa\u6765\u7684\u6570\u636e\u5b58\u5165\u4e2d\u95f4\u8868\uff0c\u540e\u7eed\u6bcf\u6b21\u67e5\u8be2\u76f4\u63a5\u4ece\u4e2d\u95f4\u8868\u4e2d\u53d6\u6570\u636e</li> <li>\u901a\u8fc7\u5b9a\u65f6\u4efb\u52a1\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u5c06\u6570\u636e\u5b58\u5165\u4e2d\u95f4\u8868</li> </ul> <p>\u5bf9\u7701\u7ea7\u6570\u636e</p> <pre><code>List&lt;String&gt; childOrgCodeList = findSonByOrgCode(orgCode).stream()\n                    .map(OrgVO::getEncode)\n                    .collect(Collectors.toList());\n\n            LambdaQueryWrapper&lt;PerformLibraryDO&gt; baseQueryWrapper = Wrappers.lambdaQuery(PerformLibraryDO.class)\n                    .select(PerformLibraryDO::getId, PerformLibraryDO::getCurOrgCode,\n                            PerformLibraryDO::getProjectTotalBudget,\n                            PerformLibraryDO::getYear, PerformLibraryDO::getDelFlag,\n                            PerformLibraryDO::getStatus, PerformLibraryDO::getCreateTime,\n                            PerformLibraryDO::getApprovalTime)\n                    .eq(PerformLibraryDO::getYear, year)\n                    .eq(PerformLibraryDO::getDelFlag, DelFlagEnum.NORMAL.getValue())\n                    .eq(PerformLibraryDO::getStatus, StatusEnum.APPROVAL_SUCCESS.getValue())\n                    .in(projectType != null &amp;&amp; projectType != 0, PerformLibraryDO::getProjectType, projectTypeIds)\n                    .le(PerformLibraryDO::getApprovalTime, LocalDate.now().atStartOfDay());\n</code></pre> <p>\u5bf9\u4e0b\u7ea7\u7ec4\u7ec7</p> <pre><code>for (String encode : childOrgCodeList) {\n                List&lt;Long&gt; childIds = fullProjectList.stream()\n                        .filter(project -&gt; project.getCurOrgCode().length() &gt;= encode.length() &amp;&amp; project.getCurOrgCode().startsWith(encode))\n                        .map(PerformLibraryDO::getId).collect(Collectors.toList());\n                projectCountMap.put(encode, childIds.size());\n                setProjectBudgetedFundsMap(encode, childIds, projectBudgetedFundsMap, zero, projectSelfRaisedFundsMap);\n                projectAmountMap.put(encode, fullProjectList.stream()\n                        .filter(project -&gt; project.getCurOrgCode().length() &gt;= encode.length() &amp;&amp; project.getCurOrgCode().startsWith(encode))\n                        .map(PerformLibraryDO::getProjectTotalBudget)\n                        .reduce(BigDecimal.ZERO, BigDecimal::add));\n            }\n</code></pre> <p>\u5b58\u5165\u4e2d\u95f4\u8868</p> <pre><code>// \u6839\u636e\u7ec4\u7ec7\uff0c\u5e74\u4efd\uff0c\u9879\u76ee\u7c7b\u578b\u548c\u8d44\u91d1\u6765\u6e90\u7c7b\u578b\u521b\u5efa\u552f\u4e00key\nString key = \"orgCode:\" + orgCode + \",\" + \"year:\" + year + \",\" + \"projectType:\" + projectType + \",\" + \"amountSourceType:\"+ amountSourceType;\n\nProjectOverviewCacheDo result = projectOverviewCacheMapper.selectById(key);\nGson gson = new Gson();\nList&lt;ProjectOverviewVO&gt; voList = new ArrayList&lt;&gt;();\n// \u5982\u679c\u4e2d\u95f4\u8868\u4e2d\u6709\u6570\u636e\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u800c\u65e0\u9700\u518d\u53bb\u91cd\u65b0\u83b7\u53d6\u6570\u636e\nif (!ObjectUtil.isEmpty(result)) {\n    voList = gson.fromJson(result.getContent(), voList.getClass());\n}\nreturn voList\n</code></pre> <p>\u5b9a\u65f6\u4efb\u52a1</p> <pre><code> @XxlJob(value = \"projectOverviewCacheTask\")\n    public ReturnT&lt;String&gt; projectOverviewCacheTask()  {\n        try {\n            // \u6bcf\u6b21\u6267\u884c\u5b9a\u65f6\u4efb\u52a1\u5148\u5c06\u4e2d\u95f4\u8868\u6e05\u7a7a\n            projectOverviewCacheMapper.deleteAll();\n        }catch (Exception e){\n            XxlJobHelper.log(\"\u5220\u9664\u4e2d\u95f4\u8868\u5f02\u5e38: \" + e.getMessage());\n            return new ReturnT&lt;&gt;(ReturnT.FAIL_CODE, \"\u5220\u9664\u9879\u76ee\u603b\u89c8\u7f13\u5b58\u8868\u5f02\u5e38\");\n        }\n\n        ResultRes&lt;List&lt;String&gt;&gt; allOrgResult = userFeignClient.getAllOrgCode(\"ZLJC\");\n        if (allOrgResult == null || !allOrgResult.getStatus()) {\n            return new ReturnT&lt;&gt;(ReturnT.FAIL_CODE, \"Feign \u8c03\u7528\u83b7\u53d6\u7ec4\u7ec7\u4fe1\u606f\u5f02\u5e38\");\n        }\n        int currentYear = LocalDate.now().getYear();\n        List&lt;String&gt; orgCodeList = allOrgResult.getData();\n        for (String orgCode : orgCodeList) {\n            for (int year = 2022; year &lt;= currentYear; year++) {\n                for (int i = 0; i &lt; TYPE_NUM; i++) {\n                    for (int j = 0; j &lt; TYPE_NUM; j++) {\n                        cockpitProjectService.getProjectOverview(i, j, orgCode, year);\n                    }\n                }\n            }\n        }\n        return ReturnT.SUCCESS;\n    }\n</code></pre>"},{"location":"technology/boot/actuator/","title":"springboot\u6574\u5408actuator","text":"<p>\u5728springboot\u6574\u5408actuator\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u7279\u610f\u5728\u6b64\u8bb0\u5f55\u4e00\u4e0b</p> <p>Spring Boot Actuator \u63d0\u4f9b\u4e86\u751f\u4ea7\u73af\u5883\u4e2d\u6240\u9700\u7684\u76d1\u63a7\u548c\u7ba1\u7406\u529f\u80fd\uff0c\u4f8b\u5982\u5065\u5eb7\u68c0\u67e5\u3001\u6307\u6807\u6536\u96c6\u3001\u73af\u5883\u4fe1\u606f\u7b49\u3002\u901a\u8fc7 Actuator\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u83b7\u53d6\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5e76\u8fdb\u884c\u6545\u969c\u6392\u67e5</p> <p>\u5728Maven\u9879\u76ee\u4e2d\u6dfb\u52a0\u4f9d\u8d56</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u4f46\u662f\u5728\u6dfb\u52a0spring-boot-starter-actuator\u4f9d\u8d56\u540e\u4f1a\u62a5\u9519</p> <p><code>Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException</code></p> <p>\u9996\u5148\u7ed9\u51fa\u7684\u89e3\u51b3\u65b9\u6848\u662f\u66f4\u6539\u8def\u5f84\u5339\u914d\u7b56\u7565\uff0c\u4f46\u662f\u6ca1\u6709\u7528</p> <pre><code>spring:\n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre> <p>\u6b64\u65f6\u53d1\u73b0\u6211\u7528\u7684\u662fKnife4j \u7684 OpenAPI 2.x \u7248\u672c\uff0cOpenAPI 2.x \u7248\u672c\u662f\u4e3a Spring Boot 2.5.x \u53ca\u4ee5\u4e0b\u8bbe\u8ba1\u7684\uff0c\u4e0e Spring Boot 2.7.x \u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u6240\u4ee5\u4fbf\u5c06OpenAPI 2.x \u5347\u7ea7\u5230\u4e863.X\u7248\u672c\u3002\u5347\u7ea7\u81f33.X\u7248\u672c\u540e\u4e00\u4e9b\u5730\u65b9\u4e5f\u9700\u8981\u66f4\u6539\uff08\u5305\u62ec\u539f\u6709\u7684\u4e00\u4e9b\u6ce8\u89e3\u7684\u5199\u6cd5\u548cSwaggerConfig\u914d\u7f6e\u7c7b\uff09\uff0c\u521b\u5efa\u65b0\u7684\u914d\u7f6e\u7c7b <code>OpenApiConfig</code>\uff08\u66ff\u6362\u539f\u6709 <code>SwaggerConfig</code>\uff09</p> <pre><code>package com.als.Beans.Blogs.config;\n\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApiConfig {\n    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI()\n                .info(new Info()\n                        .title(\"API\u6587\u6863\")\n                        .description(\"API\u6587\u6863\u63cf\u8ff0\")\n                        .version(\"1.0\")\n                );\n    }\n}\n</code></pre> <p>\u6b64\u65f6\u4fbf\u53ef\u6b63\u5e38\u542f\u52a8\u9879\u76ee\uff0c\u901a\u8fc7http://host:port/context-path/actuator\u8bbf\u95ee</p>"},{"location":"technology/boot/nacos/","title":"\u5fae\u670d\u52a1\u6574\u5408nacos\u7684\u8fc7\u7a0b","text":"<p>Windows\u6216\u8005linux\u4e0a\u5b89\u88c5nacos\u7684\u8fc7\u7a0b\u5c31\u4e0d\u5728\u8d58\u8ff0\u4e86\uff0c\u8fd9\u91cc\u76f4\u63a5\u5feb\u8fdb\u5230\u9879\u76ee\u4e2d\u5982\u4f55\u6ce8\u518c\u5230nacos\u670d\u52a1\u4e2d</p> <p>pom\u6587\u4ef6\u4e2d\u9700\u8981\u6dfb\u52a0\u5bf9\u5e94\u7684\u4f9d\u8d56</p> <pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre> <p>\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u4e2d\u9996\u5148\u9700\u8981\u6dfb\u52a0nacos\u7684\u914d\u7f6e\u5185\u5bb9</p> <pre><code>    nacos:\n      // nacos\u7684\u8d26\u53f7\u548c\u5bc6\u7801\n      username: ${nacos_username:nacos}\n      password: ${nacos_passwd:nacos}\n      discovery:\n        server-addr: ${nacos_addr:127.0.0.1:8848} // nacos\u670d\u52a1\u5730\u5740\n        # \u5982\u679c\u662fpublic\u547d\u540d\u7a7a\u95f4 namespace\u4e0d\u586b\u5199,\u56e0\u4e3a\u4ed6\u662f\u4fdd\u7559\u7a7a\u95f4, \u6ca1\u6709\u547d\u540d\u7a7a\u95f4Id, \u82e5\u662f\u522b\u7684\u547d\u540d\u7a7a\u95f4\u5219\u52a0\u4e0a\n        namespace: ${nacos_namespace:}\n</code></pre> <p>\u542f\u52a8\u7c7b\u4e2d\u9700\u8981\u6dfb\u52a0\u6ce8\u89e3\uff1a<code>@EnableDiscoveryClient</code></p> <p>\u6b64\u65f6\u542f\u52a8\u670d\u52a1\u7684\u8bdd\uff0c\u4fbf\u53ef\u5728nacos\u670d\u52a1\u5217\u8868\u4e2d\u770b\u5230\u5bf9\u5e94\u7684\u670d\u52a1</p>"},{"location":"technology/web/echartsPie/","title":"echarts\u997c\u56fe\u9576\u5d4c\u56fe\u7247","text":""},{"location":"technology/web/echartsPie/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>\u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u9700\u6c42\u662f\uff0cecharts\u997c\u56fe\u5411\u5de6\u504f\u4e00\u5b9a\u4f4d\u7f6e\uff0c\u4f46\u662f\u5728\u997c\u56fe\u4e2d\u95f4\u9700\u8981\u9576\u5d4c\u56fe\u7247\u4ee5\u53ca\u63a5\u53e3\u67e5\u51fa\u6765\u7684\u4e00\u90e8\u5206\u6570\u636e\uff0c\u5728\u7f51\u4e0a\u641c\u4e86\u4e00\u4e0b\uff0c\u53d1\u73b0\u6bd4\u8f83\u5c11\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b \u4ee5\u4e0b\u662f\u6700\u7ec8\u6548\u679c\u56fe\uff1a</p> <p></p>"},{"location":"technology/web/echartsPie/#\u4e00echarts\u8fdb\u884c\u504f\u79fb","title":"\u4e00\u3001echarts\u8fdb\u884c\u504f\u79fb","text":"<p>\u9996\u5148\u662f\u5bf9echarts\u997c\u56fe\u8fdb\u884c\u5411\u5de6\u504f\u79fb <pre><code>series: [\n     { \n        name: 'Access From',\n        type: 'pie',\n        radius: ['55%', '70%'],\n        avoidLabelOverlap: false,\n        center: ['35%', '50%'],// \u901a\u8fc7center\u5c5e\u6027\u8bbe\u7f6e\u504f\u79fb\u91cf\n    }\n]\n</code></pre></p>"},{"location":"technology/web/echartsPie/#\u4e8c\u5bf9echarts\u4e2d\u5fc3\u8bbe\u7f6e\u56fe\u7247\u548c\u6587\u5b57\u5c55\u793a","title":"\u4e8c\u3001\u5bf9echarts\u4e2d\u5fc3\u8bbe\u7f6e\u56fe\u7247\u548c\u6587\u5b57\u5c55\u793a","text":""},{"location":"technology/web/echartsPie/#1\u8bbe\u7f6e\u80cc\u666f\u56fe\u7247","title":"1.\u8bbe\u7f6e\u80cc\u666f\u56fe\u7247","text":"<p>\u901a\u8fc7echarts\u4e2d\u7684graphic\u5c5e\u6027\u8bbe\u7f6e\u4e2d\u5fc3\u7684\u80cc\u666f\u56fe\u7247 <pre><code>graphic: {\n        elements: [{// \u73af\u5f62\u56fe\u4e2d\u95f4\u80cc\u666f\u56fe\n            type: 'image',\n            style: {\n              image: totalRisk,\n              width: 130, \n              height: 130, //\u8bbe\u7f6e\u56fe\u7247\u7684\u5bbd\u9ad8\u5ea6\n            },\n            left: \"22%\",\n            top: \"center\", // \u8bbe\u7f6e\u56fe\u7247\u5728X\u8f74\uff0cY\u8f74\u7684\u4f4d\u7f6e\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u81ea\u5df1\u8c03\u8bd5\u4e86\n          }]\n        },\n</code></pre></p>"},{"location":"technology/web/echartsPie/#2\u8bbe\u7f6e\u4e2d\u5fc3\u6587\u5b57","title":"2.\u8bbe\u7f6e\u4e2d\u5fc3\u6587\u5b57","text":"<p>\u5728series\u5c5e\u6027\u4e2d\u8bbe\u7f6e\u5bf9\u5e94\u7684\u6587\u5b57 <pre><code>{\n            name: '\u4e2d\u95f4\u6587\u5b57',\n            z: 100,\n            type: 'gauge', // \u8fd9\u4e2atype\u7c7b\u578b\u8981\u8bbe\u7f6e\u4e3agauge\n            radius: '-50%',\n            center: ['35%', '50%'],// \u9700\u548ctype: 'pie'\u4e2d\u7684center\u4e00\u81f4\n            // \u914d\u7f6e\u4e2d\u95f4\u7684\u6570\u5b57\u7684\u6837\u5f0f\n            detail: {\n              // \u8c03\u8282\u6570\u5b57\u4f4d\u7f6e\n              offsetCenter: [-1,12],\n              color: '#fff',\n              fontSize:'22px'\n            },\n            pointer: {\n              show: false,\n            },\n            axisTick: {\n              show: false,\n            },\n            axisLine: {\n              show: false,\n            },\n            splitLine: {\n              show: false,\n            },\n            axisLabel: {\n              show: false,\n            },\n            // \u4e2d\u95f4\u7684\u5b57\u548c\u6570\u5b57 \u6570\u636e\n            data: [\n              {\n                value: this.totalRiskCount,\n                name:'\u603b\u98ce\u9669\u6570',\n                title:{// \u914d\u7f6e\u201c\u603b\u98ce\u9669\u6570\u201d\u7684\u6837\u5f0f\n                  show:true,\n                  color: '#fff',\n                  offsetCenter:[0,'20%']// \u914d\u7f6e\u201c\u603b\u98ce\u9669\u6570\u201d\u7684\u4f4d\u7f6e\n                }\n              },\n\n            ],\n          },\n</code></pre></p>"},{"location":"technology/web/echartsPie/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u5176\u5b9e\u901a\u8fc7graphic\u4e5f\u53ef\u540c\u65f6\u8bbe\u7f6e\u4e2d\u95f4\u7684\u6587\u5b57\uff0c\u4e5f\u53ef\u8c03\u8282\u6587\u5b57\u7684\u4f4d\u7f6e\uff0c\u4f46\u662f\u5982\u679c\u6587\u5b57\u662f\u52a8\u6001\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u4e00\u76f4\u5c45\u4e2d\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/","title":"es6\u65b0\u589e\u77e5\u8bc6","text":""},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#\u4e00es6\u4e2d\u65b0\u589e\u7684\u7279\u6027","title":"\u4e00\u3001ES6\u4e2d\u65b0\u589e\u7684\u7279\u6027","text":""},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#1\u5757\u7ea7\u4f5c\u7528\u57df","title":"1.\u5757\u7ea7\u4f5c\u7528\u57df","text":"<p>ES6\u4e2d\u65b0\u589e\u7684\u5757\u7ea7\u4f5c\u7528\u57df\u4e3b\u8981\u662f\u65b0\u589elet/const\u5e26\u6765\u7684 let\u7279\u6027\uff1a 1. \u4e0d\u5141\u8bb8\u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u4e0b\u91cd\u590d\u58f0\u660e\u53d8\u91cf\uff1b 2. let\u62e5\u6709\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u8fd9\u610f\u5473\u7740\u5728 if \u8bed\u53e5\u3001for \u5faa\u73af\u3001while \u5faa\u73af\u7b49\u4ee3\u7801\u5757\u4e2d\u58f0\u660e\u7684 let \u53d8\u91cf\uff0c\u53ea\u5728\u8be5\u4ee3\u7801\u5757\u5185\u6709\u6548\u3002    const\u7279\u6027 3. const\u4e5f\u62e5\u6709\u5757\u7ea7\u4f5c\u7528\u57df\uff1b 4. \u58f0\u660e\u65f6\u5fc5\u987b\u8fdb\u884c\u521d\u59cb\u5316\u8d4b\u503c\uff0c\u4e14\u8d4b\u503c\u540e\u4e0d\u80fd\u518d\u91cd\u65b0\u8d4b\u503c\u4fee\u6539\u5176\u503c\uff1b 5. const\u58f0\u660e\u7684\u53d8\u91cf\u5b9e\u9645\u4e0a\u4e0d\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u53ea\u662f\u53d8\u91cf\u6307\u5411\u7684\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e0d\u53ef\u53d8\uff0c\u5bf9\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6765\u8bf4\uff0c\u53d8\u91cf\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u4e2d\u5b58\u7684\u5c31\u662f\u6570\u636e\u672c\u8eab\uff0c\u7ed9\u6211\u4eec\u5e26\u6765\u7684\u89c2\u611f\u5c31\u662f\u58f0\u660e\u540e\u7684\u53d8\u91cf\u4e0d\u53ef\u53d8\uff1b\u4f46\u5982\u679c\u58f0\u660e\u7684\u662f\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0cconst\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u4e2d\u5b58\u7684\u662f\u6570\u636e\u7684\u6307\u9488\uff0c\u6307\u9488\u6307\u5411\u662f\u4e0d\u53ef\u53d8\u5f97\uff0c\u4f46\u662f\u53ef\u4ee5\u6539\u53d8\u6307\u9488\u6307\u5411\u5730\u5740\u4e2d\u7684\u6570\u636e</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#2\u7bad\u5934\u51fd\u6570","title":"2.\u7bad\u5934\u51fd\u6570","text":"<p>\u7bad\u5934\u51fd\u6570\u5728\u4e3a\u5904\u7406\u4f5c\u7528\u57df\u548cthis\u6307\u5411\u95ee\u9898\u65f6\u63d0\u4f9b\u4e86\u66f4\u76f4\u63a5\u7684\u95ee\u9898 \u7bad\u5934\u51fd\u6570\u7684\u7279\u6027\uff1a 1. \u7bad\u5934\u51fd\u6570\u672c\u8eab\u662f\u4e0d\u5177\u6709\u4e0a\u4e0b\u6587\u7684\uff0c\u800c\u662f\u7ee7\u627f\u5916\u5c42\u51fd\u6570\u7684 this \u503c\uff1b\u8fd9\u6837\u5728\u5904\u7406\u56de\u8c03\u51fd\u6570\u548c\u5bf9\u8c61\u65b9\u6cd5\u65f6\u975e\u5e38\u6709\u6548\uff0c\u53ef\u4ee5\u907f\u514dthis\u6307\u5411\u9519\u8bef\u7684\u95ee\u9898 2. \u7bad\u5934\u51fd\u6570\u4e0d\u80fd\u4f7f\u7528 new \u64cd\u4f5c\u7b26\u6765\u521b\u5efa\u5b9e\u4f8b\uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u81ea\u5df1\u7684 prototype \u5c5e\u6027\u3002 3. \u7bad\u5934\u51fd\u6570\u6ca1\u6709\u81ea\u5df1\u7684 arguments \u5bf9\u8c61\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5269\u4f59\u53c2\u6570\u6765\u83b7\u53d6\u53c2\u6570\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#3\u89e3\u6784\u8d4b\u503c","title":"3.\u89e3\u6784\u8d4b\u503c","text":"<p>ES6\u4e2d\u89e3\u6784\u8d4b\u503c\u662f\u65b9\u4fbf\u6570\u636e\u7684\u63d0\u53d6\u548c\u8d4b\u503c\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u7ec4\u548c\u5bf9\u8c61\u64cd\u4f5c\u4e2d\u4f7f\u7528\uff0c\u5b83\u5141\u8bb8\u4ece\u6570\u7ec4\u6216\u5bf9\u8c61\u4e2d\u63d0\u53d6\u503c\uff0c\u5e76\u5c06\u5176\u8d4b\u7ed9\u53d8\u91cf\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#4\u6a21\u677f\u5b57\u7b26\u4e32","title":"4.\u6a21\u677f\u5b57\u7b26\u4e32","text":"<p>ES6\u4e2d\u7684\u6a21\u7248\u5b57\u7b26\u4e32\u65b9\u4fbf\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5\u5904\u7406\uff0c\u4f7f\u7528\u53cd\u5f15\u53f7\u8fdb\u884c\u8868\u793a\uff08`\uff09\uff0c\u5177\u4f53\u793a\u4f8b\uff1a</p> <pre><code>let job = \"\u7a0b\u5e8f\u5458\",\n  salary = \"100\";\nlet say = `\u6211\u7684\u5de5\u4f5c\u662f${job}, \u6211\u6bcf\u6708\u53ef\u4ee5\u6323${salary}\u5927\u6d0b\uff0c\u771f\u5f00\u5fc3\uff01`;\n</code></pre>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#5\u6269\u5c55\u8fd0\u7b97\u7b26","title":"5.\u6269\u5c55\u8fd0\u7b97\u7b26","text":"<p>ES6 \u7684\u6269\u5c55\u8fd0\u7b97\u7b26\uff08...\uff09\u662f\u4e00\u79cd\u65b9\u4fbf\u7684\u64cd\u4f5c\u7b26\uff0c\u6709\u8bb8\u591a\u53ef\u4ee5\u901a\u8fc7\u5176\u6269\u5c55\u51fa\u6765\u7684\u529f\u80fd \u5c06\u6570\u7ec4\u5c55\u5f00\uff1a</p> <p><pre><code>console.log(...[1,2,3])\n</code></pre> \u6570\u7ec4\u62f7\u8d1d\uff1a</p> <p><pre><code>let arr = [1, 2, [3, 4]];\nlet arr1 = [...arr];\n</code></pre> \u5408\u5e76\u6570\u7ec4\u6216\u5bf9\u8c61 <pre><code>var arr1 = [0, 1, 2];\nvar arr2 = [3, 4, 5];\nvar arr3 = [...arr1, ...arr2];\n</code></pre> \u5b57\u7b26\u4e32\u8f6c\u6570\u7ec4 <pre><code>const title = \"china\";\nconst charts = [...title];\nconsole.log(charts); // \u8f93\u51fa\uff1a['c', 'h', 'i', 'n', 'a']\n</code></pre> \u6570\u7ec4\u53bb\u91cd</p> <pre><code>const arrayNumbers = [1, 5, 9, 3, 5, 7, 10, 4, 5, 2, 5];\nconst newNumbers = [...new Set(arrayNumbers)];\nconsole.log(newNumbers); // \u8f93\u51fa\uff1a[1, 5, 9, 3, 7, 10, 4, 2]\n</code></pre>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#6\u7c7b","title":"6.\u7c7b","text":"<p>ES6\u4e2d\u5f15\u5165\u4e86\u7c7b\u7684\u6982\u5ff5\uff0c\u4f7f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5728 JavaScript \u4e2d\u66f4\u52a0\u6e05\u6670\u548c\u76f4\u89c2\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#7\u6a21\u5757\u5316","title":"7.\u6a21\u5757\u5316","text":"<p>ES6\u4e2d\u5f15\u5165\u4e86\u6a21\u5757\u5316\u7f16\u7a0b\u7684\u6982\u5ff5\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u5c06\u4ee3\u7801\u7ec4\u7ec7\u6210\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u7ba1\u7406\u4ee3\u7801\u7684\u590d\u6742\u6027\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u91cd\u7528\u6027\u3002 ES6\u6a21\u5757\u5316\u7684\u91cd\u70b9\u5728\u4e8eimport\u548cexport\u4e24\u4e2a\u5173\u952e\u5b57\uff0c\u901a\u8fc7export\u53ef\u4ee5\u5bfc\u51fa\u6a21\u5757\u4e2d\u7684\u51fd\u6570\uff0c\u5bf9\u8c61\u6216\u8005\u662f\u4efb\u4f55\u503c\uff1b\u5728\u9700\u8981\u4f7f\u7528\u67d0\u4e2a\u6a21\u5757\u7684\u5730\u65b9\u901a\u8fc7import\u6765\u5f15\u5165\u6a21\u5757\u8fdb\u884c\u4f7f\u7528</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#8promise","title":"8.promise","text":"<p>promise\u662fES6\u4e2d\u63d0\u4f9b\u7684\u4e00\u79cd\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u7684\u65b9\u6cd5\uff0c\u76f8\u6bd4\u8f83\u4e8e\u4f20\u7edf\u7684\u56de\u8c03\u51fd\u6570\u800c\u8a00\uff0cpromise\u63d0\u4f9b\u4e86\u66f4\u52a0\u5b8c\u6574\u7684\u63a7\u5236\u6d41\u548c\u9519\u8bef\u5904\u7406\u673a\u5236\uff1b\u4e86\u89e3\u5230\u5f02\u6b65\u4efb\u52a1\u65f6\uff0c\u4e5f\u53ef\u53bb\u4e86\u89e3\u4e0b\u5f02\u6b65\u4efb\u52a1\u4e2d\u7684\u5b8f\u4efb\u52a1\u548c\u5fae\u4efb\u52a1\u3002 promise\u8868\u793a\u4e00\u4e2a\u5c1a\u672a\u5b8c\u6210\u4f46\u662f\u6700\u7ec8\u4f1a\u5b8c\u6210\u7684\u64cd\u4f5c\u7684\u5bf9\u8c61\u3002\u4e3b\u8981\u6709\u4e09\u79cd\u72b6\u6001\uff1a pengding\uff1a \u521d\u59cb\u72b6\u6001\uff0c\u65e2\u4e0d\u662f\u6210\u529f\u4e5f\u4e0d\u662f\u5931\u8d25 Fullfilled\uff1a \u8868\u793a\u64cd\u4f5c\u6267\u884c\u6210\u529f Rejected\uff1a \u8868\u793a\u64cd\u4f5c\u5931\u8d25 \u521b\u5efapromise\u7684\u5b9e\u4f8b\u65f6\uff0c\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8be5\u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5e26\u6709\u4e24\u4e2a\u53c2\u6570\u7684\u6267\u884c\u5668\u51fd\u6570\uff08reslove\u548creject\uff09</p> <p><pre><code>const promise = new Promise((resolve, reject) =&gt; {\n    // \u5f02\u6b65\u64cd\u4f5c\n    setTimeout(() =&gt; {\n        try {\n            const result = 'Success!';\n            resolve(result); // \u6210\u529f\u65f6\u8c03\u7528 resolve\n        } catch (error) {\n            reject(error); // \u5931\u8d25\u65f6\u8c03\u7528 reject\n        }\n    }, 1000);\n});\npromise\n    .then(result =&gt; {\n        console.log('Success:', result);\n    })\n    .catch(error =&gt; {\n        console.error('Error:', error);\n    });\n</code></pre> promise\u4e2d\u7684\u4e00\u7cfb\u5217\u65b9\u6cd5\uff1a then\uff1a  \u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7528\u4e8e\u5904\u7406promise\u8fd4\u56de\u6210\u529f\u7684\u7ed3\u679c catch\uff1a  \u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7528\u4e8e\u5904\u7406promise\u5931\u8d25\u7684\u7ed3\u679c finally\uff1a  \u65e0\u8bbapromise\u6267\u884c\u7684\u7ed3\u679c\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884cfinally\u4e2d\u7684\u7ed3\u679c promise\u8fd8\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff0c\u53ef\u4ee5\u8fde\u7eed\u7684\u8c03\u7528then\uff0ccatch\u548cfinally promise.all()\u4f1a\u7b49\u5f85\u6240\u6709\u7684promise\u6267\u884c\u5b8c\u6bd5\u540e\u518d\u53bb\u6267\u884c\u540e\u7eed\u64cd\u4f5c\uff0c\u5982\u679c\u6709\u4efb\u4f55\u4e00\u4e2apromise\u6267\u884c\u5931\u8d25\u90fd\u4f1a\u62d2\u7edd\u5e76\u4e14\u4f1a\u5728catch\u4e2d\u8fd4\u56de\u7b2c\u4e00\u4e2a\u88ab\u62d2\u7edd\u7684\u539f\u56e0 <pre><code>const promises = [\n    new Promise(resolve =&gt; setTimeout(() =&gt; resolve('First'), 1000)),\n    new Promise(resolve =&gt; setTimeout(() =&gt; resolve('Second'), 2000)),\n    new Promise(resolve =&gt; setTimeout(() =&gt; resolve('Third'), 3000))\n];\nPromise.all(promises)\n    .then(results =&gt; {\n        console.log('All promises resolved:', results);\n    })\n    .catch(error =&gt; {\n        console.error('One of the promises rejected:', error);\n    });\n</code></pre> promise.race()\u65b9\u6cd5\u7528\u4e8e\u7b49\u5f85\u4f20\u5165\u7684 Promise \u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b8c\u6210\uff08\u6210\u529f\u6216\u5931\u8d25\uff09\u3002\u4e00\u65e6\u6709\u4e00\u4e2a promise\u5b8c\u6210\uff0cpromise.race() \u5c31\u4f1a\u7acb\u5373\u8fd4\u56de\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#9mapset","title":"9.Map/Set","text":"<p>Map\u548cSet\u662fES6\u4e2d\u65b0\u589e\u7684\u4e24\u79cd\u6570\u636e\u7ed3\u6784\uff0c Map\uff1a \u662f\u4e00\u79cd\u96c6\u5408\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u952e\u503c\u5bf9\uff0c\u4e0ejs\u4e2d\u7684\u666e\u901a\u7684\u5bf9\u8c61\u4e0d\u540c\u7684\u662f\uff0cMap\u4e2d\u7684\u952e\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e\uff0c\u751a\u81f3\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002 \u521b\u5efa\u4e00\u4e2a\u65b0\u7684map\u5bf9\u8c61 <pre><code>const myMap = new Map();\n</code></pre> \u8fd8\u53ef\u901a\u8fc7set\uff0cget\uff0chas\uff0cdelete\uff0cclear\u7b49\u65b9\u6cd5\u5bf9Map\u8fdb\u884c\u64cd\u4f5c Set\uff1a set\u4e5f\u662f\u4e00\u79cd\u96c6\u5408\u7c7b\u578b\uff0c\u5b58\u50a8\u552f\u4e00\u503c\uff0c\u5b83\u4e0eMap\u7684\u533a\u522b\u5728\u4e8eSet\u4e2d\u4e0d\u5b58\u50a8\u952e\uff0c\u53ea\u5b58\u50a8\u503c \u521b\u5efa\u4e00\u4e2a\u65b0\u7684Set\u5bf9\u8c61 <pre><code>const mySet = new Set();\n</code></pre> Set\u4e2d\u4e5f\u6709\u4e00\u7cfb\u5217\u7684add\uff0chas\uff0cdelete\uff0cclear\u7b49\u65b9\u6cd5</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#11symbol","title":"11.symbol","text":"<p>Symbol \u662f\u4e00\u79cd\u65b0\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u521b\u5efa\u552f\u4e00\u7684\u952e\u540d\uff0c\u7279\u522b\u662f\u5728\u5bf9\u8c61\u5c5e\u6027\u548c\u67d0\u4e9b\u573a\u666f\u4e0b\u7684\u6807\u8bc6\u7b26\u4e0a\u3002Symbol \u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u89e3\u51b3\u4e00\u4e9b\u4f20\u7edf\u952e\u540d\uff08\u5982\u5b57\u7b26\u4e32\u952e\u540d\uff09\u53ef\u80fd\u5e26\u6765\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u952e\u540d\u51b2\u7a81\u7b49\u3002\u591a\u7528\u4e8e\u7ed9\u5143\u7d20\u521b\u5efa\u5c5e\u6027\u4f7f\u7528</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#12\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668","title":"12.\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668","text":"<p>\u8fed\u4ee3\u5668\uff08Iterator\uff09\u548c\u751f\u6210\u5668\uff08Generator\uff09\u662f\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5b83\u4eec\u4e3a JavaScript \u63d0\u4f9b\u4e86\u66f4\u5f3a\u5927\u7684\u8fed\u4ee3\u548c\u751f\u6210\u6570\u636e\u7684\u80fd\u529b\u3002</p>"},{"location":"technology/web/es6%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86/#13\u5176\u5b83\u65b0\u589e\u5185\u5bb9","title":"13.\u5176\u5b83\u65b0\u589e\u5185\u5bb9","text":"<p>\u9664\u4e0a\u8ff0\u5185\u5bb9\u5916\uff0c\u8fd8\u65b0\u589e\u4e86\u4e00\u4e9b\u6570\u636e\u7ed3\u6784\u7684\u5904\u7406\u65b9\u6cd5\uff0c\u6bd4\u5982\u6570\u7ec4\u7b49\u8fd8\uff0c\u8fd8\u4e3a\u51fd\u6570\u65b0\u589e\u4e86\u4e00\u4e9b\u6269\u5c55</p>"},{"location":"technology/web/git%E5%A4%9A%E4%BB%93%E5%BA%93/","title":"\u672c\u5730\u4ee3\u7801\u8fde\u63a5\u591a\u4e2a\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u4eca\u5929\u5f00\u53d1\u65f6\u9047\u5230\u4e86\u4e00\u4e2a\u60c5\u51b5\uff0c\u5c06\u4e00\u4e2a\u7cfb\u7edfA\u7684\u4e00\u4e2a\u5927\u6a21\u5757\u5355\u72ec\u62bd\u79bb\u51fa\u6765\u505a\u4e00\u4e2a\u7cfb\u7edfB\u3002\u8fd9\u6837\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u5f53\u540c\u6837\u7684\u4e1c\u897f\u5728\u7cfb\u7edfA\u5185\u4fee\u6539\u8fc7\u540e\uff0c\u96be\u9053\u8fd8\u8981\u5728B\u7684\u4ee3\u7801\u4e2d\u518dcv\u4e00\u904d\uff1f\u8fd9\u6837\u4e0d\u514d\u6709\u70b9\u9ebb\u70e6\uff0c\u540e\u9762\u53d1\u73b0\u6709\u5176\u4ed6\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u4e3b\u8981\u601d\u8def\u662f\uff0c\u5728B\u7684\u4ee3\u7801\u4ed3\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e2d\u95f4\u5206\u652f\uff0c\u7528\u4e0e\u5b58\u50a8A\u7684\u4e3b\u5206\u652f\u7684\u4ee3\u7801\u3002\u5728A\u7684\u4ee3\u7801\u4e2d\u4fee\u6539\u4ee5\u540e\uff0c\u901a\u8fc7Cherry-Pick\u5c06\u6307\u5b9a\u7684commit\u5408\u5e76\u5230B\u7684\u5206\u652f\u4e0a\uff0c\u8fd9\u6837\u53ef\u4ee5\u6700\u5c0f\u7a0b\u5ea6\u7684\u5408\u5e76\u9700\u8981\u7684\u4ee3\u7801\u3002</p> <p>\u9996\u5148\u9700\u8981\u5c06B\u7684\u672c\u5730\u4ee3\u7801\u540c\u65f6\u4e0eA\u7684\u8fdc\u7a0b\u4ed3\u5e93\u4e5f\u5efa\u7acb\u8fde\u63a5</p> <pre><code>git remote add target http://xxx.xxx.xxx.xxx:xxxx/web/admin.git\n</code></pre> <p>\u67e5\u770b\u672c\u5730\u4ee3\u7801\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93</p> <p>origin\u662f\u6e90\u4ed3\u5e93\u5730\u5740\uff0ctarget\u662f\u53e6\u5916\u4e00\u4e2a\u76ee\u6807\u4ed3\u5e93\u5730\u5740</p> <pre><code>origin  http://xxx.xxx.xxx.xxx:xxxx/web/admin.git (fetch) \norigin  http://xxx.xxx.xxx.xxx:xxxx/web/admin.git (push)\ntarget  http://xxx.xxx.xxx.xxx:xxxx/web/admin1.git (fetch)\ntarget  http://xxx.xxx.xxx.xxx:xxxx/web/admin1.git (push)\n</code></pre> <p>\u7136\u540e\u672c\u5730\u5efa\u7acb\u4e00\u4e2a\u4e2d\u95f4\u5206\u652f</p> <pre><code>git checkout -b middle-branch\n</code></pre> <p>\u5207\u6362middle-branch\u540e\uff0c\u62c9\u53d6A\u4e2d\u7684\u4e3b\u5206\u652f\u7684\u4ee3\u7801</p> <pre><code>git pull target release  --allow-unrelated-histories // \u5141\u8bb8\u4e24\u4e2a\u6ca1\u6709\u5171\u540c\u5386\u53f2\u8bb0\u5f55\u7684\u5206\u652f\u8fdb\u884c\u5408\u5e76\n</code></pre>"},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/","title":"js\u5b9e\u73b0\u6839\u636e\u6587\u4ef6\u540d\u6392\u5e8f\u529f\u80fd","text":""},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/#\u4e00\u5b9e\u73b0\u529f\u80fd","title":"\u4e00\u3001\u5b9e\u73b0\u529f\u80fd","text":"<p>\u901a\u8fc7js\u5b9e\u73b0\u5bf9\u6587\u4ef6\u6839\u636e\u6587\u4ef6\u540d\u6392\u5e8f\uff0c\u6587\u4ef6\u540d\u6839\u636e\u9996\u5b57\u6bcd\u6392\u5e8f,\u6309\u7167\u6570\u5b57 - \u7279\u6b8a\u5b57\u7b26 - \u5927\u5199\u82f1\u6587 - \u5c0f\u5199\u82f1\u6587 - \u4e2d\u6587\u7684\u987a\u5e8f\u6392\u5e8f</p>"},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/#\u4e8c\u5b9e\u73b0\u601d\u8def","title":"\u4e8c\u3001\u5b9e\u73b0\u601d\u8def","text":""},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/#1\u9996\u5148\u6839\u636e\u6587\u4ef6\u540d\u5c06\u6240\u6709\u6587\u4ef6\u540d\u8fdb\u884c\u5206\u7c7b\u5171\u8ba1\u5206\u4e3a\u56db\u7c7b","title":"1.\u9996\u5148\u6839\u636e\u6587\u4ef6\u540d\u5c06\u6240\u6709\u6587\u4ef6\u540d\u8fdb\u884c\u5206\u7c7b\uff0c\u5171\u8ba1\u5206\u4e3a\u56db\u7c7b\uff1a","text":"<p>\u56e0\u4e3a\u6587\u4ef6\u540d\u5927\u81f4\u53ef\u4ee5\u6309\u7167\u7c7b\u578b\u5206\u4e3a\uff1a\u6570\u5b57\uff0c\u7279\u6b8a\u5b57\u7b26\uff0c\u82f1\u6587\uff0c\u4e2d\u6587\u56db\u79cd\u7c7b\u578b\uff0c\u6211\u4eec\u5728\u6b64\u5904\u7528\u56db\u4e2a\u6570\u7ec4\u5206\u522b\u7ef4\u62a4\u56db\u79cd\u7c7b\u578b\u7684\u6587\u4ef6\u540d <pre><code>let enList = [];// \u82f1\u6587\u6570\u7ec4\nlet cnList = [];//\u4e2d\u6587\u6570\u7ec4\nlet elList = [];//\u6570\u5b57\nlet numList = [];//\u5176\u4ed6\u5b57\u7b26\n</code></pre></p>"},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/#2\u5bf9\u6bcf\u4e00\u4e2a\u6570\u636e\u6309\u7167\u65e2\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u6392\u5e8f","title":"2.\u5bf9\u6bcf\u4e00\u4e2a\u6570\u636e\u6309\u7167\u65e2\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u6392\u5e8f","text":"<p>\u786e\u5b9a\u5b8c\u56db\u79cd\u7c7b\u578b\u7684\u6587\u4ef6\u540d\u6570\u7ec4\u540e\uff0c\u9700\u8981\u5bf9\u6bcf\u4e00\u79cd\u7c7b\u578b\u7684\u6587\u4ef6\u540d\u89c4\u5b9a\u4e00\u79cd\u6392\u5e8f\u89c4\u5219 - \u4e2d\u6587\u6570\u7ec4\u901a\u8fc7localeComparet\u5bf9\u6bd4\u5b57\u7b26\u4e32\u6765\u8fdb\u884c\u6392\u5e8f - \u5176\u4ed6\u6570\u7ec4\u6839\u636e\u5b57\u7b26\u7f16\u7801\u6392\u5e8f</p>"},{"location":"technology/web/js%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%8E%92%E5%BA%8F/#3\u5bf9\u6392\u5e8f\u540e\u7684\u56db\u4e2a\u6570\u7ec4\u62fc\u63a5\u5728\u4e00\u8d77","title":"3.\u5bf9\u6392\u5e8f\u540e\u7684\u56db\u4e2a\u6570\u7ec4\u62fc\u63a5\u5728\u4e00\u8d77","text":"<p>\u5bf9\u6392\u5e8f\u540e\u7684\u6570\u7ec4\u6309\u7167\u65e2\u5b9a\u7684\u89c4\u5219\u62fc\u63a5\u5728\u4e00\u8d77 <pre><code>let result = [...numList, ...elList, ...enList, ...cnList];\n</code></pre> \u5b8c\u6574\u4ee3\u7801\u5b9e\u4f8b\uff1a <pre><code>  data() {\n    return {\n      arr: [\"\u6d4b\u8bd5\u7b2c\u4e00\u5355\u5143\u7b2c\u4e94\u7ae0\", \"\u963f\u91cc\",\"\u6d4b\u8bd5\u7b2c\u4e00\u5355\u5143\u7b2c\u4e00\u7ae0\",\"####\",\"4\u7b2c\u4e8c\",\"aaa\u4e09\", \"\u7b2c3\"],\n    };\n  },\n  mounted() {\n    this.pySort(this.arr);\n  },\n  methods: {\n        pySort(arr, empty) {\n          if (!String.prototype.localeCompare) return null;\n          var result = [];\n          let enList = [];// \u82f1\u6587\u6570\u7ec4\n          let cnList = [];//\u4e2d\u6587\u6570\u7ec4\n          let elList = [];//\u6570\u5b57\n          let numList = [];//\u5176\u4ed6\u5b57\u7b26\n          this.arr.forEach((item) =&gt; {\n            let first = item.slice(0, 1);\n            if (this.isChar(first)) {\n              enList.push(item);\n            } else if (this.isChinese(first)) {\n              cnList.push(item);\n            } else if (this.isNumber(first)) {\n              numList.push(item);\n            } else {\n              elList.push(item);\n            }\n          });\n          enList.sort((a, b) =&gt; {\n            return b.charCodeAt(0) - a.charCodeAt(0);\n          });\n          cnList.sort((a, b) =&gt; {\n            return a.slice(0, 1).localeCompare(b.slice(0, 1), \"zh-Hans-CN\", {\n              sensitivity: \"accent\",\n            });\n          });\n          numList.sort((a, b) =&gt; {\n            return a.charCodeAt(0) - b.charCodeAt(0);\n          });\n          elList.sort((a, b) =&gt; {\n            return a.charCodeAt(0) - b.charCodeAt(0);\n          });\n          result = [...numList, ...elList, ...enList, ...cnList];\n          return result;\n        },\n        isChinese(temp) {\n          var re = /[^\\u4E00-\\u9FA5]/;\n          if (re.test(temp)) {\n            return false;\n          }\n          return true;\n        },\n        isChar(char) {\n          var reg = /[A-Za-z]/;\n          if (!reg.test(char)) {\n            return false;\n          }\n          return true;\n        },\n        isNumber(num) {\n          var re = /^([0-9]+\\.?[0-9]*|-[0-9]+\\.?[0-9]*)$/;\n          if (!re.test(num)) {\n            return false;\n          } else {\n            return true;\n          }\n        },\n      },\n</code></pre></p>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/","title":"let\u548cvar\u7684\u533a\u522b","text":""},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#\u4e00let\u548cvar\u7684\u4f5c\u7528","title":"\u4e00\u3001let\u548cvar\u7684\u4f5c\u7528","text":"<p>\u5728JavaScript\u4e2d\uff0clet\u548cvar\u90fd\u662f\u7528\u4e8e\u5b9a\u4e49\u53d8\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u5b57\uff0c\u4f46\u662f\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u53c8\u6709\u4e00\u4e9b\u533a\u522b</p>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#\u4e8c\u533a\u522b","title":"\u4e8c\u3001\u533a\u522b","text":""},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#1\u4f5c\u7528\u57df","title":"1.\u4f5c\u7528\u57df","text":"<ol> <li>var\uff1a\u901a\u8fc7var\u58f0\u660e\u7684\u53d8\u91cf\u5177\u6709\u51fd\u6570\u4f5c\u7528\u57df\u3002\u8fd9\u8868\u660e\u5982\u679c\u662f\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u4f7f\u7528var\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u53ea\u5728\u5f53\u524d\u51fd\u6570\u5185\u90e8\u53ef\u7528\uff0c\u5982\u679c\u5b9e\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u3002</li> <li>let\uff1a\u901a\u8fc7let\u58f0\u660e\u7684\u53d8\u91cf\u5177\u6709\u5c40\u90e8\u4f5c\u7528\u57df\u3002\u5728\u4efb\u4f55\u7684{}\u4ee3\u7801\u5757\u4e2d\uff08\u5982\u5faa\u73af\u6216\u8005\u6761\u4ef6\u8bed\u53e5\uff09\u58f0\u660e\u7684let\u53d8\u91cf\uff0c\u53ea\u5728\u5f53\u524d\u4ee3\u7801\u5757\u4e2d\u662f\u53ef\u89c1\u7684\u3002</li> </ol>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#2\u53d8\u91cf\u63d0\u5347-hoisting","title":"2.\u53d8\u91cf\u63d0\u5347 (Hoisting)","text":"<ol> <li>var: \u5f53\u4f60\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u65f6\uff0cJavaScript \u4f1a\u5c06 var\u58f0\u660e\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df\u7684\u9876\u90e8\uff0c\u4f46\u4e0d\u4f1a\u63d0\u5347\u53d8\u91cf\u7684\u8d4b\u503c\uff08\u5373\u4f7f\u662f\u7c7b\u4f3c\u4e8evar a=10\uff0c\u4e5f\u662f\u4f1a\u5148\u8fdb\u884c\u58f0\u660e\u518d\u8fdb\u884c\u8d4b\u503c\uff09\u3002\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u5148\u4f7f\u7528\u53d8\u91cf\u518d\u58f0\u660e\u5b83\uff0c\u4f46\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4e00\u4e9b\u610f\u5916\u7684\u884c\u4e3a\u3002 <pre><code>console.log(x); // \u8f93\u51fa undefined\uff0c\u8fd9\u91cc\u5e76\u4e0d\u4f1a\u62a5\u9519\uff0c\u8bf4\u660ex\u58f0\u660e\u7684\u8bed\u53e5\u5df2\u7ecf\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df\u7684\u6700\u9876\u90e8\nvar x = 5;\n</code></pre></li> <li>let: \u867d\u7136 let \u4e5f\u5b58\u5728\u63d0\u5347\u73b0\u8c61\uff0c\u4f46\u662f\u53d8\u91cf\u4f1a\u88ab\u7ed1\u5b9a\u5230\u5176\u58f0\u660e\u7684\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u800c\u4e14\u5728\u58f0\u660e\u4e4b\u524d\u8bbf\u95ee\u8fd9\u4e9b\u53d8\u91cf\u4f1a\u5bfc\u81f4\u4e00\u4e2a ReferenceError\u3002 <pre><code>console.log(y); // \u629b\u51fa ReferenceError\nlet y = 10;\n</code></pre></li> </ol>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#3\u91cd\u590d\u58f0\u660e","title":"3.\u91cd\u590d\u58f0\u660e","text":"<p>var\u662f\u5141\u8bb8\u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185\u58f0\u660e\u591a\u4e2a\u91cd\u590d\u7684\u53d8\u91cf\u7684 <pre><code>var a=10;\nvar a=5;\n</code></pre> \u4f46\u662flet\u4e0d\u5141\u8bb8\u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185\u58f0\u660e\u591a\u4e2a\u91cd\u590d\u7684\u53d8\u91cf\u7684 <pre><code>let b = 1;\nlet b = 2; // \u4f1a\u629b\u51fa SyntaxError: Identifier 'b' has already been declared\n</code></pre></p>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#4\u6682\u5b58\u6b7b\u533a","title":"4.\u6682\u5b58\u6b7b\u533a","text":"<p>\u5148\u89e3\u91ca\u4e00\u4e0b\u4ec0\u4e48\u662f\u6682\u5b58\u6b7b\u533a\uff1a \u6682\u5b58\u6b7b\u533a\u5c31\u662f\u5728JavaScript\u4e2d\uff0c\u53d8\u91cf\u5728\u672a\u88ab\u58f0\u660e\u4e4b\u524d\u662f\u65e0\u6cd5\u88ab\u8bbf\u95ee\u548c\u88ab\u4f7f\u7528\u7684\uff0c\u4f7f\u7528let\u548cconst\u65f6\u4f1a\u51fa\u73b0\u6682\u5b58\u6b7b\u533a 1. var: \u6ca1\u6709\u6682\u5b58\u6b7b\u533a\u7684\u6982\u5ff5\u3002 2. let: \u5728 let \u58f0\u660e\u4e4b\u524d\u8bbf\u95ee\u53d8\u91cf\u4f1a\u5bfc\u81f4\u6682\u5b58\u6b7b\u533a\u9519\u8bef\uff08ReferenceError\uff09\u3002</p>"},{"location":"technology/web/let%E5%92%8Cvar%E7%9A%84%E5%8C%BA%E5%88%AB/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<ol> <li>\u4f7f\u7528 let \u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u5e38\u89c1\u7684\u7f16\u7a0b\u9677\u9631\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u66f4\u6e05\u6670\u7684\u4f5c\u7528\u57df\u89c4\u5219\u3002</li> <li>var \u662f JavaScript \u6700\u521d\u7248\u672c\u7684\u4e00\u90e8\u5206\uff0c\u800c let \u5219\u662f\u5728 ES6 \u4e2d\u5f15\u5165\u7684\u65b0\u7279\u6027\u3002</li> </ol>"},{"location":"technology/web/%E5%89%8D%E7%AB%AF%E7%89%88%E6%9C%AC%E6%A3%80%E6%B5%8B/","title":"\u5b9e\u73b0\u524d\u7aef\u7248\u672c\u68c0\u6d4b\u5e76\u901a\u77e5\u7528\u6237\u5237\u65b0","text":"<p>\u5177\u4f53\u5b9e\u73b0\u529f\u80fd\u662f\uff1a\u524d\u7aef\u4ee3\u7801\u66f4\u65b0\u540e\uff0c\u901a\u77e5\u7528\u6237\u7cfb\u7edf\u7248\u672c\u66f4\u65b0\u8fdb\u884c\u9875\u9762\u5237\u65b0</p> <p>\u4e3b\u8981\u5b9e\u73b0\u601d\u8def\uff1a</p> <p>\u5728\u8fdb\u884c\u6253\u5305\u540e\u6839\u636e\u751f\u6210\u7684app\u6216\u8005chunk-libs\u6587\u4ef6\u7684hash\u540e\u7f00\u751f\u6210\u4e00\u4e2a\u7248\u672c\u53f7\u8f93\u51fa\u5230version.js\u6587\u4ef6\u4e2d\u3002\u5728\u6253\u5305\u751f\u6210index.html\u4e2d\u8bfb\u53d6HTML\u5185\u5bb9\u5e76\u83b7\u53d6hash\u5185\u5bb9\uff0c\u4e0eversion.js\u4e2d\u7684\u7248\u672c\u53f7\u8fdb\u884c\u5bf9\u6bd4\u3002</p> <p>\u83b7\u53d6hash\u503c\u5e76\u4e14\u751f\u6210\u7248\u672c\u53f7\u7684\u65b9\u6cd5</p> <pre><code>const fs = require('fs')\nconst path = require('path')\n\n// \u63d0\u53d6HTML\u4e2d\u8d44\u6e90\u54c8\u5e0c\u503c\u7684\u51fd\u6570\nfunction extractAndConcatContent(htmlContent) {\n  const regex = /(chunk-elementUI|app|chunk-libs)\\.([\\da-fA-F]+)\\.(js|css)/g\n  let match\n  let result = ''\n\n  // \u6b63\u786e\u5faa\u73af\u5904\u7406\u6240\u6709\u5339\u914d\u9879\n  while ((match = regex.exec(htmlContent)) !== null) {\n    result += match[2] // \u62fc\u63a5\u6240\u6709\u54c8\u5e0c\u503c\n  }\n\n  return result\n}\n\n// \u4e3b\u51fd\u6570\uff1a\u8bfb\u53d6HTML\u6587\u4ef6\u5e76\u751f\u6210\u7248\u672cJSON\nfunction generateVersionFile() {\n  const htmlFile = './dist/index.html'\n\n  // \u68c0\u67e5HTML\u6587\u4ef6\u662f\u5426\u5b58\u5728\n  if (!fs.existsSync(htmlFile)) {\n    console.error('index.html\u672a\u627e\u5230')\n    process.exit(1)\n  }\n\n  try {\n    // \u8bfb\u53d6HTML\u5185\u5bb9\n    const htmlContent = fs.readFileSync(htmlFile, 'utf-8')\n\n    // \u63d0\u53d6\u54c8\u5e0c\u503c\n    const hashValue = extractAndConcatContent(htmlContent)\n\n    // \u6784\u5efa\u7248\u672c\u6570\u636e\n    const versionData = {\n      [`accountNjWeb-version`]: hashValue\n    }\n\n    // \u8ba1\u7b97\u8f93\u51fa\u8def\u5f84\n    const outputPath = path.join(__dirname, '..', '..', 'dist', 'version.json')\n\n    // \u5199\u5165JSON\u6587\u4ef6\n    fs.writeFileSync(outputPath, JSON.stringify(versionData, null, 2))\n    console.log('version.json has been created successfully.')\n  } catch (err) {\n    console.error('\u751f\u6210\u7248\u672c\u6587\u4ef6\u5931\u8d25:', err)\n    process.exit(1)\n  }\n}\n\n// \u6267\u884c\u4e3b\u51fd\u6570\ngenerateVersionFile()\n</code></pre> <p>package.json\u4fee\u6539\uff1a\u5728\u6267\u884c\u5b8cbuild\u547d\u4ee4\u540e\u4f1a\u81ea\u52a8\u6267\u884cpostbuild\u547d\u4ee4</p> <pre><code>\"build\": \"cross-env NODE_ENV=production env_config=sls node build/build.js\",\n\"postbuild\": \"node src/utils/generateVersionJson.js\",\n\u6216\u8005\n\"build\": \"cross-env NODE_ENV=production env_config=sls node build/build.js &amp; npm run postbuild\",\n\"postbuild\": \"node src/utils/generateVersionJson.js\",\n</code></pre> <p>\u6821\u9a8c\u7248\u672c\u53f7\u65b9\u6cd5</p> <pre><code>import axios from 'axios'\nimport Vue from 'vue'\n\nexport function extractAndConcatContent(inputString) {\n  let match\n  let result = ''\n  // \u6b63\u5219\u5339\u914djs\u6587\u4ef6\u548ccss\u6587\u4ef6\u7684hash\u503c\uff0c\u62fc\u63a5\u6210\u5b57\u7b26\u4e32\n  const regex = /(chunk-elementUI|app|chunk-libs)\\.([\\da-fA-F]+)\\.(js|css)/g\n  while ((match = regex.exec(inputString)) !== null) {\n    // \u63d0\u53d6\u6355\u83b7\u7ec4\u4e2d\u7684\u5185\u5bb9(\u5373\u4e2d\u95f4\u90e8\u5206)\n    const content = match[2]\n    result += content// \u62fc\u63a5\u5185\u5bb9\n  }\n  return result\n}\nexport async function isNewVersion() {\n  const url = `//${window.location.host}/accountNjWeb/version.json`\n  try {\n    // \u83b7\u53d6version.json\u503c\n    const res = await axios.get(url, { headers: { 'Cache-control': 'no-cache' }})\n    const newVersion = String(res.data[`accountNjWeb-version`])\n    // \u83b7\u53d6\u5f53\u524d\u7f51\u9875\u62fc\u63a5\u7684hash\u503c\n    const localVersion = extractAndConcatContent(document.documentElement.innerHTML)\n    console.log(localVersion)\n    // \u8fdb\u884c\u5bf9\u6bd4\uff0c\u82e5\u662f\u4e0d\u540c\u5219\u63d0\u793a\u5237\u65b0\u7f51\u9875\n    if (localVersion !== newVersion) {\n      Vue.prototype.$confirm('\u5f53\u524d\u7cfb\u7edf\u6709\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u8bf7\u5237\u65b0\u9875\u9762', '\u63d0\u793a', {\n        confirmButtonText: '\u786e\u5b9a',\n        cancelButtonText: '\u7a0d\u540e',\n        type: 'warning',\n        showClose: false,\n        closeOnclickModel: false\n      }).then(() =&gt;\n        window.location.reload(true)\n      )\n    }\n  } catch (error) {\n    console.log('\u83b7\u53d6\u7ebf\u4e0a\u7248\u672c\u53f7\u5931\u8d25utils/version.js', error)\n  }\n}\n</code></pre> <p>\u5728APP.vue\u4e2d\uff0c\u4e09\u5206\u949f\u6821\u9a8c\u4e00\u6b21</p> <pre><code>  mounted(){\n    isNewVersion()\n    this.judgeVersion = setInterval(() =&gt; {\n      isNewVersion()\n    }, 180000)\n  }\n</code></pre>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/","title":"\u9ed8\u8ba4\u5bfc\u51fa\u548c\u547d\u540d\u5bfc\u51fa","text":"<p>\u9ed8\u8ba4\u5bfc\u51fa\u548c\u547d\u540d\u5bfc\u51fa\u662f\u7f16\u7a0b\u4e2d\u6a21\u5757\u5bfc\u51fa\u7684\u4e24\u79cd\u57fa\u672c\u7c7b\u578b\uff0c\u5b83\u5141\u8bb8\u5c06\u51fd\u6570\uff0c\u5bf9\u8c61\u6216\u8005\u539f\u59cb\u503c\u4ece\u6a21\u5757\u4e2d\u8fdb\u884c\u5bfc\u51fa\uff0c\u7136\u540e\u5728\u53e6\u5916\u4e00\u4e2a\u6a21\u5757\u4e2d\u5f15\u5165\u4f7f\u7528\u3002</p>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#\u4e00\u9ed8\u8ba4\u5bfc\u51fa","title":"\u4e00\uff0c\u9ed8\u8ba4\u5bfc\u51fa","text":""},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#1\u5b9a\u4e49","title":"1\uff0c\u5b9a\u4e49","text":"<p>\u9ed8\u8ba4\u5bfc\u51fa\u662f\uff0c\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u5bfc\u51fa\u9879\uff0c\u8fd9\u4e2a\u5bfc\u51fa\u9879\u53ef\u4ee5\u662f\u51fd\u6570\uff0c\u5bf9\u8c61\uff0c\u7c7b\uff0c\u5b57\u7b26\u4e32\uff0c\u6570\u5b57\u7b49\u5404\u79cd\u7c7b\u578b\u7684\u503c</p>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#2\u8bed\u6cd5","title":"2\uff0c\u8bed\u6cd5","text":"<pre><code>const logFun = function() {\n    console.log('\u6d4b\u8bd5\u4e00\u4e0b')\n}\nexport default logFun;\n</code></pre>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#3\u5bfc\u5165","title":"3\uff0c\u5bfc\u5165","text":"<p>\u5728\u5bfc\u5165\u65f6\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528\u82b1\u62ec\u53f7\u5e76\u4e14\u540d\u5b57\u4e5f\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684</p> <pre><code>import logFun from './xxx'\nlogFun()// \u8f93\u51fa'\u6d4b\u8bd5\u4e00\u4e0b'\n</code></pre> <p>\u6216\u8005\u4f7f\u7528\u81ea\u5b9a\u4e49\u540d\u5b57</p> <pre><code>import funName from './xxx'\nfunName()// \u8f93\u51fa'\u6d4b\u8bd5\u4e00\u4e0b'\n</code></pre>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#\u4e8c\u547d\u540d\u5bfc\u51fa","title":"\u4e8c\uff0c\u547d\u540d\u5bfc\u51fa","text":""},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#1\u5b9a\u4e49_1","title":"1\uff0c\u5b9a\u4e49","text":"<p>\u547d\u540d\u5bfc\u51fa\u5141\u8bb8\u4e00\u4e2a\u6a21\u5757\u5bfc\u51fa\u591a\u4e2a\u503c\uff0c\u6bcf\u4e2a\u503c\u90fd\u6709\u4e00\u4e2a\u540d\u79f0\uff0c\u8fd9\u4e9b\u503c\u53ef\u4ee5\u662f\u7c7b\uff0c\u51fd\u6570\uff0c\u5bf9\u8c61\u7b49\u7b49</p>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#2\u8bed\u6cd5_1","title":"2\uff0c\u8bed\u6cd5","text":"<pre><code>const logFun = function(){\n    console.log('\u6d4b\u8bd5\u4e00\u4e0b')\n}\nexport {logFun}\n</code></pre>"},{"location":"technology/web/%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E5%92%8C%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA/#3\u5bfc\u5165_1","title":"3\uff0c\u5bfc\u5165","text":"<p>\u5728\u5bfc\u5165\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u82b1\u62ec\u53f7\uff0c\u5e76\u4e14\u9700\u8981\u660e\u786e\u7684\u652f\u51fa\u5bfc\u5165\u7684\u503c\u7684\u540d\u79f0\uff0c\u4f8b\u5982\uff1a</p> <pre><code>import {logFun} from './xxx'\nlogFun()//\u8f93\u51fa'\u6d4b\u8bd5\u4e00\u4e0b'\n</code></pre>"},{"location":"technology/web/lowCode/first/","title":"first-\u4ece\u96f6\u642d\u5efa\u4e00\u4e2a\u7b80\u6613\u7684\u4f4e\u4ee3\u7801\u5e73\u53f0","text":"<p>\u8f7b\u91cf\u7ea7\u7684\u4f4e\u4ee3\u7801\u5e73\u53f0</p> <p>\u56e0\u4e3a\u6700\u8fd1\u5728\u5b66react\uff0c\u4fbf\u60f3\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u9879\u76ee\uff0c\u6765\u7ec3\u4e60\u4e00\u4e0breact\u3002</p> <p>\u4ece\u96f6\u642d\u5efa\u4e86\u4e00\u4e0b\u7b80\u6613\u7248\u7684\u4f4e\u4ee3\u7801\u5e73\u53f0\uff0c\u8fd9\u4e2a\u7cfb\u5217\u5c06\u4f1a\u6301\u7eed\u66f4\u65b0\uff0c\u4e0d\u65ad\u5730\u5bf9\u8fd9\u4e2a\u9879\u76ee\u8fdb\u884c\u7ef4\u62a4\u589e\u52a0\u529f\u80fd</p> <p>\u4e3b\u9875\u5982\u4e0b\uff0c\u662f\u53ef\u4ee5\u5c55\u793a\u4fdd\u5b58\u540e\u7684\u9875\u9762\u5217\u8868\u7684\uff0c\u76f8\u5e94\u7684\u53ef\u4ee5\u8fdb\u884c\u9884\u89c8\u7f16\u8f91\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u4e5f\u53ef\u8fdb\u884c\u65b0\u589e\u9875\u9762</p> <p>\u9875\u9762\u6570\u636e\u662f\u76f8\u5e94\u7684\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u6240\u4ee5\u4e5f\u4f1a\u6709\u4e00\u4e2a\u4f7f\u7528java\u5f00\u53d1\u7684\u540e\u7aef\u9879\u76ee\u914d\u5957\u4f7f\u7528</p> <p></p> <p>\u64cd\u4f5c\u9875\u9762\u5982\u4e0b\uff1a\u5de6\u4fa7\u7ef4\u62a4\u7ec4\u4ef6\uff0c\u4e2d\u95f4\u662f\u7ec4\u4ef6\u62d6\u62fd\u5e03\u5c40\u533a\uff0c\u53f3\u4fa7\u53ef\u4ee5\u8c03\u6574\u5bf9\u5e94\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u6837\u5f0f\u3002</p> <p>\u4e3b\u8981\u4f7f\u7528\u7684\u6280\u672f\u6808\uff1areact+antdesign+alova+react-router</p> <p></p> <p>\u5bf9\u5e94\u7684github\u4ed3\u5e93\u5730\u5740\uff1ahttps://github.com/ddddkw/tools_web</p> <p>\u5bf9\u5e94\u7684\u540e\u7aef\u9879\u76ee\u4ed3\u5e93\u5730\u5740\uff1ahttps://github.com/ddddkw/tools_web</p>"},{"location":"technology/web/react/reactStyle/","title":"react\u4e2d\u7684\u5c40\u90e8\u6837\u5f0f","text":""},{"location":"technology/web/react/reactStyle/#\u4e00\u6837\u5f0f\u6df7\u6dc6","title":"\u4e00\uff0c\u6837\u5f0f\u6df7\u6dc6","text":"<p>\u5728react\u4e2d\u4e66\u5199\u6837\u5f0f\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u90fd\u662f\u901a\u8fc7\u76f4\u63a5import\u5f15\u5165css\u6587\u4ef6\u7684\u5f62\u5f0f\u5b9e\u73b0\u7684\u3002</p> <pre><code>import './index.css'\n</code></pre> <p>\u4f46\u662f\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6837\u5f0f\u6df7\u6dc6\uff0ccss\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u6837\u5f0f\u90fd\u662f\u5168\u5c40\u6837\u5f0f\u3002</p>"},{"location":"technology/web/react/reactStyle/#\u4e8c\u5c40\u90e8\u6837\u5f0f","title":"\u4e8c\uff0c\u5c40\u90e8\u6837\u5f0f","text":"<p>\u4f7f\u7528\u8fc7vue\u7684\u5e94\u8be5\u90fd\u6bd4\u8f83\u719f\u6089\uff0c\u5728style\u6807\u7b7e\u4e0a\u52a0\u4e00\u4e2ascope\u5c5e\u6027\uff0c\u5f53\u524d\u6807\u7b7e\u5185\u7684\u6240\u6709css\u6837\u5f0f\u90fd\u53ea\u5728\u5f53\u524d\u7ec4\u4ef6\u5185\u751f\u6548\uff0creact\u4e2d\u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff1a</p> <p>\u5bf9css\u6587\u4ef6\u8fdb\u884c\u91cd\u65b0\u547d\u540d\uff0c\u2018mycomponent.module.css\u2019</p> <pre><code>import styles from './index.module.css'\n</code></pre> <p>\u7136\u540e\u9700\u8981\u4fee\u6539global.d.ts\u6587\u4ef6</p> <pre><code>// src/types.d.ts\ndeclare module '*.module.css' {\n    const classes: { [key: string]: string };\n    export default classes;\n}\n</code></pre> <p>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u53ef\u4ee5\u5bfc\u5165\u4efb\u4f55\u4ee5<code>.module.css</code>\u7ed3\u5c3e\u7684\u6587\u4ef6\u3002\u5b83\u58f0\u660e\u4e86\u4e00\u4e2a\u5bf9\u8c61<code>classes</code>\uff0c\u5176\u952e\u662f\u7c7b\u540d\uff08<code>string</code>\u7c7b\u578b\uff09\uff0c\u503c\u662f\u76f8\u5e94\u7684CSS\u7c7b\u540d\uff08\u4e5f\u662f<code>string</code>\u7c7b\u578b\uff09\u3002\u7136\u540e\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u5bfc\u51fa\u4e3a\u9ed8\u8ba4\u5bfc\u51fa\u3002\u5728TypeScript\u4e2d\u4ee5\u7c7b\u578b\u5b89\u5168\u7684\u65b9\u5f0f\u4f7f\u7528CSS\u6a21\u5757\u3002</p>"},{"location":"technology/web/react/redux/","title":"redux\u76f8\u5173\u77e5\u8bc6","text":"<p>\u9996\u5148\u4ecb\u7ecd\u4e00\u4e0bredux</p> <p>redux\u4e5f\u662f\u4e00\u4e2a\u72b6\u6001\u7ba1\u7406\u5e93\uff0c\u5bf9\u4e8e\u6211\u6765\u8bb2\uff0c\u5c31\u662f\u53e6\u5916\u7684\u4e00\u4e2avuex\u3002\u6838\u5fc3\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1aStore\u3001Action \u548c Reducer\u3002</p> <ul> <li>Store\uff1aStore \u662f Redux \u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u5b58\u50a8\u6574\u4e2a\u5e94\u7528\u7684\u72b6\u6001\uff08State\uff09</li> <li>Action\uff1aAction \u662f\u4e00\u4e2a\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\uff0c\u7528\u4e8e\u63cf\u8ff0\u53d1\u751f\u4e86\u4ec0\u4e48\u4e8b\u4ef6</li> <li>Reducer\uff1aReducer \u662f\u4e00\u4e2a\u7eaf\u51fd\u6570\uff0c\u63a5\u6536\u5f53\u524d\u72b6\u6001\u548c Action\uff0c\u8fd4\u56de\u65b0\u7684\u72b6\u6001</li> </ul> <p>\u5728\u4f7f\u7528\u65f6\u4e5f\u662f\u901a\u8fc7dispatch\u8fdb\u884c\u8c03\u7528\u76f8\u5e94\u7684action\u4fee\u6539state\u7684\u503c\u3002\u53ef\u4ee5\u901a\u8fc7subscribe\u6765\u76d1\u542cstate\u7684\u53d8\u5316\uff0c\u5e76\u901a\u8fc7useState\u6765\u66f4\u65b0\u9875\u9762</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u4f7f\u7528redux\u7684\u8fc7\u7a0b\uff1a</p> <pre><code>import {configureStore} from '@reduxjs/toolkit'\n\n// \u6682\u65f6\u5148\u7528\u4e24\u4e2astate\uff0c\u4e00\u4e2a\u662fcomList\uff0c\u7528\u6765\u8868\u793a\u5f53\u524d\u753b\u5e03\u533a\u7684\u7ec4\u4ef6\u5217\u8868\u3002\u4e00\u4e2a\u662fnowCom\uff0c\u7528\u6765\u8868\u793a\u4ece\u5de6\u4fa7\u62d6\u62fd\u7ec4\u4ef6\u7684type\uff08\u5c31\u662f\u4ece\u5de6\u4fa7\u7ec4\u4ef6\u5217\u8868\u62d6\u62fd\u7684\u7ec4\u4ef6\uff09\nconst initialState  = { comList: [], dragCom: '', selectCom:''}\n\n// \u901a\u8fc7dispatch\u8c03\u7528action\u7136\u540e\u901a\u8fc7reducer\u751f\u6210\u6700\u65b0\u72b6\u6001\u7684state\n\n// comReducer\u4f1a\u8fd4\u56de\u4e00\u4e2astate\uff0c\u5373\u4f7f\u662f\u8fdb\u884c\u67d0\u4e9b\u64cd\u4f5c\uff0c\u4e5f\u662f\u4f1a\u8fd4\u56de\u66f4\u65b0\u540e\u7684state\nconst comReducer = (state: any = initialState, action: any) =&gt; {\n    // eslint-disable-next-line no-debugger\n    console.log(action.value,'action.value')\n    // \u6839\u636e\u884c\u4e3a\u6765\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u76f4\u63a5\u8fd4\u56de\u4fee\u6539\u540e\u7684state\u7684\u503c\u5c31\u662f\u5bf9state\u8fdb\u884c\u4fee\u6539\n    switch (action.type) {\n        case 'changeNowCom': {\n            return {...state, dragCom: action.value}\n        }\n        case 'changeComList': {\n            return {...state, comList: action.value}\n        }\n        // \u589e\u52a0selectCom\u7528\u6765\u8868\u793a\u9009\u4e2d\u7684\u8282\u70b9\n        case 'changeSelectCom': {\n            return {...state, selectCom: action.value}\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n\n// \u521b\u5efa store\nconst store = configureStore({\n    reducer: comReducer,\n    middleware: (getDefaultMiddleware) =&gt; getDefaultMiddleware({\n        serializableCheck: false // \u5173\u95ed\u5e8f\u5217\u5316\u68c0\u67e5\n    })\n});\nexport default store;\n</code></pre> <p>\u5305\u62ec\u4e00\u4e9b\u591a\u72b6\u6001\u7ba1\u7406\u7b49\u64cd\u4f5c\uff0c\u5c31\u4e0d\u4e00\u4e00\u8be6\u89e3\u4e86\uff0c\u5199\u8fd9\u7bc7\u6587\u7ae0\u4e3b\u8981\u662f\u60f3\u8bb0\u5f55\u4e0bredux\u4e2d\u7684\u5f02\u6b65\u64cd\u4f5c\uff0c\u521a\u770b\u5230\u7684\u65f6\u5019\u6211\u6709\u70b9\u7591\u60d1\uff0c\u4e00\u4e2a\u72b6\u6001\u7ba1\u7406\u5e93\u4e3a\u4ec0\u4e48\u9700\u8981\u5f02\u6b65\u64cd\u4f5c\u3002</p> <p>\u4e3b\u8981\u8fd8\u662f\u4f7f\u7528redux\u4e2dapplyMiddleware </p> <p>\u4f7f\u7528 Redux Thunk\uff1a</p> <p>\u770b\u4e86\u8fd9\u6bb5\u4ee3\u7801\u4e4b\u540e\u624d\u53d1\u73b0\uff0c\u539f\u672c\u7684redux\u4e2dcreateStore\u65f6\u662f\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5f02\u6b65\u7684\u60c5\u51b5\u5c31\u662fcreateStore\u65f6\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\uff0c\u4f9d\u636e\u51fd\u6570\u5185\u90e8\u5904\u7406\u903b\u8f91\u53ef\u6267\u884c\u591a\u4e2a\u4e0d\u540c\u7684action</p> <pre><code>// \u5b89\u88c5 redux-thunk\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\n// \u5f02\u6b65 action creator\nfunction fetchUser() {\n  return function (dispatch) {\n    dispatch({ type: 'FETCH_USER_REQUEST' }); // \u53d1\u8d77\u8bf7\u6c42\u524d\u7684 action\n\n    return fetch('https://api.example.com/user')\n      .then(response =&gt; response.json())\n      .then(data =&gt; {\n        dispatch({ type: 'FETCH_USER_SUCCESS', payload: data }); // \u6210\u529f\u540e\u7684 action\n      })\n      .catch(error =&gt; {\n        dispatch({ type: 'FETCH_USER_FAILURE', payload: error }); // \u5931\u8d25\u540e\u7684 action\n      });\n  };\n}\n\n// \u8c03\u7528\u5f02\u6b65 action\nstore.dispatch(fetchUser());\n</code></pre> <p>\u5176\u5b83\u7684\u4e00\u4e9b\u4e2d\u95f4\u4ef6\uff0c\u6bd4\u5982Redux Saga\u7b49\uff0c\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3c\u5c31\u4e0d\u4e00\u4e00\u4ecb\u7ecd\u4e86</p>"},{"location":"technology/web/react/router/","title":"react-router","text":"<p>\u8bb0\u5f55\u4e00\u4e0breact-router\u7684\u4f7f\u7528\u8fc7\u7a0b\u3002</p>"},{"location":"technology/web/react/router/#\u4e00\u5b89\u88c5react-router-dom","title":"\u4e00\uff0c\u5b89\u88c5react-router-dom","text":"<pre><code>npm i react-router-dom\n</code></pre>"},{"location":"technology/web/react/router/#\u4e8c\u5728\u9879\u76ee\u4e2d\u5f15\u5165\u5e76\u4f7f\u7528react-router","title":"\u4e8c\uff0c\u5728\u9879\u76ee\u4e2d\u5f15\u5165\u5e76\u4f7f\u7528react-router","text":"<p>\u5728\u9879\u76ee\u4e2d\uff0c\u7531\u4e8e\u6211\u4f7f\u7528\u7684\u662f\u5d4c\u5957\u8def\u7531\uff0c\u6240\u4ee5\u4e3b\u8981\u4f7f\u7528\u7684\u662f\u7ec4\u4ef6\uff0c\u81f3\u4e8e\u5176\u5b83\u7684\u7ec4\u4ef6\uff0c\u5927\u5bb6\u53ef\u67e5\u8be2\u5b98\u7f51\u5982\u4f55\u4f7f\u7528</p> <ul> <li>\u7ec4\u4ef6\u4ecb\u7ecd\uff1aOutlet\u7ec4\u4ef6\u662fReact Router\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u540c\u4e00\u9875\u9762\u5185\u5c55\u793a\u591a\u5c42\u7ea7\u7684UI\u7ed3\u6784\uff0c\u4ece\u800c\u5b9e\u73b0\u5d4c\u5957\u5e03\u5c40\u3002\u5f53\u7236\u8def\u7531\u5339\u914d\u65f6\uff0cOutlet\u4f1a\u6839\u636e\u5b50\u8def\u7531\u7684\u914d\u7f6e\u6e32\u67d3\u76f8\u5e94\u7684\u7ec4\u4ef6\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u5728\u5f00\u53d1\u590d\u6742\u7684\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u65f6\uff0c\u901a\u5e38\u4f1a\u9047\u5230\u9700\u8981\u5d4c\u5957\u8def\u7531\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u4eea\u8868\u76d8\uff08Dashboard\uff09\u9875\u9762\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b50\u9875\u9762\uff0c\u5982\u6d88\u606f\uff08Messages\uff09\u3001\u4efb\u52a1\uff08Tasks\uff09\u7b49\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528Outlet\u7ec4\u4ef6\u6765\u7ba1\u7406\u548c\u6e32\u67d3\u8fd9\u4e9b\u5b50\u9875\u9762\u7684\u5185\u5bb9\u3002</li> <li>\u5de5\u4f5c\u539f\u7406\uff1a\u5f53\u5e94\u7528\u4e2d\u7684\u67d0\u4e2a\u8def\u7531\u88ab\u5339\u914d\u65f6\uff0cReact Router\u4f1a\u6839\u636eRoutes\u7ec4\u4ef6\u4e2d\u7684\u914d\u7f6e\u8fdb\u884c\u8def\u5f84\u89e3\u6790\u3002\u5982\u679c\u7236\u8def\u7531\u5339\u914d\u6210\u529f\uff0cReact Router\u4f1a\u67e5\u627e\u662f\u5426\u6709\u5b50\u8def\u7531\u5339\u914d\u5f53\u524d\u8def\u5f84\u3002\u5982\u679c\u627e\u5230\u5339\u914d\u7684\u5b50\u8def\u7531\uff0c\u5c31\u4f1a\u901a\u8fc7Outlet\u6e32\u67d3\u5bf9\u5e94\u7684\u7ec4\u4ef6\u3002</li> <li>\u9ad8\u7ea7\u7528\u6cd5\uff1aOutlet\u7ec4\u4ef6\u8fd8\u652f\u6301\u4f7f\u7528context\u5c5e\u6027\u4f20\u9012\u6570\u636e\uff0c\u8fd9\u5141\u8bb8\u5728\u7236\u7ec4\u4ef6\u4e0e\u5b50\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u800c\u65e0\u9700\u4f7f\u7528\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u6216\u590d\u6742\u7684props\u4f20\u9012\u3002\u6b64\u5916\uff0cOutlet\u7ec4\u4ef6\u8fd8\u53ef\u4ee5\u7ed3\u5408\u6761\u4ef6\u6e32\u67d3\u548cReact Router\u7684\u52a8\u6001\u8def\u7531\u529f\u80fd\uff0c\u5b9e\u73b0\u590d\u6742\u7684\u8def\u7531\u7ba1\u7406\u3002</li> </ul>"},{"location":"technology/web/react/router/#1\u521b\u5efa\u8def\u7531\u5b9e\u4f8b","title":"1\uff0c\u521b\u5efa\u8def\u7531\u5b9e\u4f8b","text":"<p>index.tsx</p> <pre><code>import {createBrowserRouter} from \"react-router-dom\";\nimport {buildRoutes} from \"./buildPage\";\nimport {homeRoutes} from \"./homePage\";\n\nconst router = createBrowserRouter([\n    ...buildRoutes,\n    ...homeRoutes\n])\nexport default router\n</code></pre> <p>buildPage/index.tsx</p> <pre><code>import BuildPage from '../../views/index'\nconst buildRoutes=[\n    {\n        path:'/BuildPage',\n        element:&lt;BuildPage/&gt;\n    },\n]\nexport {\n    buildRoutes\n}\n</code></pre> <p>homePage/index.tsx</p> <pre><code>import {PageList} from \"../../views/homePage/pageList\";\n\nconst homeRoutes=[\n    {\n        path:'/HomePage',\n        element: &lt;HomePage/&gt;,\n        children:[\n            {\n                path:'PageList',\n                element:&lt;PageList/&gt;,\n                displayName:'\u9875\u9762\u7ba1\u7406'\n            },\n            {\n                path:'ImageManage',\n                element:&lt;ImageManage/&gt;,\n                displayName:'\u56fe\u7247\u7ba1\u7406'\n            }\n        ]\n    },\n    {\n        path:'/',\n        element:&lt;HomePage/&gt;\n    }\n]\nexport {\n    homeRoutes\n}\n</code></pre>"},{"location":"technology/web/react/router/#2\u5177\u4f53\u4f7f\u7528\u9875\u9762","title":"2\uff0c\u5177\u4f53\u4f7f\u7528\u9875\u9762","text":"<p>App.js\u4e2d\u4f7f\u7528Outlet\u6765\u6e32\u67d3\u7b2c\u4e00\u7ea7\u7684\u8def\u7531</p> <pre><code>import './App.css';\n// import Main from './views/index.tsx'\nimport {Outlet, RouterProvider} from 'react-router-dom';\nimport router from \"./routers\";\nimport React from 'react';\nimport 'antd/dist/antd';\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n        &lt;RouterProvider router={router}&gt;\n            {/* \u5e94\u7528\u7684\u5176\u4ed6\u90e8\u5206\uff0c\u5982\u5bfc\u822a\u680f\u3001\u5e03\u5c40\u7ec4\u4ef6\u7b49 */}\n            &lt;Outlet /&gt; {/* Outlet \u7528\u4e8e\u6e32\u67d3\u5f53\u524d\u5339\u914d\u7684\u8def\u7531\u7ec4\u4ef6 */}\n        &lt;/RouterProvider&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre> <p>homePage.tsx-homePage\u4e0b\u7684\u4e8c\u7ea7\u8def\u7531\u5728\u4e00\u7ea7\u8def\u7531\u9875\u9762\u4e0b\u4f7f\u7528\u8fdb\u884c\u6e32\u67d3</p> <pre><code>import Header from \"../components/Header\";\n// import Main from \"./components/index\";\nimport {SubLayout} from \"./components/subLayout\";\nimport './index.css'\nimport {Outlet} from \"react-router-dom\";\nexport function HomePage(){\n    return(\n        &lt;div&gt;\n            &lt;Header homePage={true}&gt;&lt;/Header&gt;\n            &lt;div className={'homeBody'}&gt;\n                &lt;SubLayout&gt;&lt;/SubLayout&gt;\n                &lt;Outlet&gt;&lt;/Outlet&gt;\n                {/*&lt;Main&gt;&lt;/Main&gt;*/}\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre> <p>\u5177\u4f53\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p></p>"},{"location":"technology/web/react/upload/","title":"antdesign-upload\u7ec4\u4ef6\u7684\u4f7f\u7528\u4ee5\u53ca\u6587\u4ef6\u5b58\u50a8\u5c55\u793a","text":"<p>\u5728\u4f7f\u7528\u7684\u8fc7\u7a0b\u4e2d\u6709\u4e00\u4e2a\u5c0f\u529f\u80fd\u662f\uff0c\u524d\u7aef\u4e0a\u4f20\u6587\u4ef6\uff0c\u540e\u7aef\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u3002\u518d\u8fdb\u884c\u67e5\u8be2\u5e76\u5c55\u793a\uff0c\u5176\u4e2d\u9047\u5230\u4e86\u51e0\u4e2a\u5c0f\u70b9\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b</p>"},{"location":"technology/web/react/upload/#\u4e00upload\u7ec4\u4ef6\u7684\u4f7f\u7528","title":"\u4e00\uff0cupload\u7ec4\u4ef6\u7684\u4f7f\u7528","text":"<p>upload\u7ec4\u4ef6\u4e0a\u8bbe\u7f6elistType\u4e3a\"picture-card\"\uff0c\u5c55\u793a\u7f29\u7565\u56fe\u7684\u5f62\u5f0f\uff0c\u540c\u65f6\u4f7f\u7528antd\u4e2d\u7684Image\u7ec4\u4ef6\u8fdb\u884c\u9884\u89c8\u7684\u529f\u80fd\u3002</p> <pre><code>&lt;Upload\n    action=\"http://localhost:1023/beans/image/upload\"\n    listType=\"picture-card\"\n    fileList={fileList}\n    onPreview={handlePreview}\n    onChange={handleChange}\n    onRemove={removeImage}\n    &gt;\n        {uploadButton}\n    &lt;/Upload&gt;\n    {previewImage &amp;&amp; (\n        &lt;Image\n        wrapperStyle={{ display: 'none' }}\n    preview={{\n             visible: previewOpen,\n             onVisibleChange: (visible) =&gt; setPreviewOpen(visible),\n                 afterOpenChange: (visible) =&gt; !visible &amp;&amp; setPreviewImage(''),\n    }}\n    src={previewImage}\n    /&gt;\n        )}\n</code></pre> <p>\u4f7f\u7528\u4e2d\u6b63\u5e38\u4e0a\u4f20\u65f6\u53ef\u4ee5\u9884\u89c8\u7f29\u7565\u56fe\u4ee5\u53ca\u5b8c\u6574\u7684\u56fe\u7684\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u65f6\uff0c\u53ea\u5b58\u50a8\u4e86\u6587\u4ef6\u540d\u548c\u6587\u4ef6\u5185\u5bb9\u4e24\u4e2a\u5b57\u6bb5\u3002\u67e5\u8be2\u51fa\u76f8\u5e94\u6570\u636e\u540e\uff0c\u5c55\u793a\u7f29\u7565\u56fe\u7684\u8bdd\u9700\u8981thumbUrl\u5b57\u6bb5\uff0c\u9884\u89c8\u7684\u8bdd\u9700\u8981preview\u5b57\u6bb5\u3002\u4e14Image\u7ec4\u4ef6\u9884\u89c8\u65f6\u9700\u8981base64\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u8bb0\u5f97\u5904\u7406\u3002</p> <pre><code>const modalList = res.data.map((item: { image: any; })=&gt;{\n  return { ...item,thumbUrl:`data:image/jpeg;base64,${item.image}`,preview:`data:image/jpeg;base64,${item.image}` };})\n</code></pre>"},{"location":"technology/web/react/upload/#\u4e8c\u4e0a\u4f20\u5b8c\u6210\u540e\u7684\u56de\u8c03\u51fd\u6570","title":"\u4e8c\uff0c\u4e0a\u4f20\u5b8c\u6210\u540e\u7684\u56de\u8c03\u51fd\u6570","text":"<p>\u7ffb\u904d\u4e86upload\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u6ca1\u770b\u5230\u6709\u6210\u529f\u540e\u7684\u56de\u8c03\u51fd\u6570\uff0c\u540e\u9762\u770b\u5230\u4e0a\u4f20\u65f6\u5019\u72b6\u6001\u53d8\u5316\u6267\u884c\u7684\u90fd\u662fonChange\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u6700\u521d\u7684\u5199\u6cd5\u5982\u4e0b\uff0c\u8c03\u8bd5\u65f6\u53d1\u73b0\u53ea\u6709uploading\u7684\u72b6\u6001</p> <pre><code>   const handleChange = ({ file, fileList, event }: UploadChangeParam&lt;UploadFile&lt;any&gt;&gt;) =&gt; {\n        if (file.status==='done') {\n            queryList()\n        }\n    };\n</code></pre> <p>\u641c\u7d22\u540e\u53d1\u73b0\uff0c\u9700\u8981\u5728onChange\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u6267\u884c\u5bf9fileList\u8fdb\u884cset\u7684\u65b9\u6cd5\uff0c\u4f1a\u6267\u884c\u5230done\u7684\u72b6\u6001</p> <pre><code>    const handleChange = ({ file, fileList, event }: UploadChangeParam&lt;UploadFile&lt;any&gt;&gt;) =&gt; {\n        setFileList(fileList)\n        if (file.status==='done') {\n            queryList()\n        }\n    };\n</code></pre>"},{"location":"technology/web/react/useState/","title":"\u8bb0\u4e00\u6b21\u4f7f\u7528useState\u7684\u8fc7\u7a0b","text":""},{"location":"technology/web/react/useState/#\u4e00\u4ec0\u4e48\u662fusestate","title":"\u4e00\uff0c\u4ec0\u4e48\u662fuseState","text":"<p>useState\u662freact\u4e2d\u7684\u4e00\u4e2a\u94a9\u5b50\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u6dfb\u52a0\u72b6\u6001\u3002\u5f53\u4f60\u60f3\u8981\u4fee\u6539 <code>useState</code> \u8fd4\u56de\u7684\u72b6\u6001\u6570\u636e\u65f6\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u66f4\u65b0\u51fd\u6570\u3002</p> <p>\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898\u5c31\u662f\u6ca1\u6709\u901a\u8fc7\u66f4\u65b0\u51fd\u6570\u8fdb\u884c\u66f4\u65b0\uff0c\u800c\u662f\u76f4\u63a5\u5bf9\u539f\u59cb\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff0c\u5bfc\u81f4\u6570\u636e\u53d1\u751f\u53d8\u5316\u540e\uff0c\u9875\u9762\u4e0d\u8fdb\u884c\u66f4\u65b0\u3002</p>"},{"location":"technology/web/react/useState/#\u4e8c\u4f7f\u7528\u6b65\u9aa4","title":"\u4e8c\uff0c\u4f7f\u7528\u6b65\u9aa4","text":""},{"location":"technology/web/react/useState/#1\u5bfc\u5165-usestate-\u94a9\u5b50","title":"1\uff0c\u5bfc\u5165 <code>useState</code> \u94a9\u5b50\uff1a","text":"<pre><code>import React, { useState } from 'react';\n</code></pre>"},{"location":"technology/web/react/useState/#2\u58f0\u660e\u53d8\u91cf\u548c\u66f4\u65b0\u51fd\u6570","title":"2\uff0c\u58f0\u660e\u53d8\u91cf\u548c\u66f4\u65b0\u51fd\u6570","text":"<pre><code>const [stateVariable, setStateVariable] = useState(initialState);\n</code></pre> <p>\u8fd9\u91cc <code>stateVariable</code> \u662f\u4f60\u7684\u72b6\u6001\u6570\u636e\u7684\u5f53\u524d\u503c\uff0c<code>setStateVariable</code> \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u66f4\u65b0\u8fd9\u4e2a\u503c\u3002<code>initialState</code> \u662f\u72b6\u6001\u7684\u521d\u59cb\u503c\u3002</p>"},{"location":"technology/web/react/useState/#3\u4f7f\u7528\u53d8\u91cf","title":"3\uff0c\u4f7f\u7528\u53d8\u91cf","text":"<p>\u5728\u7ec4\u4ef6\u4e2d\uff0c\u5c31\u60f3\u4f7f\u7528\u666e\u901a\u53d8\u91cf\u4e00\u6837\u4f7f\u7528\u58f0\u660e\u7684stateVariable\u5373\u53ef</p>"},{"location":"technology/web/react/useState/#4\u8c03\u7528\u66f4\u65b0\u51fd\u6570\u6765\u4fee\u6539\u72b6\u6001","title":"4\uff0c\u8c03\u7528\u66f4\u65b0\u51fd\u6570\u6765\u4fee\u6539\u72b6\u6001","text":"<p>\u5f53\u4f60\u60f3\u8981\u6539\u53d8\u72b6\u6001\u65f6\uff0c\u8c03\u7528 <code>setStateVariable</code> \u51fd\u6570\uff0c\u5e76\u4f20\u5165\u65b0\u7684\u72b6\u6001\u503c\u3002React \u5c06\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\uff0c\u4ee5\u53cd\u6620\u72b6\u6001\u7684\u53d8\u5316\u3002</p> <pre><code>setStateVariable(newValue);\n</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u51fd\u6570\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u5f53\u524d\u72b6\u6001\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u72b6\u6001\u503c\u3002\u8fd9\u5bf9\u4e8e\u57fa\u4e8e\u5f53\u524d\u72b6\u6001\u8ba1\u7b97\u65b0\u72b6\u6001\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>setStateVariable(prevState =&gt; {\n  // \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u72b6\u6001\u503c\n  return prevState + someValue;\n});\n</code></pre>"},{"location":"technology/web/react/nextjs/1/","title":"\u5173\u4e8enextjs\u6846\u67b6\u7684\u7b80\u4ecb","text":"<p>Next.js \u662f\u4e00\u4e2a\u57fa\u4e8e React \u7684 Web \u6846\u67b6\uff0c\u4e3b\u8981\u4f5c\u7528\u662f\u7528\u4e8e\u670d\u52a1\u7aef\u6e32\u67d3\u3002\u63d0\u4f9b\u96f6\u914d\u7f6e\u7684\u9879\u76ee\u7ed3\u6784\u3001\u6587\u4ef6\u7cfb\u7edf\u8def\u7531\u3001\u9884\u6e32\u67d3\u80fd\u529b\u548c\u591a\u79cd\u4f18\u5316\u7b56\u7565</p>"}]}